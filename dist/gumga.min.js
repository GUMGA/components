angular.module("gumga.core",["gumga.services","gumga.controllers","gumga.directives"]),function(){"use strict";angular.module("gumga.controllers",[])}(),function(){"use strict";angular.module("gumga.directives",["gumga.directives.address","gumga.directives.alert","gumga.directives.breadcrumb","gumga.directives.counter","gumga.directives.formbuttons","gumga.directives.manytomany","gumga.directives.manytoone","gumga.directives.menu","gumga.directives.nav","gumga.directives.onetomany","gumga.directives.search","gumga.directives.table","gumga.directives.upload","gumga.directives.form","gumga.directives.translate"])}(),function(){"use strict";angular.module("gumga.services",["gumga.services.address","gumga.services.keyboard","gumga.services.base","gumga.services.utils","gumga.services.alert","gumga.services.translate","gumga.services.webstorage","gumga.services.populate","gumga.services.rest"])}(),function(){"use strict";function e(e,t){var a=['<div class="address" style="padding-left: 0">','    <div class="col-md-8 col-sm-12 col-xs-12" style="padding-left: 0">',"          <accordion>",'                <accordion-group style="margin-top: 1%" is-open="true" heading="{{::title}}">','                      <div class="col-md-12">','                            <label for="input{{::id}}">CEP</label>','                            <div class="input-group">','                                  <input type="text" class="form-control" ng-model="value.zipCode" id="input{{::id}}" ng-keypress="custom($event,value.zipCode)">','                                  <span class="input-group-btn">','                                        <button class="btn btn-primary" type="button" ng-click="searchCep(value.zipCode)" ng-disabled="loader{{::id}}" id="buttonSearch{{::id}}">Search <i class="glyphicon glyphicon-search"></i></button>',"                                  </span>","                            </div>","                      </div>",'                      <div class="col-md-4">','                            <label for="tipoLogradouro"><small>Tipo Logradouro</small></label>','                            <select type="text" ng-model="value.premisseType" class="form-control" ng-options="log for log in factoryData.logs"></select>',"                      </div>",'                      <div class="col-md-5" style="padding-left: 0; padding-right: 0">','                            <label for="Logradouro"><small>Logradouro</small></label>','                            <input type="text" ng-model="value.premisse" class="form-control id="oi"/>',"                      </div>",'                      <div class="col-md-3">','                            <label for="Número"><small> Número </small></label>','                            <input type="text" ng-model="value.number" class="form-control" id="numberInput{{::id}}"/>',"                      </div>",'                      <div class="col-md-12">','                            <label for="Complemento"><small>Complemento</small></label>','                            <input type="text" ng-model="value.information" class="form-control"/>',"                      </div>",'                      <div class="col-md-7">','                            <label for="Bairro"><small> Bairro </small></label>','                            <input type="text" ng-model="value.neighbourhood" class="form-control"/>',"                      </div>",'                      <div class="col-md-5">','                            <label for="Localidade"><small> Localidade </small></label>','                            <input type="text" ng-model="value.localization" class="form-control"/>',"                      </div>",'                      <div class="col-md-4">','                            <label for="UF"><small> UF </small></label>','                            <select ng-model="value.state" class="form-control" ng-options="uf for uf in factoryData.ufs"></select>',"                      </div>",'                      <div class="col-md-4">','                            <label for="País"><small> País </small></label>','                            <select ng-model="value.country" class="form-control" ng-options="pais for pais in factoryData.availableCountries"></select>',"                      </div>",'                      <div class="col-md-4" style="padding-top: 2%">','                            <a class="btn btn-default pull-right" ng-href="{{returnLink(value)}}" target="_blank">Maps <i class="glyphicon glyphicon-globe"></i></a>',"                      </div>","                </accordion-group>","          </accordion>","    </div>","</div>"];return{restrict:"E",scope:{value:"=",onSearchCepStart:"&?",onSearchCepSuccess:"&?",onSearchCepError:"&?"},template:a.join("\n"),link:function(a,n,r,i){function o(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}if(o(a.value)&&(a.value=e.returnFormattedObject()),!r.name)throw"É necessário passar um parâmetro 'name' como identificador para GumgaAddress";a.title=r.title||"Endereço",a.id=r.name,a["loader"+a.id]=!1,a.factoryData={ufs:e.everyUf,logs:e.everyLogradouro,availableCountries:e.availableCountries};var s={searchCepStart:r.onSearchCepStart?a.onSearchCepStart:angular.noop,searchCepSuccess:r.onSearchCepSuccess?a.onSearchCepSuccess:angular.noop,searchCepError:r.onSearchCepError?a.onSearchCepError:angular.noop};a.custom=function(e,t){13==e.charCode?a.searchCep(t):angular.noop},a.returnLink=function(e){return e.number||(e.number=""),"https://www.google.com.br/maps/place/"+e.premisseType+" "+e.premisse+","+e.number+","+e.localization},a.searchCep=function(e){a["loader"+a.id]=!0,s.searchCepStart(),t.get("http://www.gumga.com.br/services-api/public/cep/"+e).success(function(e){s.searchCepSuccess({$value:e}),a["loader"+a.id]=!1,1==parseInt(e.resultado)&&(a.value.premisseType=e.tipo_logradouro,a.value.premisse=e.logradouro,a.value.localization=e.cidade,a.value.neighbourhood=e.bairro,a.value.state=e.uf,a.value.country="Brasil")}).error(function(e){s.searchCepError({$value:e})})},a.value.zipCode&&a.searchCep(a.value.zipCode)}}}e.$inject=["GumgaAddressService","$http"],angular.module("gumga.directives.address",["gumga.services.address"]).directive("gumgaAddress",e)}(),function(){"use strict";function e(e){return{restrict:"EA",scope:!1,compile:function(){function t(t,a,n,r){$.notify({icon:t,title:a,message:n},{type:r,offset:50,timer:100,delay:3500,onShow:e.$broadcast("onNotificationShow"),onClose:e.$broadcast("onNotificationClose"),allow_dismiss:!0,animate:{enter:"animated bounceInRight",exit:"animated bounceOutRight"},template:'<div data-notify="container" class="col-xs-9 col-sm-3 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span> <span data-notify="title"><b>{1}</b></span><br> <span data-notify="message">{2}</span></div>'})}e.$on("dangerMessage",function(e,a){t("glyphicon glyphicon-exclamation-sign",a.title,a.message,"danger")}),e.$on("successMessage",function(e,a){t("glyphicon glyphicon-ok",a.title,a.message,"success")}),e.$on("warningMessage",function(e,a){t("glyphicon glyphicon-warning-sign",a.title,a.message,"warning")}),e.$on("infoMessage",function(e,a){t("glyphicon glyphicon-info-sign",a.title,a.message,"info")})}}}e.$inject=["$rootScope"],angular.module("gumga.directives.alert",[]).directive("gumgaAlert",e)}(),function(){"use strict";function e(e){var t=['<ol class="breadcrumb">','<li ng-repeat="bread in breadcrumbs" ><a ui-sref="{{::bread.state}}">{{::bread.state}}</a></li>',"</ol>"];return{restrict:"E",template:t.join("\n"),replace:!0,link:function(t,a,n){t.$on("breadChanged",function(){t.breadcrumbs=e.breadcrumbs.filter(function(e){return e.state.split(".").length>=2})})}}}e.$inject=["$rootScope"],angular.module("gumga.directives.breadcrumb",[]).directive("gumgaBreadcrumb",e)}(),function(){"use strict";function e(e){return{restrict:"A",link:function(t,a,n){t._max=parseInt(n.gumgaMaxLengthText),isNaN(parseInt(n.gumgaCounter))||(t._max=parseInt(n.gumgaCounter));var r="<p class=\"{{_max <= teste.length ? 'text-danger' : 'text-muted'}}\">{{_max <= "+n.ngModel+'.length ? "Você passou o limite de '+t._max+' caracteres" : _max - '+n.ngModel+'.length + " caracteres restantes" }}</p>';a.after(e(r)(t))}}}e.$inject=["$compile"],angular.module("gumga.directives.counter",[]).directive("gumgaCounter",e)}(),function(){angular.module("gumga.directives.form",["gumga.directives.form.form","gumga.directives.form.errors","gumga.directives.form.error","gumga.directives.form.max.date","gumga.directives.form.max.length","gumga.directives.form.max.number","gumga.directives.form.min.date","gumga.directives.form.min.length","gumga.directives.form.min.number","gumga.directives.form.pattern","gumga.directives.form.range.date","gumga.directives.form.range.number","gumga.directives.form.required","gumga.directives.formbuttons"])}(),function(){"use strict";function e(e,t,a,n){return{restrict:"E",scope:{"do":"&submit",valid:"=","continue":"=?",confirmDirty:"=?"},template:'<div class="full-width-without-margin">   <scope></scope>   <div ng-class="getPosition()">       <label id="continuarInserindo" ng-if="continue" >           <input type="checkbox" name="continuar" ng-model="continue.value"/>           <span>Continuar Inserindo</span>       </label>       <button class="btn btn-warning" style="margin-right: 0.8em" ng-click="back()" type="button"><i class="glyphicon glyphicon-floppy-remove"></i> Back</button>       <button class="btn btn-primary" style="margin-right: 0" ng-click="do()" ng-disabled="!valid" type="button"><i class="glyphicon glyphicon-floppy-saved"></i> Save</button>   </div><div>',require:"^form",link:function(n,r,i,o){i.confirDirty||(n.confirmDirty=!0),t.id||(n.inNew=!0),i["continue"]||(n["continue"]=!1),n.getPosition=function(){return"left"==i.position?"pull-left":"pull-right"},n.back=function(){if(n.confirmDirty&&o.$dirty){var t=a.open({template:'<div>   <section class="modal-body">       <h4>Deseja sair sem salvar as alterações?</h4>   </section>   <div class="modal-footer">       <button class="btn btn-default" ng-click="handleClose(false)">Não</button>       <button class="btn btn-default" ng-click="handleClose(true)">Sim</button>   </div></div>',backdrop:!1,keyboard:!1,size:"sm",controller:["$scope","$modalInstance","$state","$rootScope",function(e,t,a,n){e.handleClose=function(e){t.close(e?!0:!1)},a&&(e.currentState=a.current.name,n.$on("$stateChangeStart",function(e,a,n,r,i){t.dismiss()}))}]});t.result.then(function(t){return t?(e.go(i.back),0):void 0})}else e.go(i.back)}}}}e.$inject=["$state","$stateParams","$modal","$rootScope"],angular.module("gumga.directives.formbuttons",["ui.bootstrap","ui.router"]).directive("gumgaFormButtons",e)}(),function(){"use strict";function e(e,t,a){return{restrict:"E",scope:{left:"=leftList",right:"=rightList",leftFn:"&leftSearch",rightFn:"&rightSearch",postMethod:"&",onListChange:"&?",onNewValueAdded:"&?",onValueVisualizationOpened:"&?",onValueVisualizationClosed:"&?",authorizeAdd:"=?"},transclude:!0,link:function(a,n,r,i,o){function s(e){for(var t in e)e.hasOwnProperty(t)&&(g[t]=null)}function l(){var e=[];a.texts.left&&a.texts.right||e.push("You have'nt provided the content to GumgaManyToMany directive"),e.forEach(function(e){throw e}),u()}function u(){function e(e){return a.right.filter(function(t){return t[r.filterParameter]==e}).length}a.leftAux=a.left.filter(function(t){return 0==e(t[r.filterParameter])?t:void 0})}function c(){var e='<div class="full-width-without-padding">\n   <div class="col-md-6" style="padding-left: 0">\n       <strong><small>{{::labels.left}}</small></strong>\n       <div class="{{showClass()}}">           <input type="text" name="manymanyleft" ng-model="leftFilter" novalidate class="form-control"'+d("left",0)+' ng-change="leftFn({param: leftFilter})" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 300, \'blur\': 0} }"/>\n           <span class="input-group-addon" ng-show="showPlus(leftFilter)">                <button type="button" style="border: 0;background-color: #EEE" ng-click="addNew(leftFilter)"><i class="glyphicon glyphicon-plus"></i></button>           </span>       </div>       <ul class="list-group" style="max-height: 200px;overflow: auto;">\n           <li class="list-group-item" style="display:flex;padding: 7px 15px;" ng-repeat="$value in leftAux '+d("left",1)+'">               <a class="inside-list-anchor" ng-click="removeFromAndAddTo(leftAux,right,$value)">'+a.texts.left+'</a>              <button class="badge" style="background-color: #81AEDA;cursor: pointer;border: 0" ng-click="halp($value)"><i class="glyphicon glyphicon-resize-full"></i></button>           </li>\n       </ul>   </div>\n   <div class="col-md-6" style="padding-right: 0">\n       <strong><small>{{::labels.right}}</small></strong>\n       <input type="text" name="manymanyleft" ng-model="rightFilter" novalidate class="form-control"'+d("right",0)+'/>\n       <ul class="list-group" style="max-height: 200px;overflow: auto;">\n           <li class="list-group-item" style="display:flex;padding: 7px 15px;" ng-repeat="$value in right '+d("right",1)+'">               <a class="inside-list-anchor" ng-click="removeFromAndAddTo(right,leftAux,$value)">'+a.texts.right+'</a>              <button class="badge badge-helper" ng-click="halp($value)"><i class="glyphicon glyphicon-resize-full"></i></button>           </li>\n       </ul>\n   </div>\n</div>\n';n.append(t(e)(a))}function d(e,t){return 0==t?"left"==e&&r.leftFn?'ng-change= "'+r.leftFn+'({text: leftFilter})" ':"right"==e&&r.rightFn?'ng-change= "'+r.leftFn+'({text: rightFilter})" ':"":"left"!=e||r.leftFn?"right"!=e||r.rightFn?"":" | filter: rightFilter":" | filter: leftFilter"}a.left=a.left||[],a.right=a.right||[],r.authorizeAdd||(a.authorizeAdd=!0);var g={};a.texts={left:"",right:""},a.template="",a.labels={left:r.leftLabel,right:r.rightLabel};var m={listChange:r.onListChange?a.onListChange:angular.noop,newValueAdded:r.onNewValueAdded?a.onNewValueAdded:angular.noop,valueVisualizationOpened:r.onValueVisualizationOpened?a.onValueVisualizationOpened:angular.noop,valueVisualizationClosed:r.onValueVisualizationClosed?a.onValueVisualizationClosed:angular.noop};o(a,function(e){angular.forEach(e,function(e){var t=angular.element(e)[0];switch(t.nodeName){case"LEFT-FIELD":a.texts.left=t.innerHTML;break;case"RIGHT-FIELD":a.texts.right=t.innerHTML}}),l()}),c(),a.$watch("left",function(){l(),s(a.left[0])}),a.removeFromAndAddTo=function(e,t,a){e.splice(e.indexOf(a),1),m.listChange({$value:a}),t.push(a)},a.addNew=function(e){a.leftFilter="",a.postMethod({value:e}),m.newValueAdded()},a.showClass=function(){return a.showPlus()?"input-group":""},a.halp=function(t){a.template='<div class="modal-body">\n';for(var n in t)t.hasOwnProperty(n)&&"$$hashKey"!=n&&"oi"!=n&&"version"!=n&&(a.template+='   <div class="form-group">\n',a.template+="       <label><small>"+n+"</small></label>\n",a.template+='       <input type="text" ng-model="$value.'+n+'" disabled class="form-control"/>\n',a.template+="   </div>\n");a.template+='   <div class="modal-footer">\n',a.template+='       <button type="button" class="btn btn-warning" ng-click="back()">Back</button>\n',a.template+="   </div>\n",a.template+="</div>\n",m.valueVisualizationOpened();var r=e.open({template:a.template,size:"sm",controller:["$scope","$value","$modalInstance",function(e,t,a){e.$value=t,e.back=function(){a.dismiss()}}],resolve:{$value:function(){return t}}});r.result.then(function(){m.valueVisualizationClosed()})},a.showPlus=function(){function e(){return a.leftAux.filter(function(e){return e[r.filterParameter]==a.leftFilter}).length<1}function t(){return a.right.filter(function(e){return e[r.filterParameter]==a.leftFilter}).length<1}return 1==a.authorizeAdd?e()&&t():!1},a.doesItHaveClass=function(){return a.left.length>0?"":"input-group"}}}}e.$inject=["$modal","$compile","$timeout"],angular.module("gumga.directives.manytomany",["ui.bootstrap"]).directive("gumgaManyToMany",e)}(),function(){"use strict";function e(e,t,a){e.put("mtoItem.html",'<span bind-html-unsafe="match.label | typeaheadHighlight:query" style="cursor: pointer;"></span>');var n='<div class="full-width-without-padding">';return n+='   <div class="form-group">',n+="       <div ng-class=\"showFullView() || authorizeAdd ? 'input-group' : ''\">",n+='           <input class="form-control"  ng-model="model" type="text" typeahead="$value as $value[field] for $value in proxySearchMethod()">',n+='           <span class="input-group-addon" style="background-color: transparent; padding: 3px 12px;border-left:0" ng-show="showFullView()"> ',n+='               <button class="badge" style="background-color: #6ECFFF;border: 0" ng-click="halp(model)" ><i class="glyphicon glyphicon-resize-full"></i></button>',n+="           </span>",n+='           <span class="input-group-addon" style="padding: 0 0.25%" ng-show="authorizeAdd"> ',n+='               <button type="button" style="border: 0;background-color: transparent" ng-click="addNew(model)" ><i class="glyphicon glyphicon-plus"></i></button>',n+="           </span>",n+="       </div>",n+="   </div>",n+="</div>",{restrict:"E",template:n,require:"^form",scope:{model:"=value",list:"=",searchMethod:"&",postMethod:"&addMethod",field:"@",onNewValueAdded:"&?",onValueVisualizationOpened:"&?",onValueVisualizationClosed:"&?"},link:function(e,n,r,i){function o(e){return(typeof e).toUpperCase().trim()==="string".toUpperCase().trim()&&e.length>1}e.formCtrl=i;var s,l=n.find("input").controller("ngModel"),u={newValueAdded:r.onNewValueAdded?e.onNewValueAdded:angular.noop,valueVisualizationOpened:r.onValueVisualizationOpened?e.onValueVisualizationOpened:angular.noop,valueVisualizationClosed:r.onValueVisualizationClosed?e.onValueVisualizationClosed:angular.noop};e.authorizeAdd=r.authorizeAdd?JSON.parse(r.authorizeAdd):!0,s=r.async?JSON.parse(r.async):!0,e.list=e.list||[],e.$watch("model",function(){o(e.model)?i.$setValidity("GumgaManyToOne",!1):i.$setValidity("GumgaManyToOne",!0)});try{t.bindToElement(n.find("input")[0],"down",function(){l.$setViewValue(" ")})}catch(c){}e.showFullView=function(){return(typeof e.model).toUpperCase().trim()==="object".toUpperCase().trim()&&void 0!=e.model},e.showPlus=function(){return(typeof e.model).toUpperCase().trim()==="string".toUpperCase().trim()&&e.authorizeAdd===!0},e.proxySearchMethod=function(){return e.searchMethod({param:l.$viewValue})},e.addNew=function(t){s?e.postMethod({value:t}).then(function(t){e.model=t}):e.list.push(t)},e.halp=function(e){var t="";t='<div class="modal-body">\n';for(var n in e)e.hasOwnProperty(n)&&"$$hashKey"!=n&&"oi"!=n&&"version"!=n&&"password"!=n&&"object"!=typeof e[n]&&(t+='   <div class="form-group">\n',t+="       <label><small>"+n+"</small></label>\n",t+='       <input type="text" ng-model="$value.'+n+'" disabled class="form-control"/>\n',t+="   </div>\n");t+='   <div class="modal-footer">\n',t+='       <button type="button" class="btn btn-warning" ng-click="back()">Back</button>\n',t+="   </div>\n",t+="</div>\n",u.valueVisualizationOpened();var r=a.open({template:t,size:"sm",controller:["$scope","$value","$modalInstance",function(e,t,a){e.$value=t,e.back=function(){a.dismiss()}}],resolve:{$value:function(){return e}}});r.result.then(function(){u.valueVisualizationClosed()})}}}}e.$inject=["$templateCache","GumgaKeyboard","$modal"],angular.module("gumga.directives.manytoone",["ui.bootstrap","gumga.services.keyboard"]).directive("gumgaManyToOne",e)}(),function(){"use strict";function e(e,t){return{restrict:"E",replace:!0,scope:{},link:function(a,n,r){function i(e){e>=0&&(a.v[e].isActive=!0,i(a.v[e].parent))}function o(e){for(var t=0;t<e.length;t++)for(var n=0;n<a.keys.length;n++)if(e[t].key==a.keys[n])return!0;return!1}a.v=[];var s=0,l=!1;e.get(r.menuUrl).then(function(e){a.dados=e.data},function(e){throw"Erro:"+e}),e.get(r.keysUrl).then(function(e){a.keys=e.data},function(e){throw"Erro:"+e}),a.$watchGroup(["dados","keys"],function(){a.dados&&a.keys&&u()});var u=function(){var e=["<div>"];e.push('<button id="btn-menu" class="btn btn-link" ng-click="mostrarMenu()"><i class="glyphicon glyphicon-align-justify"></i></button>'),e.push('<nav id="menu" class="col-sm-3" name="menu">'),e.push('<ul class="menu-holder">'),e.push('<img ng-src="'+r.image+'" alt="logo" width="40%" class="img-centered">');for(var i=0;i<a.dados.length;i++)d(a.dados[i].key)&&e.push(c(a.dados[i],"menu",{count:-1,label:null}));e.push("</ul>"),e.push("</nav>"),e.push("</div>"),e=e.join("\n"),n.append(t(e)(a))},c=function(e,t,n){a.v[s]={isActive:!1,parent:n.count};var r=location.hash,i=angular.copy(e.URL);if(i="#/"+i.replace(".","/"),r==i)var l=['<li class="'+t+'-option" style="background: #4ca089" >'];else var l=['<li class="'+t+'-option">'];e.filhos.length>0&&o(e.filhos)?l.push('<i  ng-class="v['+s+"].isActive ? ' glyphicon glyphicon-chevron-down ' : 'glyphicon glyphicon-chevron-right'\" class=\"fa "+t+'-color"  ng-click="resetarMenu('+s+')"></i>'):e.icon&&l.push(e.icon_color?'<i  class=" '+e.icon+' " style="color: '+e.icon_color+'" ng-click="resetarMenu('+s+')"></i>':'<i  class=" '+e.icon+' " style="color: #fff" ng-click="resetarMenu('+s+')"></i>'),l.push('<a ui-sref="'+e.URL+'" ng-class="v['+s+"].isActive ? 'is-active' : ' '\""),null===n.label||e.filhos.length>0?l.push('gumga-translate-tag="'+e.label.toLowerCase()+'.menuLabel">'):0===e.filhos.length&&l.push('gumga-translate-tag="'+n.label.toLowerCase()+"."+e.label.toLowerCase()+'">'),l.push(e.label),l.push("</a>"),e.imageUrl&&l.push(e.imageWidth&&e.imageHeight?'<a ui-sref="'+e.URL+'"><img  src="'+e.imageUrl+'" style="width: '+e.imageWidth+"; height: "+e.imageHeight+';" ng-click="resetarMenu('+s+')"></i></a>':'<a ui-sref="'+e.URL+'"><img  src="'+e.imageUrl+'" style="width: 20px; height: 20px;" ng-click="resetarMenu('+s+')"></i></a>');var u=s;if(s++,e.filhos.length>0){l.push('<ul ng-class="v['+(s-1)+"].isActive ? ' submenu-group-ativo' : 'submenu-group'\" class=\"menu-holder\">");for(var g=0;g<e.filhos.length;g++)d(e.filhos[g].key)&&l.push(c(e.filhos[g],"submenu",{count:u,label:e.label}));l.push("</ul>")}return l.push("</li>"),l.join("\n")};a.resetarMenu=function(e){var t;if(a.v[e].isActive){for(t=0;t<a.v.length;t++)a.v[e].isActive=!1;i(a.v[e].parent)}else{for(t=0;t<a.v.length;t++)a.v[t].isActive=!1;i(e)}};var d=function(e){return-1!=a.keys.indexOf(e)};a.mostrarMenu=function(){l=!l;var e=n.find("nav");l?e.addClass("open-menu"):e.removeClass("open-menu")}}}}e.$inject=["$http","$compile"],angular.module("gumga.directives.menu",[]).directive("gumgaMenu",e)}(),function(){"use strict";function e(e,t,a,n,r){var i=['<nav id="navbar">',' <a href="#" class="navbar-logo" style=" float: left;">{{title | uppercase}}</a>',' <span style="color: white; font-size: 1.4em;margin-left: 2%; float: left;"><small>{{info.organization}}</small></span>',' <div class="navbar-form navbar-left" ng-transclude></div>',' <b class="pull-right">','   <img ng-show="info.picture" class="img-circle" style="width: 40px; height: 40px; margin-right:10px;" src="{{info.picture}}" />','   <a href ng-blur="hidePanel()" class="status-navbar" ng-click="showPanelNavBar()">','     <small  style="font-size: 85%;">{{info.name}} &nbsp;&nbsp; <i class="glyphicon glyphicon-triangle-bottom" style="margin-left: 1px"></i> </small>',"   </a>"," </b>",' <span ng-if="multientity" ng-click="treatUrl()" class="glyphicon glyphicon-search btn pull-right" style="color:#fff; padding-top: 1%; margin-right: 5%; height: 100%;"></span>',' <input ng-if="multientity" type="text" id="inputSearch" ng-keyup="submitSearch($event)" style="background: none repeat scroll 0 0 rgba(244, 214, 214, 0.15); border: double; font-size: 14px; outline: 0; color: #fff; height: 100%; margin: 0; border-color: rgba(0, 0, 0, 0); z-index: 2000;" ng-model="search" ng-show="inputVisible" class="navbar-input flip-right" placeholder="Search">',"</nav>",'<div class="nav-panel" ng-show="showPanelNav">',' <div class="panel-body" id="navPanelBody">','   <button ng-repeat="link in navlinks" ng-click="handle(link)" class="btn btn-link" style="display:block;width: 100%;color: black; font-size: 0.9em;"><i class="{{link.glyphicon}}"> </i>{{link.text}} </button>'," </div>","</div>"],o=['<div class="modal-header">Change Password</div>','<div class="modal-body">   <form name="ModalForm" novalidate>   <label> <small>Old Password</small></label>   <input type="password" ng-keyup="validPassword(user.newpass, user.oldpass)" ng-focus="oldPasswordInvalid=false" class="form-control" ng-model="user.oldpass" required/>   <label class="text-danger" style="width: 100%;"  ng-show="oldPasswordInvalid">Esta não é sua senha antiga</label>   <label><small> New Password</small></label>   <input type="password" class="form-control" ng-keyup="validPassword(user.newpass, user.oldpass)" ng-model="user.newpass" required/>   <label class="text-danger" style="width: 100%;"  ng-show="newPasswordInvalid">Por favor insira uma senha diferente da antiga.</label>   <label><small> New Password (again)</small></label>   <input type="password" class="form-control" ng-keyup="validPasswordConfirm(user.newpass,user.newpasscheck)" ng-model="user.newpasscheck" required/>   <label class="text-danger" style="width: 100%;"  ng-show="newPasswordConfirm">Repita a nova senha corretamente.</label></div>','<div class="modal-footer">   <button class="btn btn-primary" ng-click="ok(user)" type="submit" ng-disabled="ModalForm.$invalid || !btnEnabled"> Save</button>   <button class="btn btn-warning" ng-click="cancel()" type="button"> Cancel</button></div></form>'];return{restrict:"E",scope:!1,transclude:!0,template:i.join("\n"),link:function(n,i,s){var l=s.putUrl;"true"!=s.multiEntity&&s.multiEntity||(n.multientity=!0),n[s.putUrl]?angular.noop:l=n[s.putUrl],n.info=t.getSessionStorageItem("user"),n.navlinks=[{text:"Change Password",glyphicon:"glyphicon glyphicon-user",value:"pass"},{text:"Logout",glyphicon:"glyphicon glyphicon-log-out",value:"logout"}],n.inputVisible=!1,n.title=s.title||"",n.treatUrl=function(){n.inputVisible=!n.inputVisible,r(function(){document.getElementById("inputSearch").focus()},200)},n.$on("close",function(){n.showPanelNav=!1}),n.showPanelNavBar=function(){n.showPanelNav=!n.showPanelNav};n.submitSearch=function(t){var a=t.keyCode;13===a&&e.go("multientity",{search:n.search})},n.hidePanel=function(){r(function(){n.showPanelNav=!1},200)},n.handle=function(t){switch(n.showPanelNav=!n.showPanelNav,t.value){case"pass":var r=a.open({template:o.join("\n"),size:"sm",controller:["$scope","$modalInstance","$http","GumgaWebStorage",function(e,t,a,n){var r=n.getSessionStorageItem("user");e.btnEnabled=!1,e.oldPasswordInvalid=!1,e.newPasswordConfirm=!1,e.newPasswordInvalid=!1,e.validPasswordConfirm=function(t,a){e.newPasswordConfirm=t!==a?!0:!1,e.enabledBtn()},e.validPassword=function(t,a){e.user.newpasscheck="",e.newPasswordInvalid=t==a&&t?!0:!1,e.enabledBtn()},e.enabledBtn=function(){e.btnEnabled=e.newPasswordConfirm||e.newPasswordInvalid?!1:!0},e.ok=function(n){a.put(s.putUrl,{user:r.user,password:n.oldpass,newPassword:n.newpass}).success(function(a){"BAD_PASSWORD"==a.response?e.oldPasswordInvalid=!0:"OK"==a.response?(e.$emit("successMessage",{title:"Senha alterada",message:"Sua senha foi alterada com sucesso."}),t.close()):t.close()})},e.cancel=function(){t.dismiss()}}],resolve:{}});r.result.then(function(e){n.selected=e});break;case"logout":e.go(s.state)}},i.find("input").on("keypress",function(e){13==e.keyCode&&n.treatUrl()})}}}e.$inject=["$state","GumgaWebStorage","$modal","$rootScope","$timeout"],angular.module("gumga.directives.nav",["ui.bootstrap"]).directive("gumgaNav",e)}(),function(){"use strict";function e(e,t){var a=['<div class="col-md-12" style="padding-left: 0;padding-right: 0">','   <button type="button" class="btn btn-default" ng-click="newModal()">New</button>','   <ul class="list-group">','       <li ng-repeat="child in children" class="list-group-item">',"           {{::child[property]}}",'           <button type="button" class="btn btn-default pull-right btn-sm" ng-click="newModal(child)"><i class="glyphicon glyphicon-pencil"></i></button>','           <button type="button" class="btn btn-danger pull-right btn-sm" ng-click="removeFromList(child)"><i class="glyphicon glyphicon-remove"></i></button>','       <div class="clearfix"></div></li>',"   <ul>","</div>",'<div class="clearfix"></div>'];return{restrict:"E",template:a.join("\n"),scope:{children:"=",templateUrl:"@",property:"@displayableProperty",name:"@",controller:"@",onDelete:"&?",onValueVisualizationOpened:"&?",onValueVisualizationClosed:"&?",modalTitle:"@"},link:function(a,n,r){function i(e){l.valueVisualizationClosed(),"{}"!==JSON.stringify(a.etty)?a.children.splice(a.children.indexOf(a.etty),1,e):a.children.push(e)}function o(e){l["delete"]({$value:e}),a.children.splice(a.children.indexOf(e),1)}function s(n){a.etty={},n&&(a.etty=n),l.valueVisualizationOpened();var r=e.open({templateUrl:a.templateUrl,controller:a.controller,resolve:{entity:function(){return a.etty},title:function(){return a.name},populateScope:function(){return t.populateScope}}});r.result.then(i)}var l={valueVisualizationOpened:r.onValueVisualizationOpened?a.onValueVisualizationOpened:angular.noop,valueVisualizationClosed:r.onValueVisualizationClosed?a.onValueVisualizationClosed:angular.noop,"delete":r.onDelete?a.onDelete:angular.noop};a.newModal=s,a.removeFromList=o,a.getFromModal=i;r.name||"New";if(!a.children)throw"You must provide a list to GumgaOneToMany";if(!a.templateUrl)throw"You must provide a templateUrl for the modal";if(!a.property)throw"You must provide a property to display in GumgaOneToMany";if(!a.controller)throw"You must provide a controller to the modal"}}}e.$inject=["$modal","$populate"],angular.module("gumga.directives.onetomany",["gumga.services.populate"]).directive("gumgaOneToMany",e)}(),function(){"use strict";angular.module("gumga.directives.search",["gumga.directives.search.search","gumga.directives.search.normalsearch","gumga.directives.search.advancedsearch","gumga.directives.search.advancedlabel","gumga.directives.search.searchhelper"])}(),function(){"use strict";function Table(GumgaUtils,$compile,$rootScope,$state,GumgaKeyboard,$timeout){function LinkFn(scope,elm,attrs,ctrl,transcludeFn){function setColumnConfig(e){e.columns.forEach(function(t){var a={label:GumgaUtils.camelCase(t),field:t};e.headings.push({label:a.label,way:null}),e.columns.splice(e.columns.indexOf(t),1,a)}),transcludeFn(function(t){angular.forEach(t,function(t){if("#text"!=t.nodeName)switch(t.nodeName){case"GUMGA-BOOLEAN-MASK":e.columns.forEach(function(e){e.field==t.getAttribute("column")&&$.extend(e,{trueValue:t.getAttribute("boolean-true"),falseValue:t.getAttribute("boolean-false")})});break;case"BUTTONS-COLUMN":scope.buttonElements=t.children,e.headings.push({label:" ",way:null});break;case"EXTRA-COLUMN":scope.extraElements=t.children,e.headings.push({label:" ",way:null});break;case"OBJECT-COLUMN":scope.objectColumn.push({column:t.getAttribute("column"),value:t.getAttribute("property")});break;case"COLUMN-CLASS":scope.conditionalColumns.push({column:t.getAttribute("column"),conditional:t.getAttribute("conditional-class")})}})}),scope.tableconfig=e,generateTable(scope.tableconfig)}function getConditions(){var e=attrs.rowClass||"";return e.replace(/{/,"").replace(/}/,"").split(",")}function generateTable(e){var t=[];if(scope.pages){var a='<select ng-model="itemsPerPage" ng-change="changeItemsPerPage(itemsPerPage)"><option ng-repeat="p in pages" value="{{ p }}" ng-selected="p == itemsPerPage">{{ p }}</option></select>';t.push(a)}switch(e.size){case"large":t.push('<div class="full-width-without-padding" style="margin-top: 1%"><button class="btn btn-default btn-xs" style="margin-bottom: 0.25%" ng-click="selectAll()">Selecionar todos</button><button class="btn btn-default btn-xs" style="margin-bottom: 0.25%;margin-left:0.25%" ng-click="cleanSearch()"> Limpar pesquisa</button><table class="table table-'+e["class"]+' ">');

break;case"medium":t.push('<div class="col-md-8" style="padding-left:0;padding-right: 0;"><table class="table table-'+e["class"]+'">');break;case"small":t.push('<div class="col-md-4" style="padding-left:0;padding-right: 0;"><table class="table table-'+e["class"]+'">')}t.push("<thead>"),t.push("<tr>"),attrs.sortFunction?(t.push(" <td ng-repeat=\"head in tableconfig.headings track by $index\" ng-click=\"head.label !== ' ' ? sortAux(head) : ''\""),t.push("     ng-class=\"head.label != ' ' ? 'clickable-td' : ' ' \">"),t.push("         <small>{{::head.label}}<i ng-class=\"(head.way != null && head.label !== ' ') ? (head.way === true ? 'glyphicon glyphicon-menu-up' : 'glyphicon glyphicon-menu-down') : ''\"></i></small></td>")):t.push('<td ng-repeat="head in tableconfig.headings track by $index">{{::head.label}}'),t.push(" </td>"),t.push("</tr>"),t.push("</thead>"),t.push("<tbody>"),t.push(e.multi===!1?'<tr style="{{::getClassFromConditionalRow(entity)}}" ng-class="returnClass($index)" ng-repeat="entity in tableconfig.list" class="used" ng-click="handleSingle(entity,$index)" ng-dblclick="goToEdit(entity.id)">'+generateTableCell(e)+"</tr>":'<tr style="{{::getClassFromConditionalRow(entity)}}" ng-class="returnClass($index)" ng-repeat="entity in tableconfig.list" class="used" ng-click="handleMultiple(entity,$index)" ng-dblclick="goToEdit(entity.id)" >'+generateTableCell(e)+"</tr>"),t.push("</tbody>"),t.push("</table></div>"),elm.append($compile(t.join("\n"))(scope))}function checkObject(e){for(var t=0;t<scope.objectColumn.length;t++)if(scope.objectColumn[t].column===e)return"{{::entity."+scope.objectColumn[t].value+"}}";return-1}function getClassFromConditionalCell(e,t){scope.conditionalColumns.forEach(function(t){t.column.toLowerCase().trim()===e.toLowerCase().trim()&&(ColumnObject[t.column]={},t.conditional.replace(/{/,"").replace(/}/,"").split(",").forEach(function(e){var a=e.split(":");ColumnObject[t.column][a[0].trim().replace(/"/g,"")]=a[1].trim()}))})}function generateTableCell(e){var t=[];return e.columns.forEach(function(e){getClassFromConditionalCell(e.field),t.push(e.trueValue?"<td style=\"{{::getStyleFromCell(entity,' "+e.field+" ')}}\">{{::entity."+e.field+" === true? '"+e.trueValue+"' : '"+e.falseValue+"'}}</td>":-1!=checkObject(e.field)?"<td style=\"{{::getStyleFromCell(entity,' "+e.field+" ')}}\">"+checkObject(e.field)+" </td>":"<td style=\"{{::getStyleFromCell(entity,' "+e.field+" ')}}\">{{::entity."+e.field+"}} </td>")}),scope.buttonElements&&t.push("<td style=\"{{::getStyleFromCell(entity,' "+elm.field+" ')}}\">"+getSpecial(scope.buttonElements)+"</td>"),scope.extraElements&&t.push("<td style=\"{{::getStyleFromCell(entity,' "+elm.field+" ')}}\">"+getSpecial(scope.extraElements)+"</td>"),t.join(" ")}function getSpecial(e){var t=[];return angular.forEach(e,function(e){t.push(e.outerHTML)}),t.join(" ")}var eventHandler={select:attrs.onSelect?scope.onSelect:angular.noop,sort:attrs.onSort?scope.onSort:angular.noop};scope.$on("_clean",function(){scope.cleanSearch()});var ColumnObject={};scope.indexes=[],scope.trs=[],scope.$parent.selectedEntities=[],scope.objectColumn=[],scope.conditionalColumns=[];var rawTableConfig={multi:scope.multi,list:[],pages:scope.pages||[10,25,50],sortFn:attrs.sort?scope.sort:angular.noop,sortDf:attrs.sortDefault?attrs.sortDefault.split(","):!1,size:attrs.size||"large","class":attrs.tableClass||"bordered",columns:attrs.columns.split(","),headings:[],translate:attrs.translateEntity},itemsPerPage=window.sessionStorage.getItem("itemsPerPage")||rawTableConfig.pages[0];scope.itemsPerPage=itemsPerPage,scope.$parent.itemsPerPage=itemsPerPage,scope.$watch("list",function(){scope.list&&(scope.$parent.selectedEntities=[],scope.tableconfig.list=scope.list,scope.indexes=[])}),setColumnConfig(rawTableConfig);var selected=!1;if(scope.goToEdit=function(e){$state.go(scope.tableconfig.translate+".edit",{id:e})},scope.changeItemsPerPage=function(e){window.sessionStorage.setItem("itemsPerPage",e),scope.$parent.itemsPerPage=e},scope.selectAll=function(){if(selected)scope.indexes=[],scope.$parent.selectedEntities=[];else{for(var e=0,t=scope.tableconfig.list.length;t>e;e++)scope.indexes.push(e);scope.$parent.selectedEntities=scope.tableconfig.list}selected=!selected},scope.cleanSearch=function(){$rootScope.$broadcast("normal",{field:scope.tableconfig.columns[1],param:""}),$rootScope.$broadcast("advanced",{hql:""}),scope.tableconfig.headings.forEach(function(e){e.way=null})},scope.getClassFromConditionalRow=function(entity){var HelperObject={},conditionsFromTag=getConditions();conditionsFromTag.forEach(function(elm){HelperObject[elm.split(":")[0]]=eval(elm.split(":")[1])});for(var key in HelperObject)if(HelperObject.hasOwnProperty(key)&&HelperObject[key]===!0)return"border-left: 3px solid "+key.trim();return""},scope.getStyleFromCell=function(entity,column){if(ColumnObject[column.trim().toLowerCase()]){var auxObj=ColumnObject[column.trim().toLowerCase()];for(var key in auxObj)if(auxObj.hasOwnProperty(key)&&eval(auxObj[key])===!0)return"border-left: 3px solid "+key.trim()}},rawTableConfig.sortDf){var objSortDefault={field:rawTableConfig.sortDf[0],way:rawTableConfig.sortDf[1]};eventHandler.sort({field:objSortDefault.field}),scope.sort(objSortDefault)}scope.sortAux=function(e){scope.tableconfig.headings.forEach(function(t){t!=e&&(t.way===!0||t.way===!1)&&(t.way=null)});var t=scope.tableconfig.headings.indexOf(e);e.way=!e.way,scope.tableconfig.headings.splice(t,1,e);var a;a=e.way===!0?"asc":"desc",eventHandler.sort({field:e.label.toLowerCase()}),scope.sort({field:e.label.toLowerCase(),way:a})},scope.handleMultiple=function(e,t){GumgaUtils.areNotEqualInArray(scope.indexes,t)||scope.indexes.length<1?(scope.indexes.push(t),scope.$parent.selectedEntities.push(e)):(scope.indexes.splice(scope.indexes.indexOf(t),1),scope.$parent.selectedEntities.splice(scope.$parent.selectedEntities.indexOf(e),1)),eventHandler.select({selected:scope.$parent.selectedEntities})},scope.handleSingle=function(e,t){scope.indexes.length>=1&&(scope.indexes=[],scope.$parent.selectedEntities=[]),scope.selectedIndex=t,scope.indexes.push(t),scope.$parent.selectedEntities.push(e),eventHandler.select({selected:scope.$parent.selectedEntities})},scope.returnClass=function(e){return GumgaUtils.areNotEqualInArray(scope.indexes,e)?"":"info"}}return{restrict:"E",scope:{multi:"=?multiSelection",list:"=values",pages:"=pages",sort:"&?sortFunction",rowClass:"=?",onSelect:"&?",onSort:"&?"},link:LinkFn,transclude:!0}}Table.$inject=["GumgaUtils","$compile","$rootScope","$state","GumgaKeyboard","$timeout"],angular.module("gumga.directives.table",[]).directive("gumgaTable",Table)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(a,n,r){if(!r.gumgaTranslateTag)throw"You must pass a valid value to gumgaTranslateTag";a.__valueToTranslate=r.gumgaTranslateTag,e.getTranslate(a.__valueToTranslate)&&(n[0].childNodes.length>0?(a.child=n[0].childNodes[0],n[0].innerHTML=e.getTranslate(a.__valueToTranslate),n.append(t(a.child)(a))):n[0].innerHTML=e.getTranslate(a.__valueToTranslate))}}}e.$inject=["GumgaTranslateHelper","$compile"],angular.module("gumga.directives.translatetag",["gumga.services.translate.helper","gumga.services.translate"]).directive("gumgaTranslateTag",e)}(),function(){"use strict";angular.module("gumga.directives.translate",["gumga.directives.translate.translatehelper","gumga.directives.translate.translate","gumga.directives.translate.translatetag"])}(),function(){"use strict";function e(e,t,a){var n='<div ng-click="fireClick()" ng-show="flag" class="col-md-1" tooltip="{{::tooltipText}}" tooltip-placement="right">	<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="128px" height="128px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">		<path id="avatar" fill="#cccccc" d="M490.579,383.029c-14.152-22.086-61.763-35.824-108.835-55.453c-47.103-19.633-58.268-26.439-58.268-26.439			l-0.445-45.182c0,0,17.646-13.557,23.127-56.074c11.01,3.198,22.619-16.461,23.237-26.824c0.625-9.98-1.508-37.662-14.981-34.877			c2.754-20.845,4.741-39.586,3.764-49.505c-3.495-36.295-39.23-74.578-94.182-74.578c-54.95,0-90.7,38.283-94.193,74.578			c-0.978,9.919,1.019,28.661,3.758,49.505c-13.455-2.785-15.587,24.897-14.979,34.877c0.635,10.363,12.196,30.021,23.255,26.824			c5.462,42.517,23.122,56.074,23.122,56.074l-0.441,45.182c0,0-11.178,6.807-58.268,26.439			c-47.104,19.629-94.683,33.367-108.851,55.453c-12.7,19.777-8.882,114.875-8.882,114.875h470.946			C499.462,497.904,503.281,402.806,490.579,383.029z"/>	</svg></div>',r='<div class="full-width-without-padding">'+n+'   <img src="#" alt="Uploaded Image" ng-show="!flag" class="img-rounded" style="object-fit: cover"/>   <input type="file" id="upload" ng-hide="true"/>   <div class="col-md-12" style="padding-left: 0">   <button type="button" class="btn btn-link" ng-hide="flag" ng-click="deleteImage()"> Delete Image <span class="glyphicon glyphicon-trash"></span></button></div></div>';return{restrict:"AE",scope:{model:"=attribute",uploadMethod:"&",deleteMethod:"&",tooltipText:"@"},template:r,link:function(e,n,r){var i=t(r.attribute),o=i.assign,s=n.find("input"),l=n.find("img")[0],u=new FileReader;if(e.fireClick=function(){a(function(){document.getElementById("upload").click()})},e.$watch("model",function(){e.model?e.model.bytes&&(e.flag=!1,l.src="data:"+e.model.mimeType+";base64,"+e.model.bytes,l.width=200,l.height=200):e.model={}}),!r.attribute)throw"You must pass an attribute to GumgaUpload";e.flag=!0,e.deleteImage=function(){l.src="",e.flag=!0,s[0].files=[],e.deleteMethod()},s.bind("change",function(){e.$apply(function(){o(e,s[0].files[0]),e.flag=!1,u.onloadend=function(){l.src=u.result,l.width=200,l.height=200;var t=r.attribute.split(".");e.uploadMethod({image:e[t[0]][t[1]]}).then(function(t){e.model.name=t.data})},u.readAsDataURL(s[0].files[0])})})}}}e.$inject=["$http","$parse","$timeout"],angular.module("gumga.directives.upload",[]).directive("gumgaUpload",e)}(),function(){"use strict";function e(){return{everyUf:["AC","AL","AM","AP","BA","CE","DF","ES","GO","MA","MG","MS","MT","PA","PB","PE","PI","PR","RJ","RN","RR","RS","SC","SE","SP","TO"],everyLogradouro:["Outros","Aeroporto","Alameda","Área","Avenida","Campo","Chácara","Colônia","Condomínio","Conjunto","Distrito","Esplanada","Estação","Estrada","Favela","Fazenda","Feira","Jardim","Ladeira","Largo","Lago","Lagoa","Loteamento","Núcleo","Parque","Passarela","Pátio","Praça","Quadra","Recanto","Residencial","Rodovia","Rua","Setor","Sítio","Travessa","Trevo","Trecho","Vale","Vereda","Via","Viaduto","Viela","Via"],availableCountries:["Brasil"],returnFormattedObject:function(){return{zipCode:null,premisseType:null,premisse:null,number:null,information:null,neighbourhood:null,localization:null,state:null,country:null}}}}e.$inject=[],angular.module("gumga.services.address",[]).factory("GumgaAddressService",e)}(),function(){"use strict";function e(){return{$get:function(){return this},__config:{warn:{icon:"glyphicon glyphicon-warning-sign",type:"warning"},danger:{icon:"glyphicon glyphicon-exclamation-sign",type:"danger"},success:{icon:"glyphicon glyphicon-ok",type:"success"},info:{icon:"glyphicon glyphicon-info-sign",type:"info"}},_notify:function(e,t,a,n){var r=this.__config[e],i=n.offset||50,o=n.timer||100,s=n.delay||3500,l=n.alowDismiss||!0,u=n.animationEnter||"animated bounceInRight",c=n.animationExit||"animated bounceOutRight";$.notify({icon:r.icon,title:t,message:a},{type:e,offset:i,timer:o,delay:s,alow_dismiss:l,animate:{enter:u,exit:c},template:'<div data-notify="container" class="col-xs-9 col-sm-3 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span> <span data-notify="title"><b>{1}</b></span><br> <span data-notify="message">{2}</span></div>'})},createWarningMessage:function(e,t,a){a||(a={}),this._notify("warning",e,t,a)},createDangerMessage:function(e,t,a){a||(a={}),this._notify("danger",e,t,a)},createSuccessMessage:function(e,t,a){a||(a={}),this._notify("success",e,t,a)},createInfoMessage:function(e,t,a){a||(a={}),this._notify("info",e,t,a)}}}e.$inject=[],angular.module("gumga.services.alert",[]).provider("GumgaAlert",e)}(),function(){"use strict";function e(e,t){function a(t,a){return a||(a=d),e.get(t,a)}function n(t,a){return e.get(t+"/"+a)}function r(t){return e.get(t+"/new")}function i(e,a){var n=a.map(function(t){return l(e,t)});return t.all(n)}function o(t,a){return e.post(t,a)}function s(t,a){return e.put(t+"/"+a.id,a)}function l(t,a){return e["delete"](t+"/"+a.id)}function u(t,a,n){var r=new FormData;return r.append(a,n),e.post(t+"/"+a+"/",r,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}function c(t,a,n){return e["delete"](t+"/"+a+"/"+n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}var d={};this.get=a,this.getById=n,this.getNew=r,this.deleteAll=i,this.save=o,this.update=s,this.del=l,this.postImage=u,this.deleteImage=c}e.$inject=["$http","$q"],angular.module("gumga.services.base",[]).service("GumgaBase",e)}(),function(){"use strict";function e(){return{formats:{DMY:/^(\d{1,2})\-(\d{1,2})\-(\d{4})$/,YMD:/^(\d{4})\-(\d{1,2})\-(\d{1,2})$/},validateFormat:function(e,t){if(!this.formats.hasOwnProperty(e))throw"Formato não suportado";var a=new RegExp(this.formats[e]);if(!a.test(t))throw"A data "+t+" não confere com o formato "+e+".";return a.test(t)}}}e.$inject=[],angular.module("gumga.services.date",[]).factory("GumgaDateService",e)}(),function(){"use strict";function e(){return{addBind:function(e,t,a){return e&&t?(Mousetrap.bind(e,t,a?a:""),this.__binds.push(e),!0):!1},removeBind:function(e){e&&(Mousetrap.unbind(e),this.__binds.splice(this.__binds.indexOf(e),1))},triggerBoundedEvent:function(e){e&&Mousetrap.trigger(e)},bindToElement:function(e,t,a,n){return e&&t&&a?(Mousetrap(e).bind(t,a,n?n:""),this.__binds.push(t),!0):!1},unbindFromElement:function(e,t){e&&t&&Mousetrap(e).unbind(t)},bindToMultipleElements:function(e,t,a,n){for(var r=0,i=e.length;i>r;r++)t&&a&&(Mousetrap(e[r]).bind(t,a,n?n:""),this.__binds.push(t))},getBinds:function(){return this.__binds},__binds:[]}}e.$inject=[],angular.module("gumga.services.keyboard",[]).factory("GumgaKeyboard",e)}(),function(){"use strict";function e(){var e={},t={},a={};return e.guaranteeString=function(e){return e&&angular.isString(e)},e.guaranteeArray=function(e){return e&&angular.isArray(e)},e.guaranteeIsDefined=function(e){return angular.isDefined(e)},e.guaranteeBasicList=function(e){return e&&this.guaranteeString(e)&&"basic-list"==e},t["base-list"]={get:!0,resetAndGet:!0,getById:!0,update:!0,"delete":!0,sort:!0,search:!0,advancedSearch:!0,saveQuery:!0,getQuery:!0,resetQuery:!0},t["base-form"]={getNew:!0,getById:!0,save:!0,update:!0,saveImage:!0,deleteImage:!0},t["many-to-many"]={search:!0,save:!0,searchAsync:!0,saveAsync:!0},t["many-to-one"]={save:!0,searchAsync:!0,saveAsync:!0},a.searchAsync=function(e,t,a){e[a.toLowerCase()+"AsyncSearch"]=function(e,a){return t.getSearch(e,a).then(function(e){return e.data.values})}},a.getQuery=function(e,t,a){e[a.toLowerCase()+"GetQuery"]=function(){return t.getQuery(location.origin).then(function(e){})}},a.saveQuery=function(e,t,a){e[a.toLowerCase()+"SaveQuery"]=function(a,n){e.$broadcast("beforeSaveQuery",{query:a,name:n}),t.saveQuery({query:a,name:n}).then(function(t){e.$broadcast("afterSaveQuery",t)})}},a.saveAsync=function(e,t,a){e[a.toLowerCase()+"AsyncSave"]=function(e,a){var n={};return n[a]=e,t.update(n)}},a.get=function(e,t,a){e[a]={},e.page=0,e[a.toLowerCase()+"Get"]=function(n){e.$broadcast("beforeGet"),t.get(n).then(function(t){e[a].content=t,e.$broadcast("afterGet",t)})},e[a.toLowerCase()+"Get"]()},a.resetAndGet=function(e,t,a){e[a.toLowerCase()+"ResetAndGet"]=function(){e.page=0,e.$broadcast("beforeResetAndGet"),t.resetAndGet().then(function(t){e[a].content=t,e.$broadcast("afterResetAndGet",t)})}},a.getNew=function(e,t,a){e[a]=e[a]||{},e[a.toLowerCase()+"GetNew"]=function(){e.$broadcast("beforeGetNew"),t.getNew().then(function(t){e.$broadcast("afterGetNew",t),e[a]["new"+a]=t})}},a.getById=function(e,t,a){e[a.toLowerCase()+"GetById"]=function(n){e.$broadcast("beforeGetById"),t.getById(n).then(function(t){e[a]["id"+n]=t,e.$broadcast("afterGetById",t)})}},a.save=function(e,t,a){e[a.toLowerCase()+"Save"]=function(a,n){e.$broadcast("beforeSave",a);var r={};r[n]=a,t.update(r).then(function(t){e.$broadcast("afterSave",t)})}},a.update=function(e,t,a){e[a.toLowerCase()+"Update"]=function(a){e.$broadcast("beforeUpdate",a),t.update(a).then(function(t){e.$broadcast("afterUpdate",t)})}},a["delete"]=function(e,t,a){e[a.toLowerCase()+"Delete"]=function(n){e.$broadcast("beforeDelete"),t.deleteCollection(n).then(function(t){e.$broadcast("afterDelete",t),e[a.toLowerCase()+"Get"]()})}},a.sort=function(e,t,a){e[a.toLowerCase()+"Sort"]=function(n,r){e.$broadcast("beforeSort"),t.sort(n,r).then(function(t){e[a].content=t,e.$broadcast("afterSort",t)})}},a.saveImage=function(e,t,a){e[a.toLowerCase()+"SaveImage"]=function(a,n){return e.$broadcast("beforeSaveImage"),t.saveImage(a,n)}},a.deleteImage=function(e,t,a){e[a.toLowerCase()+"DeleteImage"]=function(a,n){e.$broadcast("beforeDeleteImage"),t.deleteImage(a,n).then(function(t){e.$broadcast("afterDeleteImage",t)})}},a.search=function(e,t,a){e[a.toLowerCase()+"Search"]=function(n,r){e.$broadcast("beforeSearch"),t.getSearch(n,r).then(function(t){e[a].content=t,e.$broadcast("afterSearch",t)})}},a.advancedSearch=function(e,t,a){e[a.toLowerCase()+"AdvancedSearch"]=function(n){e.$broadcast("beforeAdvancedSearch",n),t.getAdvancedSearch(n).then(function(t){e[a].content=t,e.$broadcast("afterAdvancedSearch",t)})}},a.resetQuery=function(e,t,a){e[a.toLowerCase()+"ResetQuery"]=function(){e.page=0,t.resetQuery()}},{setConfig:function(a,n){e.guaranteeString(a)&&e.guaranteeIsDefined(n)?t[a]=n:angular.noop},getConfig:function(e){return t[e]},setMethod:function(n,r,i){if(!e.guaranteeString(n)||!e.guaranteeString(r))throw"One of $populateProvider.setMethod arguments is wrong.";t[r][n]=!0,a[n]=i},populateScope:function(n,r,i,o){if(!e.guaranteeIsDefined(n))throw"The $scope passed for populateScope wasn't defined";if(!e.guaranteeIsDefined(i))throw"The identifier for populateScope must be passed";if(!e.guaranteeIsDefined(o))throw"The configuration for populateScope must be passed";if(!e.guaranteeIsDefined(r))throw"The service for populateScope must be passed";if(t[o]){n[i]={},n[i].content={};var s=t[o];for(var l in s)s.hasOwnProperty(l)&&a[l](n,r,i)}},$get:function(){return this}}}e.$inject=[],angular.module("gumga.services.populate",[]).provider("$populate",e)}(),function(){"use strict";function e(e,t){function a(e){this._url=e,this._query={params:{start:0,pageSize:10}}}function n(t){if(t&&(this._query.params.start=(t-1)*this._query.params.pageSize,1>t))throw"Invalid page";return e.get(this._url,this._query)}function r(){return e.get(this._url+"/new")}function i(t){return e.get(this._url+"/"+t)}function o(t){return e.post(this._url,t)}function s(t){return t.id?e.put(this._url+"/"+t.id,t):this.save(t)}function l(t){return e["delete"](this._url+"/"+t.id)}function u(){this._query={params:{start:0,pageSize:10}}}function c(){return this.resetDefaultState(),e.get(this._url,this._query)}function d(t,a){return this.resetDefaultState(),this._query.params.sortField=t,this._query.params.sortDir=a,e.get(this._url,this._query)}function g(a){var n=this._url;return t.all(a.map(function(t){return e["delete"](n+"/"+t.id)}))}function m(t,a){var n=new FormData;return n.append(t,a),e.post(this._url+"/"+t+"/",n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}function p(t){var a=new FormData;return a.append(t,{}),e["delete"](this._url+"/"+t,a,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}function f(e,t){return this.resetDefaultState(),t?angular.noop:t="",this._query.params.q=t,this._query.params.searchFields=e,this.get()}function h(t){return"string"==typeof t?(this._query.params={},this._query.params.aq=t,e.get(this._url,this._query)):(console.log(this._query),this._query.params={},this._query.params.aq=t.hql,this._query.params.aqo=t.source,console.log(this._query),e.get(this._url,this._query))}function v(t){var a={page:location.hash,data:t.query,name:t.name};return e.post(this._url+"/saq",a)}function b(){}return a.prototype.get=n,a.prototype.resetAndGet=c,a.prototype.getNew=r,a.prototype.getById=i,a.prototype.save=o,a.prototype.update=s,a.prototype["delete"]=l,a.prototype.sort=d,a.prototype.deleteCollection=g,a.prototype.saveImage=m,a.prototype.deleteImage=p,a.prototype.getSearch=f,a.prototype.getAdvancedSearch=h,a.prototype.resetDefaultState=u,a.prototype.saveQuery=v,a.prototype.getQuery=b,a}e.$inject=["$http","$q"],angular.module("gumga.services.rest",[]).service("GumgaRest",e)}(),function(){"use strict";function e(){return{$get:["$http",function(e){var t=this;return e.get("/i18n/"+t._language+".json").success(function(e){localStorage.setItem("GUMGA"+t._language,JSON.stringify(e)),localStorage.setItem("GUMGACurrent",t._language)}),t}],setLanguage:function(e){if(!e)throw"You must pass a language to GumgaTranslate";this._language.toLowerCase()!==e.toLowerCase()?this._language=e:function(){}},_language:"pt-br"}}e.$inject=[],angular.module("gumga.services.translate",["gumga.services.translate.helper"]).provider("$gumgaTranslate",e)}(),function(){"use strict";function e(){return{_translation:{},__getFromLocalStorage:function(){function e(t,n){for(var r in t)t.hasOwnProperty(r)&&("object"==typeof t[r]?e(t[r],n+"."+r):a._translation[(n+"."+r).substring(1)]=t[r])}var t=localStorage.getItem("GUMGACurrent"),a=this;return t&&localStorage.getItem("GUMGA"+t)?(e(JSON.parse(localStorage.getItem("GUMGA"+t)),""),!0):void 0},getTranslate:function(e){var t=this;if(0===Object.getOwnPropertyNames(t._translation).length&&t.__getFromLocalStorage(),!e||"string"!=typeof e)throw"The value passed to GumgaTranslate is Wrong!";return t._translation[e]?t._translation[e]:e}}}e.$inject=[],angular.module("gumga.services.translate.helper",[]).factory("GumgaTranslateHelper",e)}(),function(){"use strict";function e(){return{areNotEqualInArray:function(e,t){var a=e.filter(function(e){return e==t});return a.length<1},camelCase:function(e){return e.slice(0,1).toUpperCase()+e.slice(1,e.length)},objInArray:function(e,t){var a=e.filter(function(e){return e.field==t});return a.length>0},checkIndex:function(e,t){var a=-1;return e.forEach(function(e,n){e.field==t&&(a=n)}),a},errorMessages:{max:"You've typed more than the maximum!",min:"You've typed less than the minimum!",req:"This field is required"}}}e.$inject=[],angular.module("gumga.services.utils",[]).factory("GumgaUtils",e)}(),function(){"use strict";function e(){return{setSessionStorageItem:function(e,t){var a=t;"object"==typeof t&&(a=angular.toJson(t)),window.sessionStorage.setItem(e,a)},getSessionStorageItem:function(e){var t=window.sessionStorage.getItem(e);if(!t)return null;try{angular.fromJson(t)}catch(a){return t}return angular.fromJson(t)},removeSessionStorageItem:function(e){window.sessionStorage.removeItem(e)},clearSessionStorage:function(){window.sessionStorage.clear()},getNumberOfItemsInSessionStorage:function(){return window.sessionStorage.length},setLocalStorageItem:function(e,t){window.localStorage.setItem(e,angular.toJson(t))},getLocalStorageItem:function(e){var t=window.localStorage.getItem(e);try{angular.fromJson(t)}catch(a){return t}return angular.fromJson(t)},removeLocalStorageItem:function(e){window.localStorage.removeItem(e)},clearLocalStorage:function(){window.localStorage.clear()},getNumberOfItemsInLocalStorage:function(){return window.localStorage.length}}}e.$inject=[],angular.module("gumga.services.webstorage",[]).factory("GumgaWebStorage",e)}(),function(){"use strict";function e(e){return{restrict:"E",scope:{errors:"="},require:"^form",link:function(t,a,n,r){t.errors=[],t.errorsContains=function(e,t){for(var a in e)if(angular.equals(e[a],t))return a;return!1},t.addError=function(e){t.errorsContains(t.errors,e)||t.errors.push(e)},t.removeError=function(e){var a=angular.copy(e);a.valid=!a.valid;var n=t.errorsContains(t.errors,a);n&&t.errors.splice(n,1)},t.$on("$errorMessage",function(e,a){0==a.valid?t.addError(a):t.removeError(a)});var i=n.title||"Erros",o=n.placement||"top",s=n.icon||"glyphicon glyphicon-info-sign",l=['<button popover-placement="'+o+'" popover-template="\'template.html\'" popover-title="'+i+'" type="button" class="btn btn-sm btn-danger">','<i class="'+s+'"></i>',n.label,"</button>",'<script id="template.html" type="text/ng-template">','<ol class="list-errors text-danger"><li ng-repeat="error in errors" >{{ error.message }}</li></ol>',"</script>"].join("\n");a.append(e(l)(t))}}}e.$inject=["$compile"],angular.module("gumga.directives.form.errors",["ui.bootstrap"]).directive("gumgaErrors",e)}(),function(){"use strict";function e(e){return{restrict:"A",scope:{},require:"^form",link:function(t,a,n,r){t.errors=[],t.errorsContains=function(e,t){for(var a in e)if(angular.equals(e[a],t))return a;return!1},t.addError=function(e){t.errorsContains(t.errors,e)||t.errors.push(e)},t.removeError=function(e){var a=angular.copy(e);a.valid=!a.valid;var n=t.errorsContains(t.errors,a);n&&t.errors.splice(n,1)},t.$on("$errorMessage",function(e,n){a[0].name==n.name&&(0==n.valid?t.addError(n):t.removeError(n))});var i='<ol class="list-errors text-danger"><li ng-repeat="error in errors" >{{ error.fieldMessage }}</li></ol>';a.after(e(i)(t))}}}e.$inject=["$compile"],angular.module("gumga.directives.form.error",[]).directive("gumgaError",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",require:"^form",scope:!1,link:function(a,n,r,i){function o(e){return l.filter(function(t){return t.name.trim().toLowerCase()===e.trim().toLowerCase()})[0]}if(!r.name)throw'É necessário passar um valor para o atributo "name" do element <form>';a.GumgaForm={};var s=a[r.name],l=[];!function(){angular.forEach(n.find("input"),function(e){l.push({name:angular.element(e).controller("ngModel").$name,controller:angular.element(e).controller("ngModel"),errorMessages:{maxdate:"A data especificada no campo {0} não deve ultrapassar o limite de: {1}.",maxlength:"O texto especificado no campo {0} não deve ultrapassar o limite de: {1}.",maxnumber:"O número especificado no campo {0} não deve ultrapassar o limite de: {1}.",mindate:"A data especificada no campo {0} não deve ser menor que o limite mínimo de: {1}.",minlength:"O texto especificado no campo {0} não deve ser menor que o limite mínimo de: {1}.",minnumber:"O número especificado no campo {0} não deve ser menor que o limite mínimo de: {1}.",pattern:"O texto especificado no campo {0} deve estar dentro do padrão: {1}.",rangedate:"A data especificada no campo {0} deve estar dentro do intervalo: {1}.",rangenumber:"O número especificado no campo {0} deve estar dentro do intervalo: {1}.",required:"O campo {0} é obrigatório."}})})}(),a.$on("$error",function(n,r){e(function(){if("range"==r.error.substring(0,5)){var e=a.$eval(r.value);r.value="mínimo de "+e.min+" e máximo de "+e.max}var n=o(r.name),i=n.errorMessages[r.error].replace("{1}",r.value),s=i;s="required"!=r.error?s.replace("no campo {0}",""):s.replace("{0}",""),i=i.replace("{0}",r.label),t.$broadcast("$errorMessage",{name:r.name,message:i,fieldMessage:s,valid:r.valid})})}),a.GumgaForm.getMessages=function(e,t){return t?o(e).errorMessages?o(e).errorMessages[t]||null:void 0:o(e).errorMessages},a.GumgaForm.changeMessage=function(e,t,a){if(!e||!t||!a)throw"Valores passados errados para a função GumgaForm.changeMessage(input,message)";var n=l.filter(function(t){return e==t.name})[0];return n.errorMessages&&n.errorMessages[t]?(n.errorMessages[t]=a,!0):!1},a.GumgaForm.setFormValid=function(){for(var e in s.$error)s.$error.hasOwnProperty(e)&&s.$error[e].forEach(function(t){t.$setValidity(e,!0)});a.$apply()},a.GumgaForm.clearForm=function(){l.forEach(function(e){e.controller.$setViewValue(""),e.controller.$setPristine()}),a.$apply()},a.GumgaForm.setFormPristine=function(){l.forEach(function(e){e.controller.$setPristine()}),a.$apply()},a.GumgaForm.getFormErrors=function(){var e=[],t=[];for(var a in s.$error)s.$error.hasOwnProperty(a)&&(s.$error[a].forEach(function(e){t.push(e.$name)}),e.push({type:a,fields:t}),t=[]);return e}}}}e.$inject=["$timeout","$rootScope"],angular.module("gumga.directives.form.form",[]).directive("gumgaForm",e)}(),function(){"use strict";function e(e){return{restrict:"A",require:"ngModel",link:function(t,a,n,r){if("date"!=n.type)throw"Esta diretiva suporta apenas inputs do tipo date";if(!n.gumgaMaxDate)throw"O valor da diretiva gumga-max-date não foi informado.";var i=function(a){var i="maxdate",o="yyyy-MM-dd",s=e("date")(a,o),l=e("date")(n.gumgaMaxDate,o),u=l>=s;return r.$setValidity(i,u),t.$broadcast("$error",{name:n.name,label:n.label||n.name,valid:u,error:i,value:n.gumgaMaxDate}),a};r.$parsers.unshift(i),r.$formatters.push(i),n.$observe("gumgaMaxDate",function(){i(r.$viewValue)})}}}e.$inject=["$filter"],angular.module("gumga.directives.form.max.date",[]).directive("gumgaMaxDate",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){if(!a.gumgaMaxLength)throw"O valor da diretiva gumga-max-length não foi informado.";var r=function(t){var r="maxlength",i=void 0==t?-1:t.length,o=a.gumgaMaxLength,s=o>=i&&-1!=i;return n.$setValidity(r,s),e.$broadcast("$error",{name:a.name,label:a.label||a.name,valid:s,error:r,value:a.gumgaMaxLength}),t};n.$parsers.unshift(r),n.$formatters.push(r),a.$observe("gumgaMaxLength",function(){r(n.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.max.length",[]).directive("gumgaMaxLength",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){if("number"!=a.type)throw"Esta diretiva suporta apenas inputs do tipo number";if(!a.gumgaMaxNumber)throw"O valor da diretiva gumga-max-number não foi informado.";var r=function(t){var r="maxnumber",i=parseInt(t),o=parseInt(a.gumgaMaxNumber),s=o>=i;return n.$setValidity(r,s),e.$broadcast("$error",{name:a.name,label:a.label||a.name,valid:s,error:r,value:a.gumgaMaxNumber}),t};n.$parsers.unshift(r),n.$formatters.push(r),a.$observe("gumgaMaxNumber",function(){r(n.$viewValue)}),e.$on("clearFields",function(e,t){n.$modelValue=null,console.log("directive date clear")})}}}e.$inject=[],angular.module("gumga.directives.form.max.number",[]).directive("gumgaMaxNumber",e)}(),function(){"use strict";function e(e){return{restrict:"A",require:"ngModel",link:function(t,a,n,r){if("date"!=n.type)throw"Esta diretiva suporta apenas inputs do tipo date";if(!n.gumgaMinDate)throw"O valor da diretiva gumga-min-date não foi informado.";var i=function(a){var i="mindate",o="yyyy-MM-dd",s=e("date")(a,o),l=e("date")(n.gumgaMinDate,o),u=s>=l;return r.$setValidity(i,u),t.$broadcast("$error",{name:n.name,label:n.label||n.name,valid:u,error:i,value:n.gumgaMinDate}),a};r.$parsers.unshift(i),r.$formatters.push(i),n.$observe("gumgaMinDate",function(){i(r.$viewValue)})}}}e.$inject=["$filter"],angular.module("gumga.directives.form.min.date",[]).directive("gumgaMinDate",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){if(!a.gumgaMinLength)throw"O valor da diretiva gumga-min-length não foi informado.";var r=function(t){var r="minlength",i=void 0==t?-1:t.length,o=a.gumgaMinLength,s=i>=o;return n.$setValidity(r,s),e.$broadcast("$error",{name:a.name,label:a.label||a.name,valid:s,error:r,value:a.gumgaMinLength}),t};n.$parsers.unshift(r),n.$formatters.push(r),a.$observe("gumgaMinLength",function(){r(n.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.min.length",[]).directive("gumgaMinLength",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){if("number"!=a.type)throw"Esta diretiva suporta apenas inputs do tipo number";

if(!a.gumgaMinNumber)throw"O valor da diretiva gumga-min-number não foi informado.";var r=function(t){var r="minnumber",i=parseInt(t),o=parseInt(a.gumgaMinNumber),s=i>=o;return n.$setValidity(r,s),e.$broadcast("$error",{name:a.name,label:a.label||a.name,valid:s,error:r,value:a.gumgaMinNumber}),t};n.$parsers.unshift(r),n.$formatters.push(r),a.$observe("gumgaMinNumber",function(){r(n.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.min.number",[]).directive("gumgaMinNumber",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){if(!a.gumgaPattern)throw"O valor da diretiva gumga-pattern não foi informado.";var r=function(t){var r="pattern",i=new RegExp("^"+a.gumgaPattern+"$"),o=i.test(t);return n.$setValidity(r,o),e.$broadcast("$error",{name:a.name,label:a.label||a.name,valid:o,error:r,value:a.patternAlias||a.gumgaPattern}),t};n.$parsers.unshift(r),n.$formatters.push(r),a.$observe("gumgaPattern",function(){r(n.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.pattern",[]).directive("gumgaPattern",e)}(),function(){"use strict";function e(e){return{restrict:"A",require:"ngModel",link:function(t,a,n,r){if("date"!=n.type)throw"Esta diretiva suporta apenas inputs do tipo date";if(!n.gumgaRangeDate)throw"O valor da diretiva gumga-range-date não foi informado.";var i=function(a){var i="rangedate",o="yyyy-MM-dd",s=t.$eval(n.gumgaRangeDate),l=e("date")(a,o),u=e("date")(s.min,o),c=e("date")(s.max,o),d=l>=u&&c>=l;return r.$setValidity(i,d),t.$broadcast("$error",{name:n.name,label:n.label||n.name,valid:d,error:i,value:n.gumgaRangeDate}),a};r.$parsers.unshift(i),r.$formatters.push(i),n.$observe("gumgaRangeDate",function(){i(r.$viewValue)})}}}e.$inject=["$filter"],angular.module("gumga.directives.form.range.date",[]).directive("gumgaRangeDate",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){if("number"!=a.type)throw"Esta diretiva suporta apenas inputs do tipo number";if(!a.gumgaRangeNumber)throw"O valor da diretiva gumga-range-number não foi informado.";var r=function(t){var r="rangenumber",i=e.$eval(a.gumgaRangeNumber),o=parseInt(t),s=o>=i.min&&o<=i.max;return n.$setValidity(r,s),e.$broadcast("$error",{name:a.name,label:a.label||a.name,valid:s,error:r,value:a.gumgaRangeNumber}),t};n.$parsers.unshift(r),n.$formatters.push(r),a.$observe("gumgaRangeNumber",function(){r(n.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.range.number",[]).directive("gumgaRangeNumber",e)}(),function(){"use strict";function e(){return{restrict:"A",require:"ngModel",link:function(e,t,a,n){a.required=!0;var r=function(t){var r="required",i=!a.required||!n.$isEmpty(t);return n.$setValidity(r,i),e.$broadcast("$error",{name:a.name,label:a.label||a.name,valid:i,error:r,value:a.gumgaRequired}),t};n.$parsers.unshift(r),n.$formatters.push(r),a.$observe("gumgaRequired",function(){r(n.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.required",[]).directive("gumgaRequired",e)}(),function(){"use strict";function e(){var e='<div class="btn-group">   <button class="btn btn-default btn-xs" ng-disabled="disabled" id="btn{{attr}}" ng-click="orOrAnd(value)"><strong>{{attr}}</strong> {{hql}} <strong>{{value}}</strong></button>   <button class="btn btn-default btn-xs" ng-disabled="disabled" ng-click="emitDelete()" ng-if="getVisibility(value)"><span aria-hidden="true">&times;</span></button></div>';return{restrict:"E",template:e,scope:{attr:"@",hql:"@",value:"=",index:"=",disabled:"="},link:function(e,t,a){a.disabled||(e.disabled=!1),e.bol=!1,e.orOrAnd=function(){"string"!=typeof e.value||"OR"!==e.value.toUpperCase()||e.hql?"AND"!==e.value.toUpperCase()||e.hql||(e.value="OR"):e.value="AND"},e.emitDelete=function(){e.$emit("deletepls",e.index)},e.getVisibility=function(e){return!("AND"==e||"OR"==e)}}}}e.$inject=[],angular.module("gumga.directives.search.advancedlabel",[]).directive("gumgaAdvancedLabel",e)}(),function(){"use strict";function e(e){var t='   <div class="input-group">       	<span class="input-group-btn" dropdown is-open="status.isopen" ng-show="$parent.saveQuery">						<span dropdown on-toggle="toggled(open)">							<a href id="simple-dropdown" class="btn btn-default" style="margin-right:-3px;" dropdown-toggle>								<i class="glyphicon glyphicon-hourglass"></i>								</a>							<ul class="dropdown-menu" aria-labelledby="simple-dropdown" style="width: auto;">								<li ng-repeat="choice in $parent.availableQueries">									<a href>{{choice.name}}</a>								</li>							</ul>						</span>       	</span>       <input type="text" ng-model="searchInputText" class="form-control" ng-disabled="isPanelOpen" id="textMain"/>        <span class="input-group-btn">           <button class="my-button btn-default" ng-click="showLittlePanel = !showLittlePanel"><span class="glyphicon glyphicon-chevron-down"></span></button>           <button class="my-button btn-default" type="button" ng-click="isPanelOpen = !isPanelOpen"><span class="glyphicon glyphicon-filter"></span>           <button class="my-button btn-primary last" type="button" ng-disabled="isPanelOpen" ng-click="doSearch(searchInputText)">Search <span class="glyphicon glyphicon-search"></span>       </span>   </div>   <div class="panel-advanced" ng-show="isPanelOpen">       <div class="panel-body">           <div class="col-md-3">           <h3 style="margin-top: 0;margin-bottom: 0"><small>Advanced Search</small></h3>           </div>           <div class="form-inline col-md-9">               <div class="form-group">                   <div class="list-holder">                           <ul class="list-selectable" ng-show="selectAttribute">\n                               <li ng-repeat="attr in attributes" ng-click="attributeHasChanged(attr)" class="hover-list"><button class="btn btn-link">{{attr.name}}</button></li>\n                           </ul>\n                       </div>                       <button type=button class="btn btn-default" ng-click="selectAttribute = !selectAttribute" >{{query.attribute.name || \'Attribute\'}}<span class="caret"></span></button>                      <div class="list-holder">                           <ul class="list-selectable" ng-show="selectHQL">\n                               <li ng-repeat="opt in hqlOpts" class="hover-list" ng-click="handleHqlOption(opt)"><button class="btn btn-link" >{{opt.label}}</button></li>\n                           </ul>\n                       </div>                    <button type="button" class="btn btn-default" ng-click="selectHQL = !selectHQL"> {{ query.hql.label || \'HQL\'  }} <span class="caret"></span></button>                     <input type="{{typeInput}}" class="form-control col-x-3" ng-model="query.value" id="selectableAdvancedValue" ng-init="input = this"/>                   <button type="button" class="btn btn-default" ng-click="addQuery(query)" ng-disabled="query.value.length > 0 ? false : true"><span class="glyphicon glyphicon-plus"></span></button>               </div>           </div>       </div>           <hr/>       <div class="col-md-12" style="padding-bottom: 2%">       <gumga-advanced-label ng-repeat="query in queries" attr="{{query.attribute.name}}" hql="{{query.hql.label}}" value="query.value" index="$index" style="margin-right: 1%"></gumga-advanced-label>       <div class="col-md-12" style="margin-top: 1%;">       <button class="btn btn-primary pull-right" type="button" ng-disabled="queries.length == 0" ng-click="showArray(queries)">Advanced Search<span class="glyphicon glyphicon-search"></span>       </div>       </div>       <div class="clearfix" style="margin-bottom: 2%"></div>   </div><div class="little-panel" ng-show="showLittlePanel">   <div class="panel-body">       <label ng-repeat="field in normalFields" style="display: block" ><input type="checkbox" ng-model="models[field.value]" style="margin-right: 1%" ><span>{{field.value}}</span></label>   </div></div>';return{restrict:"E",template:t,scope:!1,require:"^?gumgaSearch",link:function(t,a,n,r){if(t.isPanelOpen=!1,t.selectHQL=!1,t.models={},t.searchField="",t.translate=t.$parent.entityToTranslate,t.$on("_doSearch",function(){0!=t.queries.length?t.showArray(t.queries):t.searchInputText&&t.doSearch(t.searchInputText)}),t.$on("_focus",function(){t.isPanelOpen?document.getElementById("selectableAdvancedValue").focus():document.getElementById("textMain").focus()}),!t.$parent.normalFields.length>0||!t.$parent.entityToTranslate)throw"Missing some parameters in GumgaSearch";t.normalFields=t.$parent.normalFields.map(function(e,a){return t.models[e]=!1,0==a&&(t.models[e]=!0),{name:e.slice(0,1).toUpperCase()+e.slice(1,e.length).toLowerCase(),value:e}}),t.$on("showPanel",function(){t.isPanelOpen=!t.isPanelOpen,t.$apply()}),t.models.returnString=function(){var e="";for(var a in this)this.hasOwnProperty(a)&&"returnString"!=a&&this[a]&&(e+=a+",");return 0==e.length?t.normalFields[0].value:e.slice(0,-1)},t.$watch("isPanelOpen",function(){t.isPanelOpen===!0?t.selectAttribute=!0:t.queries=[],t.query={}}),t.attributes=t.$parent.attributes,t.hqlOpts=[],t.queries=[],t.attributeHasChanged=function(a){t.query.attribute=a,t.typeInput="date"===a.type?"date":"text",t.hqlOpts=e.getTypeListOfHQLPossibilities(a.type),t.selectHQL=!0,t.selectAttribute=!1},t.handleHqlOption=function(e){t.query.hql=e,t.selectHQL=!1},angular.element(document.getElementById("selectableAdvancedValue")).on("keydown",function(e){13==e.keyCode&&e.target.value.length>0&&t.addQuery(t.query),t.$apply()}),angular.element(document.getElementById("textMain")).on("keydown",function(e){13==e.keyCode&&e.target.value.length>0&&(t.$emit("normal",{field:t.models.returnString(),param:t.searchInputText||""}),t.showLittlePanel&&(t.showLittlePanel=!t.showLittlePanel))}),t.addQuery=function(e){0===t.queries.length?t.queries.push(e):t.queries.length>=1&&t.queries.splice(t.queries.length,1,{value:"AND"},e),t.query={},t.typeInput="text"},t.$on("deletepls",function(e,a){t.queries.splice(a,1)}),t.showArray=function(a){t.isPanelOpen=!1,t.$emit("advanced",{hql:e.translateArrayToHQL(a),source:a})},t.doSearch=function(e){t.$emit("normal",{field:t.models.returnString(),param:e||""}),t.searchInputText=""}}}}e.$inject=["GumgaSearchHelper"],angular.module("gumga.directives.search.advancedsearch",["gumga.directives.search.searchhelper"]).directive("gumgaAdvancedSearch",e)}(),function(){"use strict";function e(){var e='<div class="input-group">   <input type="text" class="form-control" ng-model="searchField" placeholder="Search"/>   <span class="input-group-btn">       <button class="my-button btn-default" ng-click="showLittlePanel = !showLittlePanel"><span class="glyphicon glyphicon-chevron-down"></span></button>       <button class="my-button btn-primary last" type="button" ng-disabled="!searchField" ng-click="doSearch(searchField)" >Search <span class="glyphicon glyphicon-search"></span></button>   </span></div><div class="little-panel" ng-show="showLittlePanel">   <div class="panel-body">       <label ng-repeat="field in normalFields" style="display: block" ><input type="checkbox" ng-model="models[field.value]" style="margin-right: 1%" ><span>{{field.value}}</span></label>   </div></div>';return{restrict:"E",template:e,link:function(e,t,a){if(!e.$parent.normalFields.length>0||!e.$parent.entityToTranslate)throw"Missing some parameters in GumgaSearch";e.models={},e.searchField="",e.translate=e.$parent.entityToTranslate,e.normalFields=e.$parent.normalFields.map(function(t,a){return e.models[t]=!1,0==a&&(e.models[t]=!0),{name:t.slice(0,1).toUpperCase()+t.slice(1,t.length).toLowerCase(),value:t}}),e.models.returnString=function(){var t="";for(var a in this)this.hasOwnProperty(a)&&"returnString"!=a&&this[a]&&(t+=a+",");return 0==t.length?e.normalFields[0].value:t.slice(0,-1)},t.find("input").bind("keypress",function(t){13==t.keyCode&&e.searchField.length>0&&(e.$emit("normal",{field:e.models.returnString(),param:e.searchField}),e.showLittlePanel&&(e.showLittlePanel=!e.showLittlePanel))}),e.doSearch=function(t){e.$emit("normal",{field:e.models.returnString(),param:t||""}),e.showLittlePanel=!e.showLittlePanel,e.searchField=""}}}}e.$inject=[],angular.module("gumga.directives.search.normalsearch",[]).directive("gumgaNormalSearch",e)}(),function(){"use strict";function e(){var e='<div class="full-width-without-padding">     <div ng-if="!adv">         <gumga-normal-search></gumga-normal-search>     </div>     <div ng-if="adv">         <gumga-advanced-search></gumga-advanced-search>     </div></div>';return{restrict:"E",template:e,transclude:!0,scope:{advanced:"&advancedMethod",normal:"&searchMethod",onSearch:"&",onAdvancedSearch:"&",getQueries:"&?"},link:function(e,t,a,n,r){e.adv=!1,e.attributes=[],e.normalFields=a.fields.split(","),e.entityToTranslate=a.translateEntity,e.$parent.searchQueries=[],e.availableQueries=[],e.saveQuery=!1,a.getQueries&&(e.saveQuery=!0,e.getQueries({page:location.hash}).then(function(t){e.availableQueries=t}));var i={search:a.onSearch?e.onSearch:angular.noop,advanced:a.onAdvancedSearch?e.onAdvancedSearch:angular.noop};"true"===a.advanced&&(e.adv=!0),e.getAttributes=function(){r(function(t){angular.forEach(t,function(t){"ADVANCED-FIELD"==t.nodeName&&e.attributes.push({name:t.getAttribute("name"),type:t.getAttribute("type")})})})},e.$on("advanced",function(t,a){e.$parent.searchQueries=[],e.$parent.searchQueries=a.source,e.advanced({param:a}),i.advanced()}),e.$on("normal",function(t,a){e.normal({field:a.field,param:a.param}),i.search()}),e.getAttributes()}}}e.$inject=[],angular.module("gumga.directives.search.search",[]).directive("gumgaSearch",e)}(),function(){"use strict";function e(){var e={string:{HQLPossibilities:[{hql:"eq",label:"igual",before:"='",after:"'"},{hql:"ne",label:"diferente de",before:"!='",after:"'"},{hql:"contains",label:"contém",before:" like '%",after:"%'"},{hql:"not_contains",label:"não contém",before:" not like '%",after:"%'"},{hql:"starts_with",label:"começa com",before:"like '",after:"%'"},{hql:"ends_with",label:"termina com",before:"like '%",after:"'"},{hql:"ge",label:"maior igual",before:">='",after:"'"},{hql:"le",label:"menor igual",before:"<='",after:"'"}]},number:{HQLPossibilities:[{hql:"eq",label:"igual",before:"=",after:""},{hql:"ne",label:"diferente de",before:"!=",after:""},{hql:"gt",label:"maior que",before:">",after:""},{hql:"ge",label:"maior igual",before:">=",after:""},{hql:"lt",label:"menor que",before:"<",after:""},{hql:"le",label:"maior igual",before:"<=",after:""}]},money:{HQLPossibilities:[{hql:"eq",label:"igual",before:"=",after:""},{hql:"ne",label:"diferente de",before:"!=",after:""},{hql:"gt",label:"maior que",before:">",after:""},{hql:"ge",label:"maior igual",before:">=",after:""},{hql:"lt",label:"menor que",before:"<",after:""},{hql:"le",label:"maior igual",before:"<=",after:""}]},"boolean":{HQLPossibilities:[{hql:"eq",label:"igual",before:"='",after:"'"}]},date:{HQLPossibilities:[{hql:"eq",label:"igual",before:"='",after:"'"},{hql:"ge",label:"maior igual",before:">='",after:"'"},{hql:"le",label:"menor igual",before:"<='",after:"'"}]}};return{getTypeListOfHQLPossibilities:function(t){if(angular.isDefined(e[t]))return e[t].HQLPossibilities;throw"Type doesn't exist"},translateArrayToHQL:function(e){return e.map(function(e){return(angular.isDefined(e.attribute)?"obj."+e.attribute.name:"!")+""+(angular.isDefined(e.hql)?e.hql.before:" !")+e.value+(angular.isDefined(e.hql)?e.hql.after:" !")}).map(function(e){return-1!=e.indexOf("!")?e.replace(/!/g,""):e}).join("")}}}e.$inject=[],angular.module("gumga.directives.search.searchhelper",[]).factory("GumgaSearchHelper",e)}(),function(){"use strict";function e(){return{getSessionStorageItem:function(e){var t=window.sessionStorage.getItem(e);if(!t)return null;try{angular.fromJson(t)}catch(a){return t}return this.translators=angular.fromJson(angular.fromJson(t)),angular.fromJson(angular.fromJson(t))},translators:{},setTranslators:function(e,t){this.translators=t,this.setSessionStorageItem(e,JSON.stringify(t))},setSessionStorageItem:function(e,t){window.sessionStorage.setItem(e,angular.toJson(t))},returnTranslation:function(e){var t=e.split(".");try{return this.translators[t[0].toLowerCase().trim()][t[1].toLowerCase().trim()]}catch(a){}}}}angular.module("gumga.directives.translate.translatehelper",[]).factory("TranslateHelper",e)}(),function(){"use strict";function e(e,t){return{restrict:"AEC",scope:!1,link:function(a,n,r){var i=r.gumgaTranslate.toLowerCase()||navigator.language.toLowerCase();t.getSessionStorageItem(i)||e.get("./i18n/"+i+".json").success(function(e){t.setTranslators(i,e)})}}}e.$inject=["$http","TranslateHelper"],angular.module("gumga.directives.translate.translate",["gumga.directives.translate.translatehelper"]).directive("gumgaTranslate",e)}(),function(){"use strict";function e(e,t){return{restrict:"A",link:function(a,n,r){if(!r.gumgaTranslateTag)throw"You must pass a valid value to gumgaTranslateTag";e.returnTranslation(r.gumgaTranslateTag)&&(n[0].childNodes.length>0?(a.child=n[0].childNodes[0],n[0].innerHTML=e.returnTranslation(r.gumgaTranslateTag),n.append(t(a.child)(a))):n[0].innerHTML=e.returnTranslation(r.gumgaTranslateTag))}}}e.$inject=["TranslateHelper","$compile"],angular.module("gumga.directives.translate.translatetag",["gumga.directives.translate.translatehelper"]).directive("gumgaTranslateTag",e)}();