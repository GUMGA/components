"use strict";function QueryModelFactory(){function e(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?"NOTHING":arguments[2],a=arguments.length<=3||void 0===arguments[3]?999:arguments[3];this.STATES=Object.freeze({NOTHING:1,ONLY_ATTRIBUTE:2,ATTRIBUTE_AND_CONDITION:4,EVERYTHING_NEEDED:8,UPDATING_ATTRIBUTE:16,UPDATING_CONDITION:32,UPDATING_VALUE:64}),this.query=e,this.active=t,this.activeStates=this.STATES[n],this.zIndex=a}return e.prototype.addState=function(e){return this.activeStates|=this.STATES[e],this},e.prototype.removeState=function(e){return this.activeStates&=~this.STATES[e],this},e.prototype.isNOTHING=function(){return 0!=(this.activeStates&this.STATES.NOTHING)},e.prototype.isONLY_ATTRIBUTE=function(){return 0!=(this.activeStates&this.STATES.ONLY_ATTRIBUTE)},e.prototype.isATTRIBUTE_AND_CONDITION=function(){return 0!=(this.activeStates&this.STATES.ATTRIBUTE_AND_CONDITION)},e.prototype.isEVERYTHING_NEEDED=function(){return 0!=(this.activeStates&this.STATES.EVERYTHING_NEEDED)},e.prototype.isUPDATING_ATTRIBUTE=function(){return 0!=(this.activeStates&this.STATES.UPDATING_ATTRIBUTE)},e.prototype.isUPDATING_CONDITION=function(){return 0!=(this.activeStates&this.STATES.UPDATING_CONDITION)},e.prototype.isUPDATING_VALUE=function(){return 0!=(this.activeStates&this.STATES.UPDATING_VALUE)},e.prototype.isBeingUpdated=function(){return this.isUPDATING_VALUE()},{create:function(){for(var t=arguments.length,n=Array(t),a=0;t>a;a++)n[a]=arguments[a];return new(_bind.apply(e,[null].concat(n)))}}}function GenericFilter(e){return function(e,t){if("valor"==e)return e;if("date"==t){var n=e.split("");return n.splice(2,0,"/"),n.splice(5,0,"/"),n.join("")}if("cpf"==t){var a=e.split("");return a.splice(3,0,"."),a.splice(7,0,"."),a.splice(11,0,"-"),a.join("")}if("cnpj"==t){var o=e.split("");return o.splice(2,0,"."),o.splice(6,0,"."),o.splice(10,0,"/"),o.splice(15,0,"-"),o.join("")}return e}}function ListCreator(){function e(e,t){var n="\n      <a ng-click=\"ctrl.doSort('"+e+'\')" class="th-sort">\n        '+t+"\n        <span ng-show=\"ctrl.activeSorted.column  == '"+e+"'\" ng-class=\"ctrl.activeSorted.direction == 'asc' ? 'dropup' : ' ' \">\n          <span class=\"caret\"></span>\n        </span>\n      </a>";return e?n:t}function t(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];arguments.length<=1||void 0===arguments[1]?!0:arguments[1];return t.reduce(function(t,n){return t+='\n        <th style="'+(n.style||" ")+'" class="'+(n.size||" ")+'">\n          <strong>\n            '+e(n.sortField,n.title)+"\n          </strong>\n        </th>"}," ")}function n(e){return e.reduce(function(e,t){return e+='\n        <td class="'+t.size+"\" ng-style=\"{'border-left': {{ ctrl.conditionalTableCell($value,'"+t.name+"') }} }\"> "+t.content+"</td>"}," ")}function a(e,a){return e.checkbox&&e.columnsConfig.unshift({title:'<input type="checkbox" ng-model="ctrl.checkAll" ng-change="ctrl.selectAll(ctrl.checkAll)" ng-if="\''+e.selection+"' === 'multi'\"/>",name:"$checkbox",content:'<input name="$checkbox" type="checkbox" ng-model="ctrl.selectedMap[$index].checkbox"/>',size:"col-md-1",conditional:angular.noop}),"\n      "+(e.itemsPerPage.length>0?o:" ")+'\n      <div class="table-responsive">\n        <table class="'+a+' table-container" style="max-height: '+e.maxHeight+'">\n          <thead>\n            <tr>\n              '+t(e.columnsConfig)+'\n            </tr>\n          </thead>\n          <tbody>\n          <tr ng-style="{ \'border-left\': {{ ctrl.conditional($value) }} }" ng-dblclick="ctrl.doubleClick($value)" ng-class="ctrl.selectedMap[$index].checkbox ? \'active active-list\' : \'\'"\n              ng-repeat="$value in ctrl.data track by $index" ng-click="ctrl.select($index,$event)">\n              '+n(e.columnsConfig)+"\n            </tr>\n          </tbody>\n        </table>\n      </div>"}var o='\n    <div class="row">\n      <div class="col-md-offset-9 col-md-2">\n        <div class="text-right" style="line-height: 30px">\n          <span gumga-translate-tag="gumgalist.itemsperpage"></span>\n        </div>\n      </div>\n      <div class="col-md-1">\n        <select class="form-control input-sm" ng-options="item for item in ctrl.config.itemsPerPage" ng-model="ctrl.selectedItemPerPage">\n        </select>\n      </div>\n    </div>';return{mountTable:a}}function TranslateFilter(e,t){return function(t,n){if(t){if(!angular.isString(t))throw"É necessário passar uma string para o filtro gumgaTranslate";var a=n?n.toLowerCase().concat(".").concat(t?t.toLowerCase():" "):t?t.toLowerCase():" ";return e.returnTranslation(a)||t}return t}}function HQLFactory(e){function t(e){return g[e]||null}function n(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.contains={hql:" contains ",label:" contém ",before:" like '%",after:"%' "},t.not_contains={hql:" not_contains ",label:" não contém ",before:" not like '%",after:"%' "},t.starts_with={hql:" starts_with ",label:" começa com ",before:" like '",after:"%'"},t.ends_with={hql:" ends_with ",label:" termina com ",before:" like '%",after:"'"},t.eq={hql:" eq ",label:" igual ",before:" ='",after:"'"},t.ne={hql:" ne ",label:" diferente de ",before:" !='",after:"'"},t.ge={hql:" ge ",label:" maior igual ",before:" >='",after:"'"},t.gt={hql:" gt ",label:" maior que ",before:" > '",after:"'"},t.le={hql:" le ",label:" menor igual ",before:" <='",after:"' "},t.lt={hql:" lt ",label:" menor que ",before:" < '",after:"' "},t["in"]={hql:" in ",label:" em",before:" (",after:") "},e.map(function(e){return t[e]})}function a(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=[],a=Object.keys(t).filter(function(e){return t[e].active&&t[e].query.value}).map(function(a){var o="obj.".concat(t[a].query.attribute?t[a].query.attribute.field:"*"),r=t[a].query.condition?t[a].query.condition.before:"*",i=t[a].query.value.replace?t[a].query.value.replace(/'/g,"''"):t[a].query.value,l=t[a].query.condition?t[a].query.condition.after:"*";if(t[a].query.attribute)switch(t[a].query.attribute.type){case"date":i=e("date")(new Date(e("gumgaGenericFilter")(i,"date")),"yyyy-MM-dd");break;case"number":case"float":case"money":r=r.replace(/'/g,""),l=l.replace(/'/g,"")}return n.push({attribute:t[a].query.attribute,condition:t[a].query.condition,value:t[a].query.value.replace?t[a].query.value.replace(/'/g,"''"):t[a].query.value}),o.concat(r).concat(i).concat(l).replace(/obj.\*/g,"").replace(/\*/g,"")}).filter(function(e,t,n){var a=["OR","AND"];if(-1===a.indexOf(e))return!0;var o=n[t-1],r=n[t+1];return void 0!==o&&-1===a.indexOf(o)&&void 0!==r&&-1===a.indexOf(r)}).join(" ");return"ND"===a.slice(-2)||"OR"===a.slice(-2)?(n.pop(),{hql:a.slice(0,-3),source:JSON.stringify(n)}):a?{hql:a,source:JSON.stringify(n)}:{}}function o(){var e=arguments.length<=0||void 0===arguments[0]?" ":arguments[0];return g[e]?g[e].validator:angular.noop}var r=/[0-9]{3}\.[0-9]{3}\.[0-9]{3}\-[0-9]{2}/,i=/[0-9]{2}\.?[0-9]{3}\.?[0-9]{3}\/?[0-9]{4}\-?[0-9]{2}/,l=/[0-9]{2}\/[0-9]{2}\/[0-9]{4}/,s=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,c=/(?:[0-9]{1,3}\.){3}[0-9]{1,3}/,u=/^[0-9]+$/,d=/^[0-9]+(\.[0-9]{1,2})?$/,g={};g.string={validator:function(e){return"string"==typeof e||e instanceof String},defaultCondition:n(["contains"]),conditions:n(["eq","ne","contains","not_contains","starts_with","ends_with"]),template:'<div class="input-group">\n                  <input type="text" ng-keyup="goSearch($event)" ng-model="$value.query.value" class="form-control" required autofocus style=" width: 150px;height: 40px;" />\n                  <div class="input-group-addon">\n                      <i ng-show="validator($value.query.value) && $value.query.value.length > 0" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                      <i ng-show="!validator($value.query.value) || !$value.query.value" class="glyphicon glyphicon-remove" style="color:red"></i>\n                  </div>\n                  <div class="input-group-addon">\n                      <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                  </div>\n              </div>'},g.number={validator:function(e){return u.test(e)},defaultCondition:n(["eq"]),conditions:n(["eq","ne","gt","ge","lt","le"]),template:'<div class="input-group">\n                    <input type="text" ng-keyup="goSearch($event)" ng-model="$value.query.value" class="form-control" gumga-number required style=" width: 150px;height: 40px;" />\n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value)" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value)" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')"  class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'},g["float"]={validator:function(e){return d.test(e)},defaultCondition:n(["eq"]),conditions:n(["eq","ne","gt","ge","lt","le"]),template:'<div class="input-group">\n                    <input type="text" ng-keyup="goSearch($event)" ng-model="$value.query.value" class="form-control" gumga-number required style=" width: 150px;height: 40px;"/>                    \n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value)" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value)" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'},g.money={validator:function(e){return d.test(e)},defaultCondition:n(["eq"]),conditions:n(["eq","ne","gt","ge","lt","le"]),template:'<div class="input-group">\n                    <input ng-keyup="goSearch($event)" type="text" ng-model="$value.query.value" gumga-mask="R$ " class="form-control" gumga-number required style=" width: 150px;height: 40px;" />\n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value)" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value)" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'},g.cpf={validator:function(e){return r.test(p.toCpf(e))},defaultCondition:n(["eq"]),conditions:n(["eq","ne","contains","not_contains","starts_with","ends_with"]),template:'<div class="input-group">\n                    <input type="text" ng-keyup="goSearch($event)" ng-model="$value.query.value" gumga-mask="999.999.999.99" class="form-control" required style=" width: 150px;height: 40px;" />\n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value) && $value.query.value.length > 0" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value) || !$value.query.value" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'},g.cnpj={validator:function(e){return i.test(e)},defaultCondition:n(["eq"]),conditions:n(["eq","ne","contains","not_contains","starts_with","ends_with"]),template:'<div class="input-group">\n                    <input type="text" ng-keyup="goSearch($event)" ng-model="$value.query.value" gumga-mask="99.999.999/9999-99" class="form-control" required style=" width: 150px;height: 40px;" />\n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value) && $value.query.value.length > 0" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value) || !$value.query.value" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'},g["boolean"]={validator:function(e){return"true"==e||"false"==e},defaultCondition:n(["eq"]),conditions:n(["eq"]),template:' <div class="radio"><label><input  type="radio" ng-model="$value.query.value" value="true"> {{$value.query.attribute.extraProperties.trueLabel}}</label></div><div class="radio"><label><input type="radio" ng-model="$value.query.value" value="false"> {{$value.query.attribute.extraProperties.falseLabel}} </label></div>'},g.date={validator:function(t){return l.test(e("date")(t,"dd/MM/yyyy"))},defaultCondition:n(["eq"]),conditions:n(["eq","ne","gt","ge","lt","le"]),template:'<div class="input-group">\n                    <input type="text" ng-keyup="goSearch($event)" ng-model="$value.query.value" gumga-mask="99/99/9999" class="form-control" required  style=" width: 150px;height: 40px;"/>\n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value) && $value.query.value.length > 0" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value) || !$value.query.value" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'},g.select={validator:function(e){return!!e},defaultCondition:n(["eq"]),conditions:n(["eq","ne"]),template:'<select ng-model="$value.query.value" ng-options="d.field as d.label for d in $value.query.attribute.extraProperties.data track by d.field" class="form-control" required /></select>'},g["enum"]={validator:function(e){return Array.isArray(e)},defaultCondition:n(["in"]),conditions:n(["eq"]),template:'<div class="col-md-4" ng-class="{\'row\': $index % 3 == 0}" ng-repeat="d in $value.query.attribute.extraProperties.data"><label><input type="checkbox" ng-checked="$value.query.value.indexOf(d.field) > -1" ng-click="toggleEnum($event, $key, d.field)"></label> {{d.label}}</div>'},g.email={validator:function(e){return"string"==typeof e||e instanceof String},defaultCondition:n(["eq"]),conditions:n(["eq","ne","contains","not_contains","starts_with","ends_with"]),template:'<div class="input-group">\n                    <input type="text" ng-keyup="goSearch($event)" ng-model="$value.query.value" class="form-control" required  style=" width: 150px;height: 40px;" />\n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value) && $value.query.value.length > 0" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value) || !$value.query.value" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'},g.url={validator:function(e){return s.test(e)},defaultCondition:n(["eq"]),conditions:n(["eq","ne","contains","not_contains","starts_with","ends_with"]),template:'<div class="input-group">\n                    <input type="url" ng-keyup="goSearch($event)" ng-model="$value.query.value" class="form-control" required  style=" width: 150px;height: 40px;" />\n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value) && $value.query.value.length > 0" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value) || !$value.query.value" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'},g.ip={validator:function(e){return c.test(e)},defaultCondition:n(["eq"]),conditions:n(["eq","ne","contains","not_contains","starts_with","ends_with"]),template:'<div class="input-group">\n                    <input type="text" ng-keyup="goSearch($event)" ng-model="$value.query.value" class="form-control" required style=" width: 150px;height: 40px;" />\n                    <div class="input-group-addon">\n                        <i ng-show="validator($value.query.value) && $value.query.value.length > 0" class="glyphicon glyphicon-ok" style="color:green"></i></span>\n                        <i ng-show="!validator($value.query.value) || !$value.query.value" class="glyphicon glyphicon-remove" style="color:red"></i>\n                    </div>\n                    <div class="input-group-addon">\n                        <button ng-click="callSearch($event, \'btn\')" class="btn btn-default">Buscar</button>\n                    </div>\n              </div>'};var p={toCpf:function(e){var t=e+"";return t.replace(/\D/g,"").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2")}};return{useType:t,hqlObjectCreator:n,createHql:a,validator:o}}function Popover(){}function controller(e,t,n,a,o,r){function i(e,t){var n=this,a=void 0,o=void 0;return"right"==e?(o=angular.copy(this.selectedArray),o.push(this.getValueFromAvailable(t)),this.updateObject(o).updateSelected([this.getValueFromAvailable(t)]),a=function(e){return n.updateAvailable(n.availableArray)},this.emit(t)):(this.selectedArray.splice(this.getIndexFromSelected(t),1),this.updateObject(this.selectedArray),a=function(e){n.searchAvailable(e).then(function(e){return n.updateAvailable(e.data?e.data.values:e)})}),a}function l(){return this.availableArray}function s(){var e="{{$value.definition}}";return a(function(t){angular.forEach(t,function(t){var n=angular.element(t)[0];"TAG-CONTENT"==n.nodeName&&(e=n.innerText)})}),e}function c(){return this.dragElement}function u(e){return this.availableArray.filter(function(t){return t.definition.name==e})[0]}function d(e){for(var t=void 0,n=0,a=this.selectedArray.length;a>n;n++)if(e==this.selectedArray[n].definition.name){t=n;break}return t}function g(){return this.selectedArray}function p(e){return o.when(this.availableSearch({$text:e}))}function m(){return o.when(this.selectedSearch())}function f(e){this.dragElement=e}function h(){var e=this,t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return this.availableArray=t.map(function(e){return e.definition?e:{definition:e,objectType:null,objectId:null,id:null}}).filter(function(t){return!e.filterReference[t.definition.name]}),this}function v(){var e=this,t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return Array.isArray(t)||console.error('O objeto retornado pela chamada asíncrona [selected-search="foo()"] precisa ser um Array.'),this.filterReference={},t.forEach(function(t){return e.filterReference[t.definition.name]=t}),this}function b(){var e=this,t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return t.forEach(function(t){return e.selectedArray.push(t)}),this}var y=this,$="É necessário o atributo ngModel para a directive gumgaTag",w='É necessário uma função no atributo dataSearch no seguinte formato: [data-search="foo($text)"]';n.selectedSearch||console.error($),n.availableSearch||console.error(w),this.filterReference={},this.selectedArray=[],this.callbacks={},this.selectedText=n.selectedText?n.selectedText:"Selecionados",this.availableText=n.availableText?n.availableText:"Disponíveis",this.tagContent=s(),this.addTo=i,this.getAvailable=l,this.getDragElement=c,this.getSelected=g,this.getValueFromAvailable=u,this.getIndexFromSelected=d,this.searchAvailable=p,this.searchSelected=m,this.setDragElement=f,this.updateAvailable=h,this.updateObject=v,this.updateSelected=b,this.emit=function(e,t){return this.callbacks[e]&&this.callbacks[e].forEach(function(e){return e(t)}),this},this.on=function(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this},function(){o.all([y.searchSelected(),y.searchAvailable()]).then(function(e){var t=e[0].data?e[0].data:e[0],n=e[1].data?e[1].data.values:e[1];y.updateObject(t),y.updateSelected(t),y.updateAvailable(n)})}()}function gumgaTag(){var e='\n  <gumga-tag-column has-search="true" array="gumgaTag.availableArray" id="left" label="{{::gumgaTag.availableText}}"></gumga-tag-column>\n  <gumga-tag-column array="gumgaTag.selectedArray" id="right" label="{{::gumgaTag.selectedText}}" has-collapse="true"></gumga-tag-column>\n  ';return{restrict:"E",scope:{selectedSearch:"&",availableSearch:"&",selectedArray:"=?ngModel"},bindToController:!0,transclude:!0,template:e,controllerAs:"gumgaTag",controller:controller}}function gumgaTagColumn(){function e(e,t,n,a,o,r){function i(e){e.dataTransfer.setData("text/html","anything"),h.setDragElement(t[0].id)}function l(e){if(e.preventDefault(),h.getDragElement()!=t[0].id){var n=e.target.innerText.split("(")[0].trim();h.addTo(h.getDragElement(),n)(" ")}}function s(e){e.preventDefault(),h.setDragElement(t[0].id)}function c(){var e=document.querySelectorAll("[popover]");angular.forEach(e,function(e){angular.element(e).isolateScope().tt_isOpen=!1});var t=document.querySelectorAll(".popover");angular.forEach(t,function(e){angular.element(e).remove()})}function u(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];h.activeTag=e}function d(){return h.activeTag}function g(e,t){h.on(e,t)}function p(){var e=arguments.length<=0||void 0===arguments[0]?" ":arguments[0];h.searchAvailable(e).then(function(e){h.updateAvailable(e.data?e.data.values:e)})}function m(e){h.addTo("left",e)(" ")}var f=this,h=t.parent().controller("gumgaTag")||{},v='\n          <div class="input-group">\n            <input  type="text" class="form-control input-inside-tag-column"\n                    ng-model="gumgaTagColumn.searchText'+t[0].id+'" ng-model-options="gumgaTagColumn.ngModelOptions"\n                    ng-blur="gumgaTagColumn.search(gumgaTagColumn.searchText'+t[0].id+')"/>\n              <span class="input-group-btn">\n                <button class="btn btn-default btn-inside-tag-column" ng-disabled="!gumgaTagColumn.searchText'+t[0].id+'.length" type="button"\n                        ng-click="gumgaTagColumn.search(gumgaTagColumn.searchText'+t[0].id+')">\n                  <span class="glyphicon glyphicon-search"></span>\n                </button>\n            </span>\n          </div>',b='\n      <div class="col-sm-3 col-md-3">\n        <label class="control-label">{{gumgaTagColumn.label}}</label>\n        <div class="panel panel-default panel-from-tag-column">\n          '+(n.hasSearch?v:" ")+'\n          <div class="panel-body body-column">\n            <div class=\'col-md-12\'>\n              <span ng-repeat="tag in gumgaTagColumn.tags">\n                <gumga-unity-tag  name="{{::tag.definition.name}}" attributes="tag.definition.attributes" >\n                </gumga-unity-tag>\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>';t[0].addEventListener("dragstart",i,!1),t[0].addEventListener("dragend",l,!1),t[0].addEventListener("dragenter",s,!1),this.ngModelOptions={updateOn:"default blur",debounce:{"default":150,blur:0}},this.removeMe=m,this.search=p,this.id=n.id,this.cleanPopovers=c,this.setActive=u,this.getActive=d,this.on=g,t.append(a(angular.element(b))(e)),o.bindToElement(t[0],"mod+enter",function(e){return f.search(f["searchText"+t[0].id])}),o.bindToElement(t[0],"enter",function(e){return f.search(f["searchText"+t[0].id])})}return e.$inject=["$scope","$element","$attrs","$compile","GumgaKeyboard","$rootScope"],{restrict:"E",controller:e,controllerAs:"gumgaTagColumn",bindToController:!0,scope:{tags:"=?array",label:"@?"}}}function gumgaUnityTag(e,t,n,a){function o(e,n,a,o){function r(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];return e.reduce(function(e,t,n){return e+='\n        	<div class="form-group">\n        		<label>'+t.name+'</label>\n        		<input type="text" ng-model="attributes['+n+'].value" name="'+l(t.name)+'" class="form-control" required/>\n        	</div>'}," ")}function i(){o.setActive(),o.cleanPopovers(),e.hasValues()||o.removeMe(e.name)}function l(e){return e.replace(/[^a-zA-Z ]/g,"").replace(/\s/g,"")}function s(t){o.cleanPopovers(),o.setActive(t),e.oldAttributes=angular.copy(e.attributes)}function c(e){n.find("div").remove()}function u(){arguments.length<=0||void 0===arguments[0]?{}:arguments[0];o.setActive(),o.cleanPopovers(),d(e.attributes)}function d(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];e.tooltip=t.reduce(function(e,t){return e+="\n\n\n ["+t.name+"  "+(t.value?": "+t.value:"")+"]"}," ")}function g(){return o.getActive()===e.name?"true":""}function p(){return e.attributes=e.attributes||[],e.attributes.filter(function(e){return!!e.value}).length>0}a.$set("draggable",!0);var m='\n    <script type="text/ng-template" id="'+l(e.name).concat(".html")+'">\n    <form gumga-form novalidate name="Popover">\n    '+r(e.attributes)+'\n    <div class="row">\n    <div class="col-md-12">\n    <button class="btn btn-primary btn-sm pull-right" type="button" ng-disabled="Popover.$invalid" ng-click="updateTag(data)"><i class="glyphicon glyphicon-ok"></i></button>\n    <button class="btn btn-default btn-sm pull-right close-popover" type="button" ng-click="closePopover()"><i class="glyphicon glyphicon-remove"></i></button>\n    </div>\n    </div>\n    </form>\n    <script>';o.on(e.name,function(){o.cleanPopovers(),e.setActive(e.name,"dropped")}),e.hasValues=p,e.getActive=g,e.closePopover=i,e.format=l,e.tooltipRemove=c,e.setActive=s,e.updateTag=u,e.parentColumn=o.id,e.templateUrl=e.format(e.name).concat(".html"),n.append(t(angular.element(m))(e)),d(e.attributes)}return{restrict:"E",link:o,scope:{name:"@",attributes:"="},require:"^gumgaTagColumn",template:'\n<<<<<<< HEAD\n    <span class="label label-primary unity-tag"\n    uib-tooltip="{{tooltip}}" ng-mousedown="tooltipRemove(this)" ng-mouseup="setActive(name,\'click\')" tooltip-placement="bottom"\n    uib-popover-template="templateUrl" popover-placement="bottom" popover-trigger="click"\n=======\n    <style>\n    div.bottom.fade.popover.in {\n      min-width: 150%;\n    }\n    </style>\n    <span class="label label-primary unity-tag" style="margin-top: 2%;margin-bottom: 2%;display: inline-block;"\n    tooltip="{{tooltip}}" ng-mousedown="tooltipRemove(this)" ng-mouseup="setActive(name,\'click\')" tooltip-placement="bottom"\n    popover-template="templateUrl" popover-placement="bottom" popover-trigger="click"\n>>>>>>> 990eaf912ae70487dfc415a8e7ab27c6f421e167\n    popover-enable="parentColumn === \'right\'" popover-is-open="getActive()">\n    {{name}} <strong>({{attributes.length}})</strong>\n    </span>'}}angular.module("gumga.core",["gumga.services","gumga.directives","gumga.manytomany","gumga.tag","gumga.translate.filter.filter","gumga.formbuttons","gumga.list","gumga.query","gumga.filter","gumga.confirm","gumga.manytoone","gumga.number","gumga.numberinwords","gumga.fileupload","gumga.imageupload","gumga.documentation"]).decorator("$xhrFactory",["$delegate","$rootScope",function(e,t){"ngInject";return function(t,n){var a=e(t,n);return a.setRequestHeader=function(e){return function(t,n){"__XHR__"===t&&angular.isFunction(n)?n(this):e.apply(this,arguments)}}(a.setRequestHeader),a}}]).factory("VanillaMasker",[function(){var e="9",t="A",n="S",a=[9,16,17,18,36,37,38,39,40,91,92,93],o=function(e){for(var t=0,n=a.length;n>t;t++)if(e==a[t])return!1;return!0},r=function(e){return e=e||{},e={precision:e.hasOwnProperty("precision")?e.precision:2,separator:e.separator||",",delimiter:e.delimiter||".",unit:e.unit&&e.unit.replace(/[\s]/g,"")+" "||"",suffixUnit:e.suffixUnit&&" "+e.suffixUnit.replace(/[\s]/g,"")||"",zeroCents:e.zeroCents,lastOutput:e.lastOutput},e.moneyPrecision=e.zeroCents?0:e.precision,e},i=function(a,o,r){for(;o<a.length;o++)a[o]!==e&&a[o]!==t&&a[o]!==n||(a[o]=r);return a},l=function(e){this.elements=e};l.prototype.unbindElementToMask=function(){for(var e=0,t=this.elements.length;t>e;e++)this.elements[e].lastOutput="",this.elements[e].onkeyup=!1,this.elements[e].onkeydown=!1,this.elements[e].value.length&&(this.elements[e].value=this.elements[e].value.replace(/\D/g,""))},l.prototype.bindElementToMask=function(e){for(var t=this,n=function(n){n=n||window.event;var a=n.target||n.srcElement;o(n.keyCode)&&setTimeout(function(){t.opts.lastOutput=a.lastOutput,a.value=s[e](a.value,t.opts),a.lastOutput=a.value,a.setSelectionRange&&t.opts.suffixUnit&&a.setSelectionRange(a.value.length,a.value.length-t.opts.suffixUnit.length)},0)},a=0,r=this.elements.length;r>a;a++)this.elements[a].lastOutput="",this.elements[a].onkeyup=n,this.elements[a].value.length&&(this.elements[a].value=s[e](this.elements[a].value,this.opts))},l.prototype.maskMoney=function(e){this.opts=r(e),this.bindElementToMask("toMoney")},l.prototype.maskNumber=function(){this.opts={},this.bindElementToMask("toNumber")},l.prototype.maskAlphaNum=function(){this.opts={},this.bindElementToMask("toAlphaNumeric")},l.prototype.maskPattern=function(e){this.opts={pattern:e},this.bindElementToMask("toPattern")},l.prototype.unMask=function(){this.unbindElementToMask()};var s=function(e){if(!e)throw new Error("VanillaMasker: There is no element to bind.");var t="length"in e?e.length?e:[]:[e];return new l(t)};return s.toMoney=function(e,t){if(t=r(t),t.zeroCents){t.lastOutput=t.lastOutput||"";var n="("+t.separator+"[0]{0,"+t.precision+"})",a=new RegExp(n,"g"),o=e.toString().replace(/[\D]/g,"").length||0,i=t.lastOutput.toString().replace(/[\D]/g,"").length||0;e=e.toString().replace(a,""),i>o&&(e=e.slice(0,e.length-1))}var l=e.toString().replace(/[\D]/g,""),s=new RegExp("^(0|\\"+t.delimiter+")"),c=new RegExp("(\\"+t.separator+")$"),u=l.substr(0,l.length-t.moneyPrecision),d=u.substr(0,u.length%3),g=new Array(t.precision+1).join("0");u=u.substr(u.length%3,u.length);for(var p=0,m=u.length;m>p;p++)p%3===0&&(d+=t.delimiter),d+=u[p];if(d=d.replace(s,""),d=d.length?d:"0",!t.zeroCents){var f=l.length-t.precision,h=l.substr(f,t.precision),v=h.length,b=t.precision>v?t.precision:v;g=(g+h).slice(-b)}var y=t.unit+d+t.separator+g+t.suffixUnit;return y.replace(c,"")},s.toPattern=function(a,o){var r,l="object"==typeof o?o.pattern:o,s=l.replace(/\W/g,""),c=l.split(""),u=a.toString().replace(/\W/g,""),d=u.replace(/\W/g,""),g=0,p=c.length,m="object"==typeof o?o.placeholder:void 0;for(r=0;p>r;r++){if(g>=u.length){if(s.length==d.length)return c.join("");if(void 0!==m&&s.length>d.length)return i(c,r,m).join("");break}if(c[r]===e&&u[g].match(/[0-9]/)||c[r]===t&&u[g].match(/[a-zA-Z]/)||c[r]===n&&u[g].match(/[0-9a-zA-Z]/))c[r]=u[g++];else if(c[r]===e||c[r]===t||c[r]===n)return void 0!==m?i(c,r,m).join(""):c.slice(0,r).join("");
}return c.join("").substr(0,r)},s.toNumber=function(e){return e.toString().replace(/(?!^-)[^0-9]/g,"")},s.toAlphaNumeric=function(e){return e.toString().replace(/[^a-z0-9 ]+/i,"")},s}]),function(){angular.module("gumga.directives",["gumga.directives.address","gumga.directives.alert","gumga.directives.breadcrumb","gumga.directives.counter","gumga.directives.menu","gumga.directives.nav","gumga.directives.onetomany","gumga.directives.search","gumga.directives.table","gumga.directives.upload","gumga.directives.form","gumga.directives.mask","gumga.directives.translate","gumga.directives.customfields","gumga.translate.filter"]).config(["$provide",function(e){e.decorator("uibDatepickerPopupDirective",["$delegate","VanillaMasker",function(e,t){var n=e[0],a=n.link;return n.compile=function(){return function(e,n,o){a.apply(this,arguments);var r=0==o.uibDatepickerPopup.length?"9999-99-99":o.uibDatepickerPopup.replace(/d|D|m|M|y|Y/g,"9");t(n[0]).maskPattern(r)}},e}])}])}(),function(){angular.module("gumga.services",["gumga.services.address","gumga.services.keyboard","gumga.services.base","gumga.services.utils","gumga.services.gumgactrl","gumga.services.alert","gumga.services.translate","gumga.services.webstorage","gumga.services.populate","gumga.services.rest","gumga.services.mimetype"])}(),function(){function e(e,t){return{restrict:"A",priority:1,terminal:!0,scope:!1,link:function(n,a,o){var r=e(o.gumgaConfirm)(n),i=o.dismissButton?e(o.dismissButton)(n):"Retornar",l=o.confirmButton?e(o.confirmButton)(n):"Confirmar",s=o.confirmButtonClass?e(o.confirmButtonClass)(n):"btn btn-primary",c=o.dismissButtonClass?e(o.dismissButtonClass)(n):"btn btn-default",u=o.ngClick;a.bind("click",function(e){function a(e,t,n,a,o,r,i){var l=this;l.message=n,l.dismissButton=a,l.confirmButton=o,l.dismissButtonClass=r,l.confirmButtonClass=i,l.close=function(e){return e?t.close():t.dismiss()}}var o="ctrl",d={confirmMessage:function(){return r},dismissBtn:function(){return i},confirmBtn:function(){return l},dismissClass:function(){return c},confirmClass:function(){return s}};a.$inject=["$scope","$uibModalInstance","confirmMessage","dismissBtn","confirmBtn","dismissClass","confirmClass"];var g='\n          <div class="modal-body">\n            <h3>{{ ::ctrl.message }}</h3>\n          </div>\n          <div class="modal-footer">\n            <button type="button" class="{{ ::ctrl.dismissButtonClass }}" ng-click="ctrl.close(false)">{{ ::ctrl.dismissButton }}</button>\n            <button type="button" class="{{ ::ctrl.confirmButtonClass }}" ng-click="ctrl.close(true)"> {{ ::ctrl.confirmButton }}</button>\n          </div>';t.open({controller:a,template:g,controllerAs:o,resolve:d,backdrop:"static"}).result.then(function(e){return n.$eval(u)},function(e){return angular.noop})})}}}e.$inject=["$interpolate","$uibModal"],angular.module("gumga.confirm",[]).directive("gumgaConfirm",e)}(),function(){function e(e,t,n){function a(e,a,o){var r=this,i=(e.$parent,new n(r.apiUrl)),l=o.confirmButton?o.confirmButton:"Confirmar",s=o.confirmButtonClass?o.confirmButtonClass:"btn btn-primary",c=(o.modalTitle?o.modalTitle:"Documentação",function(e){return e?'\n          <div class="modal-header">\n            <h4>{{ ::ctrl.title }}</h4>\n          </div>\n          <div class="modal-body">\n            <form novalidate>\n\n              <textarea  class="form-control" style="width: 100%; resize: none;" ng-model="ctrl.message" ng-blur="ctrl.afterEditing(ctrl.message)">\n              </textarea>\n            </form>\n          </div>\n          <div class="modal-footer">\n            <button type="button" class="{{ ::ctrl.confirmButtonClass }}" ng-click="ctrl.close(ctrl.message)"> {{ ::ctrl.confirmButton }}</button>\n          </div>':'\n          <div class="modal-header">\n            <h4>{{ ::ctrl.title }}</h4>\n          </div>\n          <div class="modal-body">\n            <p>{{ ::ctrl.message }}</p>\n          </div>\n          '});r.openModal=function(e){function n(e,t,n,a,o,r,l,s){var c=this;c.message=t.value,c.title=a,c.confirmButton=l,c.confirmButtonClass=s,c.close=function(t){i.extend("POST","",{key:r,value:t}).then(function(t){return e.close()},function(e){return o.$broadcast("postFailed")})}}var a=c(r.canEdit),o="ctrl",u=r.canEdit?"static":!0,d="sm",g={value:function(){return i.extend("GET","/"+r.key).then(function(e){return e.data})},APIURLService:function(){return i},Title:function(){return r.modalTitle},Key:function(){return r.key},ConfirmButton:function(){return l},ConfirmButtonClass:function(){return s}};n.$inject=["$uibModalInstance","value","APIURLService","Title","$scope","Key","ConfirmButton","ConfirmButtonClass"],t.open({template:a,resolve:g,controller:n,controllerAs:o,backdrop:u,size:d})}}return a.$inject=["$scope","$element","$attrs"],{restrict:"E",scope:{canEdit:"=",key:"@",apiUrl:"@",modalTitle:"@?"},bindToController:!0,controllerAs:"ctrl",controller:a,template:'\n      <a ng-click="ctrl.openModal()">\n        <span class="glyphicon glyphicon-info-sign gumga-documentation-info">\n        </span>\n      </a>\n      '}}e.$inject=["$interpolate","$uibModal","GumgaRest"],angular.module("gumga.documentation",[]).directive("gumgaDocumentation",e)}(),function(){function e(e,t,n){function a(a,o,r){function i(e){return p?t.validate(e.type,p):!0}function l(e){return m?e.size<=1024*m:!0}var s={noEndPoint:"É necessário um atributo endpoint no componente, contendo uma URL de API REST que receberá os arquivos."};r.endpoint||console.error(s.noEndPoint);var c=o.find("input"),u=e(r.model),d=u.assign,g=r.endpoint,p=r.accepted?r.accepted.split(","):!1,m=r.maxSize?parseInt(r.maxSize):!1,f=function(e){e.stopPropagation(),e.preventDefault()},h=i,v=l,b=function(e){a.queue.push({type:e.type,name:e.name,size:Math.round(e.size/1024),file:e})};a.queue=[],o.on("dragenter",function(e){f(e),o.find("section")[0].classList.add("dragOver")}),o.on("dragover",function(e){f(e),o.find("section")[0].classList.add("dragOver")}),o.on("drop",function(e){f(e),a.$apply(function(){return angular.forEach(e.dataTransfer.files,function(e){return b(e)})}),o.find("section")[0].classList.remove("dragOver")}),c.bind("change",function(){a.queue=[],angular.forEach(c[0].files,function(e,t){var n=new FileReader;n.onload=function(){a.$apply(function(){if(d(a,e),h(e)&&v(e))b(e);else{var t=["Erro: "];h(e)&&t.push("Formatos permitidos "+p.join(", ")+". "),v(e)&&t.push("Máximo de "+m+"KB. "),t.push("Selecione outro."),a.alert=t.join("")}})},n.readAsDataURL(e)})});var y={onLoadStart:r.onUploadStart?a.onUploadStart:angular.noop,onProgress:function(e,t){return a.$apply(function(){return a.queue[t].percent=Math.round(e.loaded/e.total*100)})},onLoadEnd:r.onUploadComplete?a.onUploadComplete:angular.noop,onAbort:r.onUploadAbort?a.onUploadAbort:angular.noop,onError:r.onUploadError?a.onUploadError:angular.noop};a.upload=function(){y.onLoadStart(),angular.forEach(a.queue,function(e,t){var o=new FormData;o.append(r.attribute,e.file),n({method:"POST",url:g,headers:{"Content-Type":void 0,__XHR__:function(){return function(e){e.upload.onprogress=function(e){return y.onProgress(e,t)},e.upload.onloadend=function(e){return y.onLoadEnd(e,t)},e.upload.onabort=function(e){return y.onAbort(e,t)},e.upload.onerror=function(e){return y.onError(e,t)}}}},data:o}).then(function(e){a.model.name=e.data})})},a.click=function(){c[0].click()},a.clear=function(){a.queue=[],a.alert=null}}var o='\n        <div>\n        <section class="drag">\n            <span  class="glyphicon glyphicon-download-alt"></span>\n        </section>\n        <div style="margin-bottom: 10px">\n            <input type="file" id="input" ng-hide="true" ng-model="file">\n            <button type="button" ng-click="click()" class="btn btn-default">\n                <span class="glyphicon glyphicon-search"></span> Selecionar\n            </button>\n            <button type="button" ng-disabled="queue.length == 0"ng-click="upload()" class="btn btn-default">\n                <span class="glyphicon glyphicon-cloud-upload"></span> Enviar\n            </button>\n            <button type="button" ng-click="clear()" class="btn btn-default pull-right" ng-disabled="queue.length == 0">\n                <span class="glyphicon glyphicon-trash"></span> Limpar\n            </button>\n        </div>\n        <p class="alert alert-info" ng-show="queue.length == 0 && !alert">\n            <span class="glyphicon glyphicon-info-sign"></span> Selecione um arquivo ou arraste e solte aqui\n        </p>\n        <p class="alert alert-danger" ng-show="queue.length == 0 && alert">\n            <span class="glyphicon glyphicon-alert"></span> {{alert}}\n        </p>\n        <ul class="list-group" ng-show="queue.length > 0">\n            <li class="list-group-item alert" style="background-color: #d7eac8" ng-repeat="file in queue">\n                <div class="media">\n                    <div class="media-left">\n                        <span class="media-object glyphicon glyphicon-file" style="font-size: 32px"></span>\n                    </div>\n                    <div class="media-body">\n                        <h4 class="media-heading">{{file.name}}</h4>\n                        <span>{{file.size}} KB</span>\n                        <span></span>\n                        <div class="progress">\n                            <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="{{file.percent}}" aria-valuemin="0" aria-valuemax="100" style="width: {{file.percent}}%">\n                                <span>{{file.percent || 0}}%</span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </li>\n        </ul>\n        </div>\n        ';return a.$inject=["$scope","$element","$attrs"],{restrict:"E",template:o,scope:{model:"=",uploadMethod:"&",deleteMethod:"&",onUploadStart:"&?",onUploadComplete:"&?",onUploadAbort:"&?",onUploadError:"&?"},link:a}}e.$inject=["$parse","GumgaMimeTypeService","$http"],angular.module("gumga.fileupload",[]).directive("gumgaFileUpload",e)}(),function(){function e(e,t,n){var a='\n    <div>\n      <button class="btn btn-default" ng-click="isOpen = !isOpen ">\n        <span class="glyphicon glyphicon-filter"></span>\n      </button>\n    </div>\n    <div id="replace"></div>\n    ';return{restrict:"E",template:a,transclude:!0,scope:{search:"&",saveQuery:"&",containerId:"@?"},link:function(e,n,a,o,r){e.possibleAdvancedFields=[],e.search=e.search||angular.noop,e.saveQuery=e.saveQuery||angular.noop,e.containerId=e.containerId||"replace",e.proxySave=function(t){e.saveQuery({query:t,name:name})},e.proxySearch=function(t){e.search({param:t})},r(function(n){[].slice.call(n).forEach(function(t){t&&"ADVANCED-SEARCH-FIELD"===t.nodeName&&e.possibleAdvancedFields.push(t.outerHTML)});var o='<gumga-filter-core ng-show="isOpen" search="proxySearch(param)" '+(a.saveQuery?'save-query="saveQuery(query, name)"':"")+">\n                            "+e.possibleAdvancedFields.reduce(function(e,t){return e+=t},"")+"\n                          </gumga-filter-core>",r=angular.element(document.getElementById(e.containerId));r.replaceWith(t(o)(e))})}}}e.$inject=["HQLFactory","$compile","$timeout"],angular.module("gumga.filter.core",[]).directive("gumgaFilter",e)}(),function(){function e(e,t,n,a,o){var r='\n        <div class="gumga-filter panel panel-default" >\n            <header class="panel-heading" style="padding: 5px 10px;">\n                <div class="row">\n                    <div class="col-md-8 col-xs-7">\n                        <h5>Pesquisa avançada <strong ng-if="filterSelectItem"> - {{filterSelectItem.description}}</strong></h5>\n                    </div>\n                    <div class="col-md-4 col-xs-5" ng-show="saveQuery">\n                        <div class="input-group" >\n                            <input type="text" ng-model="nameSearch" class="form-control" id="_save" ng-show="saveFilterOpen" ng-keyup="saveSearch(nameSearch, $event)" ng-blur="closeInput()">\n                            <div class="input-group-btn">\n                                <button class="btn btn-success" ng-show="saveFilterOpen" ng-click="saveSearch(nameSearcht)" ng-disabled="!nameSearch">\n                                    <i class="glyphicon glyphicon-floppy-saved"></i>\n                                </button>\n                                <button class="btn btn-default pull-right" type="button" ng-hide="saveFilterOpen" ng-click="showInput()" ng-disabled="!isAnyQueryNotOk()">\n                                    <i class="glyphicon glyphicon-floppy-disk"></i>\n                                </button>\n                                <button class="btn btn-default"  ng-click="deleteFilter(filterSelectItem.id)" ng-if="filterSelectItem" style="float: right;margin-right: 15px;">\n                                    <i class="glyphicon glyphicon-floppy-remove"></i>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </header>\n            <div class="form-inline panel-body">\n              <div class="row">\n                <div class="col-md-6">\n                  <h5><strong>Filtrar por:</strong></h5>\n                </div>\n                <div class="col-md-6">\n                  <button id="single-button" type="button" class="btn btn-default pull-right" ng-click="clearQuery()" ng-disabled="!isAnyQueryNotOk()" >\n                    <i class="glyphicon glyphicon-repeat"></i> Limpar filtros\n                  </button>\n                </div>\n              </div>\n              <div class="input-group" ng-repeat="($key, $value) in controlMap" style="margin-right: 1%;margin-top: 7.5px;z-index: {{$value.zIndex}}" ng-show="$value.active" id="first" >\n                  <div class="input-group-btn">\n                    <div class="btn-group" uib-dropdown ng-show="!$value.query.label" is-open="$value.isUPDATING_ATTRIBUTE()" auto-close="disabled">\n                      <button type="button" style="z-index: 0" class="btn btn-default" uib-dropdown-toggle ng-click="toggleUpdatingAttribute(this)" ng-disabled="$value.isUPDATING_VALUE() || $value.isUPDATING_CONDITION() || (!isAnyQueryNotOk() && $value.isEVERYTHING_NEEDED()) ">\n                        <span> {{ $value.query.attribute.label || \'Atributo\' }}  <i class="glyphicon glyphicon-chevron-down"></i></span>\n                      </button>\n                      <ul uib-dropdown-menu style="z-index: 3000" role="menu">\n                        <li style="z-index: 3000;" role="menuitem" ng-repeat="attribute in _attributes track by $index">\n                          <a ng-click="addAttribute(attribute, this.$parent, $key)">{{attribute.label}}</a>\n                        </li>\n                      </ul>\n                    </div>\n                    <div class="btn-group" uib-dropdown is-open="$value.isUPDATING_CONDITION()" ng-show="!$value.query.label" auto-close="disabled">\n                      <button type="button" class="btn btn-default" uib-dropdown-toggle ng-click="toggleUpdatingCondition(this)" ng-disabled="$value.isUPDATING_VALUE() || $value.isUPDATING_ATTRIBUTE() || (!isAnyQueryNotOk() && $value.isEVERYTHING_NEEDED()) || $value.isNOTHING()">\n                          <span>{{ $value.query.condition.label || \'Condição\' }} <i class="glyphicon glyphicon-chevron-down"></i></span>\n                      </button>\n                      <ul uib-dropdown-menu role="menu" >\n                        <li role="menuitem" ng-repeat="condition in conditions track by $index">\n                          <a ng-click="addCondition(condition, this.$parent, $key)">{{condition.label}}</a>\n                        </li>\n                      </ul>\n                    </div>\n                    <div class="btn-group" id="_btnValue{{$key}}" ng-show="!$value.query.label">\n                      <button type="button" class="btn btn-default" ng-click="toggleUpdatingValue(this, $key)" ng-disabled="validatonValue($value)" id="_valueLabel{{$key}}">\n                          <span id="_conditionLabel{{$key}}">{{ $value.query.value ? $value.query.value.push ?  $value.query.value.join(\', \') : $value.query.value : \'valor\' | gumgaGenericFilter:$value.query.attribute.type}} </span>\n                      </button>\n                      <div class="gumga-filter-panel" id="_panelValue{{$key}}"></div>\n                    </div>\n                    <div class="btn-group" ng-show="$value.query.label">\n                      <button type="button" class="btn btn-default" ng-click="updateOperator(this)" ng-disabled="!isAnyQueryNotOk()">\n                        <span> {{$value.query.label}} </span>\n                      </button>\n                    </div>\n                    <button type="button" style="z-index: 0;border-left: 1px solid #ccc; " class="btn btn-default" ng-click="removeQuery(this, $event, $index)" ng-show="!$value.query.label" ng-disabled="!$value.isEVERYTHING_NEEDED() || $value.isUPDATING_VALUE() ||(!isAnyQueryNotOk() && $value.isEVERYTHING_NEEDED()) ">\n                      <span class="glyphicon glyphicon-remove"></span>\n                    </button>\n                    </div>\n                  </div>\n                  <button id="single-button" type="button" class="btn btn-default" ng-click="addQuery()" ng-disabled="!isAnyQueryNotOk()" style="margin-top: 7.5px;" >\n                    <span class="glyphicon glyphicon-plus"></span>\n                  </button>\n                </div>\n              </div>\n            </div>\n        </div>';return{restrict:"E",template:r,transclude:!0,scope:{search:"&",saveQuery:"&"},link:function(r,i,l,s,c){function u(t,a,o){a.$value.query.attribute=t,a.conditions=e.useType(t.type).conditions,a.validator=e.useType(t.type).validator,a.$value.removeState("UPDATING_ATTRIBUTE").removeState("NOTHING").addState("ONLY_ATTRIBUTE"),n(function(){a.$value.addState("UPDATING_CONDITION"),a.$value.isEVERYTHING_NEEDED()&&(a.$value.removeState("EVERYTHING_NEEDED"),a.$value.query.value="")})}function d(e){13==e.keyCode&&O(e)}function g(e){console.log(e)}function p(e){e.$value.isUPDATING_ATTRIBUTE()?e.$value.removeState("UPDATING_ATTRIBUTE"):e.$value.addState("UPDATING_ATTRIBUTE")}function m(t,a,o){a.$value.query.condition=t,a.$value.removeState("UPDATING_CONDITION").removeState("ONLY_ATTRIBUTE"),n(function(){a.$value.isEVERYTHING_NEEDED()?r.search({param:e.createHql(r.controlMap)}):(a.$value.removeState("ATTRIBUTE_AND_CONDITION").addState("UPDATING_VALUE"),f(o,a))})}function f(n,a){var o=F("_panelValue"+n);o.addClass("show"),"enum"==a.$value.query.attribute.type?o.attr("style","width: 500px"):"enum"!==a.$value.query.attribute.type&&o.attr("style")&&o.removeAttr("style"),t(o.html(e.useType(a.$value.query.attribute.type).template).contents())(a)}function h(e){e.$value.isUPDATING_CONDITION()?e.$value.removeState("UPDATING_CONDITION"):e.$value.addState("UPDATING_CONDITION")}function v(e,t){e.$value.isUPDATING_VALUE()?(e.$value.removeState("UPDATING_VALUE"),F("_panelValue"+t).addClass("show")):(e.$value.addState("UPDATING_VALUE"),F("_panelValue"+t).addClass("show"))}function b(){return 0===Object.keys(r.controlMap).filter(function(e){return!r.controlMap[e].isEVERYTHING_NEEDED()||r.controlMap[e].isUPDATING_ATTRIBUTE()||r.controlMap[e].isUPDATING_CONDITION()||r.controlMap[e].isUPDATING_VALUE()}).filter(function(e){return parseInt(e)%2==0}).length}function y(){return Object.keys(r.controlMap)[Object.keys(r.controlMap).length-1]}function $(){for(var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=angular.element(document.getElementById("first")).scope();t.$index!=e&&null!=t.$$nextSibling;)t=t.$$nextSibling;return t}function w(e){return e.isNOTHING()||e.isUPDATING_ATTRIBUTE()||e.isUPDATING_VALUE()||e.isUPDATING_CONDITION()||!(e.isEVERYTHING_NEEDED()||!e.isATTRIBUTE_AND_CONDITION())||!b()&&e.isEVERYTHING_NEEDED()}function x(e,t,n){e.stopPropagation();var a=F("_panelValue"+t).scope();Array.isArray(a.$value.query.value)||(a.$value.query.value=[]);var o=a.$value.query.value.indexOf(n);o>-1?a.$value.query.value.splice(o,1):a.$value.query.value.push(n)}function S(e){var t=void 0;switch(e.getAttribute("type")){case"boolean":t={trueLabel:e.getAttribute("true-label"),falseLabel:e.getAttribute("false-label")};break;case"select":t={data:M[e.getAttribute("data")]};break;case"enum":t={data:M[e.getAttribute("data")]}}return t}function k(){delete r.filterSelectItem,r.controlMap[parseInt(y())+1]=o.create({value:"AND",label:"E"},void 0,"EVERYTHING_NEEDED",_--),r.controlMap[parseInt(y())+1]=o.create({attribute:{},condition:{},value:""},void 0,"NOTHING",_--),n(function(){return $(parseInt(y())).$value.addState("UPDATING_ATTRIBUTE")})}function T(){r.controlMap=[],V()}function C(){n(function(){r.saveFilterOpen=!1},200)}function A(){r.saveFilterOpen=!0,n(function(){return document.getElementById("_save").focus()})}function E(t,n){n&&13!=n.keyCode||(r.$parent.proxySave(e.createHql(r.controlMap),r.nameSearch),r.saveFilterOpen=!r.saveFilterOpen,r.nameSearch="")}function q(e,t,a){return delete r.filterSelectItem,e.$$prevSibling.$key||e.$$nextSibling?!e.$$prevSibling.$key&&e.$$nextSibling?(e.$value.active=!1,e.$$nextSibling.$value.active=!1,n(function(){return e.$$nextSibling.$destroy(),e.$destroy()}),void O(t,"remove",a)):void(e.$$prevSibling.$key&&(e.$value.active=!1,e.$$prevSibling.$value.active=!1,n(function(){return e.$$prevSibling.$destroy(),e.$destroy()}),O(t,"remove",a))):(e.$value.query={attribute:{},condition:{},value:""},e.$value.activeStates=0,n(function(){return e.$value.addState("UPDATING_ATTRIBUTE")}),void O(t,"remove",a))}function I(t){return"AND"===t.$value.query.value?(t.$value.query.value="OR",t.$value.query.label="OU",void r.search({param:e.createHql(r.controlMap)})):(t.$value.query.value="AND",t.$value.query.label="E",void r.search({param:e.createHql(r.controlMap)}))}function O(t,a){var o=arguments.length<=2||void 0===arguments[2]?-1:arguments[2],i=!0,l=Object.keys(r.controlMap).filter(function(e){return r.controlMap[e].isUPDATING_VALUE()})[0],s=void 0,c=function(e,t){for(var n=angular.element(e);0!=n.parent().length;n=n.parent())if(n[0].id=="_panelValue"+t){n=!0;break}return n===!0?n:!1};if(t.target.id!="_conditionLabel"+l&&t.target.id!="_valueLabel"+l&&((t.target.id=="_panelValue"+l||c(t.target,l))&&(i=!1),r.controlMap[l]&&(s=e.validator(r.controlMap[l].query.attribute.type)),(i&&s&&s(r.controlMap[l].query.value)||"keyup"==t.type||"btn"==a)&&!function(){var t=F("_panelValue"+l).scope();n(function(){return t.$value.removeState("UPDATING_VALUE").removeState("ATTRIBUTE_AND_CONDITION").addState("EVERYTHING_NEEDED")}),F("_panelValue"+l).removeClass("show"),r.search({param:e.createHql(r.controlMap)})}(),"remove"==a)){var u=0==o?{}:e.createHql(r.controlMap);r.search({param:u})}}var M=r.$parent.$parent,N="É necessário atribuir um valor ao atributo FIELD da tag ADVANCED-SEARCH-FIELD.",L='O tipo "{1}" passado como parâmetro para o ADVANCED-SEARCH-FIELD não é suportado.',P="É necessário atribuir um valor ao atributo TYPE da tag ADVANCED-SEARCH-FIELD.",D='É necessário atribuir uma função para o atributo SEARCH. [search="foo()"]',_=999;if(r._attributes=[],r.controlMap={},r.addCondition=m,r.addQuery=k,r.clearQuery=T,r.closeInput=C,r.removeQuery=q,r.showInput=A,r.saveSearch=E,r.updateOperator=I,r.toggleEnum=x,r.saveQuery=l.saveQuery?r.saveQuery:!1,l.search||console.error(D),r.$on("filter-items",function(t,a){var i=JSON.parse(a.value);r.controlMap={},JSON.parse(i.source).forEach(function(e,t){t%2==0?r.controlMap[t]=o.create(e,!0,"EVERYTHING_NEEDED",_--):r.controlMap[t]=o.create({value:e.value,label:"AND"===e.value?"E":"OU"},void 0,"EVERYTHING_NEEDED",_--)}),r.filterSelectItem=a,n(function(){return r.search({param:e.createHql(r.controlMap)})})}),r.$on("openOrCloseFilter",function(e,t){return t?void(r.controlMap[0]||V()):(delete r.filterSelectItem,Object.keys(r.controlMap).forEach(function(e){var t=$(e);t.$value.active=!1,delete r.controlMap[e],n(function(e){return t.$destroy()})}),void r.search({param:{}}))}),c(function(t){var n=r.$parent.$parent;[].slice.call(t).forEach(function(t,o){if("ADVANCED-SEARCH-FIELD"===t.nodeName){if(!t.getAttribute("field"))return console.error(N);var i=t.getAttribute("field"),l=t.getAttribute("type"),s=t.getAttribute("label")?a(t.getAttribute("label"))(n):i.charAt(0).toUpperCase().concat(i.slice(1)),c={};return l?(l=l.toLowerCase().trim()||"",s=s||i.charAt(0).toUpperCase()+i.slice(1),c=S(t),e.useType(l)?void r._attributes.push({field:i,type:l,label:s,extraProperties:c}):console.error(L.replace("{1}",l))):console.error(P)}})}),r._attributes[0]){var F=function(e){return angular.element(document.getElementById(e))},V=function(e){r.controlMap[0]=o.create({attribute:{},condition:{},value:""},!0,"NOTHING",_--),n(function(e){var t=$();t.$value.removeState("NOTHING").addState("UPDATING_ATTRIBUTE")})};V();var j=angular.copy(r._attributes[0]);angular.copy(e.useType(j.type).defaultCondition)[0];r.addAttribute=u,r.toggleUpdatingAttribute=p,r.addCondition=m,r.toggleUpdatingCondition=h,r.toggleUpdatingValue=v,r.goSearch=d,r.callSearch=O,r.deleteFilter=g,r.isAnyQueryNotOk=b,r.lastOfControlMap=y,r.getIndexScope=$,r.validatonValue=w,document.addEventListener("click",function(e){O(e)})}}}}e.$inject=["HQLFactory","$compile","$timeout","$interpolate","QueryModelFactory"],angular.module("gumga.filter.directive",["gumga.query.factory","gumga.filter.querymodel","gumga.genericfilter"]).directive("gumgaFilterCore",e)}();var _bind=Function.prototype.bind;QueryModelFactory.$inject=[],angular.module("gumga.filter.querymodel",[]).factory("QueryModelFactory",QueryModelFactory),angular.module("gumga.filter",["gumga.filter.directive","gumga.filter.core"]),function(){function e(e,t,n,a,o){function r(t,r,i){function l(){return"left"==i.position?"pull-left":"pull-right"}function s(){if(c.confirmDirty&&!angular.equals(c.modelInit,c.model)){var t=function(e){function t(){e.close(!0)}function n(){e.close(!1)}var a=this;a.dismiss=n,a.close=t};t.$inject=["$uibModalInstance"],n.open({template:p,animate:!1,size:"md",controller:t,controllerAs:"ctrl"}).result.then(function(t){t&&e.go(c.stateToReturn)})}else e.go(c.stateToReturn)}var c=this;if(!i.submit)throw'É necessário passar uma função para submissão de formulário <gumga-form-buttons submit="foo()"></gumga-form-buttons>';var u='\n                <div class="row">\n                    <div class="col-md-12">',d='\n                        <div ng-class="vm.getPosition()">\n                            <label for="gumgakeep" ng-if="vm.continue">\n                                <input type="checkbox" id="gumgakeep" name="gumgakeep" ng-model="vm.shouldContinue" ng-true-value="true" ng-false-value="false" />\n                                {{::vm.keepInsertingText}}\n                            </label>\n                            <button type="button" ng-click="vm.submit()" ng-disabled="!vm.valid" class="btn btn-primary form-buttons-margin" >\n                                {{::vm.saveText}}\n                            </button>\n                            <button type="button" ng-click="vm.returnClicked()" class="btn btn-default form-buttons-margin" ng-class="vm.reverseOrder ? \'pull-left\' : \'pull-right\'">\n                                {{::vm.returnText}}\n                            </button>\n                        </div>',g="\n                    </div>\n                </div>\n            ",p='\n				<div class="modal-body">\n					<h3>\n                        <span class="glyphicon glyphicon-alert"></span>\n                        Sair da tela e descartar alterações?\n                    </h3>\n				</div>\n				<div class="modal-footer">\n					<button type="button" class="btn btn-default" ng-click="ctrl.dismiss()">Não</button>\n					<button type="button" class="btn btn-primary" ng-click="ctrl.close()">Sim</button>\n				</div>\n			';c.modelInit=angular.copy(c.model),c["continue"]=t.$eval(c["continue"]),c.confirmDirty=t.$eval(c.confirmDirty),c.valid=i.valid?c.valid:!0,c.saveText=i.saveText?a(i.saveText)(t):"Salvar",c.returnText=i.returnText?a(i.returnText)(t):"Cancelar",c.keepInsertingText=i.keepInsertingText?a(i.keepInsertingText)(t):"Continuar Inserindo",c.stateToReturn=i.back||(""!==e.current?e.current.name.split(".")[0].concat(".list"):null),c.getPosition=l,c.returnClicked=s,i.$observe("continue",function(e){return c["continue"]=t.$eval(c["continue"])}),i.$observe("confirmDirty",function(e){return c.confirmDirty=t.$eval(c.confirmDirty)}),t.$on("data-sent",function(t){c.shouldContinue||e.go(c.stateToReturn)});var m="";m=i.hasOwnProperty("inline")?d:u+d+g,r.append(o(m)(t))}return r.$inject=["$scope","$element","$attrs"],{restrict:"E",scope:{submit:"&?",valid:"=?",model:"=?","continue":"@?",confirmDirty:"@?",reverseOrder:"=?"},controller:r,bindToController:!0,controllerAs:"vm",require:"form"}}e.$inject=["$state","$stateParams","$uibModal","$interpolate","$compile"],angular.module("gumga.formbuttons.directive",["ui.router","ui.bootstrap"]).directive("gumgaFormButtons",e)}(),angular.module("gumga.formbuttons",["gumga.formbuttons.directive"]),GenericFilter.$inject=["$filter"],angular.module("gumga.genericfilter",[]).filter("gumgaGenericFilter",GenericFilter),function(){function e(e,t,n){function a(e,t,n){function a(){s.myImage="",s.myCroppedImage=""}function o(e){s.images.push(e),n.onUploadSuccess&&s.onUploadSuccess(e)}function r(e){n.onUploadError&&s.onUploadError(e),console.error(e)}function i(e,t){s.images.splice(t,1),n.onRemoveSuccess&&s.onRemoveSuccess(e)}function l(e){n.onRemoveError&&s.onRemoveError(e),console.error(e)}var s=this,c={noUpload:"É necessário um atributo upload-method no componente, contendo uma função para upload.",noRemove:"É necessário um atributo remove-method no componente, contendo uma função para remoção."};n.uploadMethod||console.error(c.noUpload),n.removeMethod||console.error(c.noRemove),s.images=s.images?s.images:[],s.resultImageSize=n.resultImageSize?n.resultImageSize:250,s.thumbImageSize=n.thumbImageSize?n.thumbImageSize:100,s.maxFiles=n.maxFiles?n.maxFiles:10,s.crop=n.crop?s.crop:!0;var u=a,d=o,g=r,p=i,m=l;u();var f=function(e){s.images.length<s.maxFiles&&document.querySelector(".file-input").click()},h=function(t){var n=t.currentTarget.files[0],a=new FileReader;a.onloadend=function(t){e.$apply(function(e){s.myImage=t.target.result,s.crop||s.upload(s.myImage)})},a.readAsDataURL(n)};angular.element(document.querySelector(".file-input")).on("change",h),angular.element(document.querySelector(".svg-camera")).on("click",f),angular.element(document.querySelector(".btn-select")).on("click",f),s.upload=function(e){!e&&s.crop&&(e=s.myCroppedImage),s.uploadMethod({image:e}).then(function(e){return d(e.data)},function(e){return g(e.data)}),u()},s.remove=function(e,t){s.removeMethod({image:e}).then(function(e){s.images.splice(t,1),p(e.data,t)},function(e){return m(e.data)})}}var o='\n        <input type="file" class="file-input" ng-hide="true" />\n        <div class="row">\n            <div class="area" ng-show="ctrl.crop">\n                <div class="col-md-7">\n                    <div class="area-camera" ng-hide="ctrl.myImage">\n                        <svg version="1.1" class="svg-camera" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n                            <g>\n                            <path d="M430.4,147h-67.5l-40.4-40.8c0,0-0.2-0.2-0.3-0.2l-0.2-0.2v0c-6-6-14.1-9.8-23.3-9.8h-84c-9.8,0-18.5,4.2-24.6,10.9l0,0.1 l-39.5,40H81.6C63,147,48,161.6,48,180.2v202.1c0,18.6,15,33.7,33.6,33.7h348.8c18.5,0,33.6-15.1,33.6-33.7V180.2 C464,161.6,448.9,147,430.4,147z M256 365.5c-50.9,0-92.4-41.6-92.4-92.6c0-51.1,41.5-92.6,92.4-92.6c51,0,92.4,41.5,92.4,92.6 C348.4,323.9,307,365.5,256,365.5z M424.1,200.5c-7.7,0-14-6.3-14-14.1s6.3-14.1,14-14.1c7.7,0,14,6.3,14,14.1 S431.8,200.5,424.1,200.5z"/>\n                            <path d="M256,202.9c-38.6,0-69.8,31.3-69.8,70c0,38.6,31.2,70,69.8,70c38.5,0,69.8-31.3,69.8-70C325.8,234.2,294.5,202.9,256,202.9 z"/>\n                            </g>\n                        </svg>\n                    </div>\n                    <div class="area-crop" ng-show="ctrl.myImage">\n                        <img-crop image="ctrl.myImage" result-image="ctrl.myCroppedImage" result-image-size="ctrl.resultImageSize" area-type="square"></img-crop>\n                    </div>\n                </div>\n                <div class="col-md-5">\n                    <div class="area-preview" style="width: {{ctrl.resultImageSize}}px height: {{ctrl.resultImageSize}}px">\n                        <img ng-src="{{ctrl.myCroppedImage}}" style="width: 100%" />\n                    </div>\n                    <button class="btn btn-default btn-block" type="button" ng-disabled="!ctrl.myImage" ng-show="ctrl.images.length < ctrl.maxFiles" ng-click="ctrl.upload()">\n                        <span class="glyphicon glyphicon-cloud-upload"></span>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-12">\n                <div class="list">\n                    <a class="thumbnail photo" ng-repeat="img in ctrl.images" style="width: {{ctrl.thumbImageSize}}px">\n                        <img ng-src="{{img}}">\n                        <span class="glyphicon glyphicon-remove pull-right remove" ng-click="ctrl.remove(img, $index)"></span>\n                    </a>\n                </div>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-12" ng-show="!ctrl.crop">\n                <button class="btn btn-default btn-block btn-select" type="button" ng-disabled="ctrl.images.length >= ctrl.maxFiles">\n                    <span class="glyphicon glyphicon-cloud-upload"></span>\n                </button>\n            </div>\n        </div>\n        ';
return a.$inject=["$scope","$element","$attrs"],{restrict:"E",scope:{images:"=",crop:"=?",uploadMethod:"&",onUploadSuccess:"&?",onUploadError:"&?",removeMethod:"&",onRemoveSuccess:"&?",onRemoveError:"&?"},bindToController:!0,controllerAs:"ctrl",controller:a,template:o}}e.$inject=["$parse","$uibModal","GumgaMimeTypeService"],angular.module("gumga.imageupload",["ngImgCrop"]).directive("gumgaImageUpload",e)}(),function(){function e(e,t){function n(n,a,o){function r(){var e=arguments.length<=0||void 0===arguments[0]?" ":arguments[0],t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return e.split(",").map(function(e){var n=e.trim(),a=t.filter(function(e){return e.name==n})[0]||{name:n},o=a.title||n.charAt(0).toUpperCase()+n.slice(1),r=a.size||" ",i=a.name||n,l=a.content||"{{$value."+n+"}}",s=a.sortField||null,c=a.conditional||angular.noop;return{title:o,size:r,name:i,content:l,sortField:s,conditional:c}})}function i(){w.config.checkbox=!!w.config.checkbox,w.config.selection=k("selection")?w.config.selection:C,w.config.itemsPerPage=k("itemsPerPage")?w.config.itemsPerPage:A,w.config.sortDefault=k("sortDefault")?w.config.sortDefault:E,w.config.conditional=k("conditional")?w.config.conditional:angular.noop,w.config.maxHeight=k("maxHeight")?w.config.maxHeight:null,w.config.columnsConfig=r(w.config.columns,w.config.columnsConfig)}function l(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=w.selectedMap;for(var n in t)if(t.hasOwnProperty(n)&&angular.equals(e,t[n].value))return t[n];return!1}function s(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return 0==w.selectedValues.filter(function(t){return angular.equals(e.value,t)}).length}function c(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];w.selectedMap={},e.forEach(function(e,t){return w.selectedMap[t]={checkbox:!1,value:e}}),d()}function u(e,t,n){e.length>1&&"single"==w.config.selection&&(e=e.filter(function(e){return!angular.equals(n[0],e)}),g()),t?e.forEach(function(e){var t=l(e);t&&!t.checkbox&&(t.checkbox=!0)}):Object.keys(w.selectedMap).forEach(function(e){w.selectedMap[e].checkbox&&s(w.selectedMap[e])&&(w.selectedMap[e].checkbox=!1)}),d()}function d(){var e=Object.keys(w.selectedMap).filter(function(e){return w.selectedMap[e].checkbox}).map(function(e){return w.selectedMap[e].value});o.selectedValues||(n.$parent.selectedValues=e),w.selectedValues=e}function g(){Object.keys(w.selectedMap).forEach(function(e){w.selectedMap[e].checkbox&&(w.selectedMap[e].checkbox=!w.selectedMap[e].checkbox)})}function p(e){var t=w.config.conditional(e),n=void 0,a=void 0;for(var o in t)t[o]===!0?n=o:a=o;return n?'"'.concat(n).concat('"'):"''"}function m(e,t){var n=w.config.columnsConfig.filter(function(e){return e.name==t})[0];if(n){var a=n.conditional(e),o=void 0,r=void 0;for(var i in a)a[i]===!0?o=i:r=i;return'"'.concat(o).concat('"')}return"''"}function f(e){w.activeSorted.column=e,w.activeSorted.direction="asc"==w.activeSorted.direction?"desc":"asc",w.sort({field:w.activeSorted.column,dir:w.activeSorted.direction}),w.onSort({field:w.activeSorted.column,dir:w.activeSorted.direction})}function h(e){w.onDoubleClick({$value:e})}function v(e){w.changePerPage({value:e})}function b(e){var t=arguments.length<=1||void 0===arguments[1]?{target:{}}:arguments[1];"none"!=w.config.selection&&("$checkbox"==t.target.name&&"single"==w.config.selection&&g(),"$checkbox"==t.target.name&&"multi"==w.config.selection&&(w.selectedMap[e].checkbox=!w.selectedMap[e].checkbox),w.checkAll&&(w.checkAll=!1),"single"!=w.config.selection||w.selectedMap[e].checkbox||g(),w.selectedMap[e].checkbox=!w.selectedMap[e].checkbox,d(),w.onClick({$value:w.selectedMap[e].value}))}function y(e){Object.keys(w.selectedMap).forEach(function(t){return w.selectedMap[t].checkbox=e}),d()}function $(){a.html("");var o=angular.element(t.mountTable(w.config,w["class"]));a.append(e(o)(n))}var w=this,x={noData:"O componente gumgaList necessita de um atributo data, que irá conter os dados que serão visualizados.",noConfig:"O componente gumgaList necessita de um atributo config, que irá conter a configuração necessária.",noColumns:"O componente gumgaList necessita que, no objeto de configuração, exista um atributo columns."},S=function(e){return!!o[e]},k=function(e){return!(!w.config||!w.config[e])},T="table ",C="single",A=[],E=null;w.data=w.data||[],w.config=w.config||{},w.sort=S("sort")?w.sort:angular.noop,w["class"]=S("class")?T.concat(o["class"]||" "):T,w.onClick=S("onClick")?w.onClick:angular.noop,w.onDoubleClick=S("onDoubleClick")?w.onDoubleClick:angular.noop,w.onSort=S("onSort")?w.onSort:angular.noop,w.changePerPage=S("changePerPage")?w.changePerPage:angular.noop,S("data")||console.error(x.noData),S("configuration")||console.error(x.noConfig),k("columns")||console.error(x.noColumns),w.selectedValues=[],w.selectedMap={},w.activeSorted={column:null,direction:null},w.conditional=p,w.conditionalTableCell=m,w.doSort=f,w.doubleClick=h,w.select=b,w.selectAll=y,null!=w.config.sortDefault&&w.doSort(w.config.sortDefault),n.$parent.selectedValues=w.selectedValues,n.$watch("ctrl.config",function(){i(),$()}),n.$watch("ctrl.data",function(){return c(w.data)},!0),n.$watch("ctrl.selectedValues",function(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];return u(e,e.length-t.length>=0,t)},!0),n.$watch("ctrl.selectedItemPerPage",function(e,t){return v(e)},!0);try{$()}catch(q){}}return n.$inject=["$scope","$element","$attrs"],{restrict:"E",scope:{sort:"&?",data:"=",selectedValues:"=?",onClick:"&?",onDoubleClick:"&?",onSort:"&?",config:"=configuration",changePerPage:"&?"},bindToController:!0,controllerAs:"ctrl",controller:n}}e.$inject=["$compile","listCreator"],angular.module("gumga.list",["gumga.list.creator"]).directive("gumgaList",e)}(),ListCreator.$inject=[],angular.module("gumga.list.creator",[]).factory("listCreator",ListCreator),function(){function e(e,t,n,a){function o(e,a,o,r){function i(){var e='<span name="fieldleft"><span >'.concat(d.fields.left).concat('</span><i ng-click="ctrl.openModal($event, $value)" class="pull-right glyphicon glyphicon-exclamation-sign hover-icon-blue"></i></span>'),a='<span name="fieldright"><span>'.concat(d.fields.right).concat('</span><i ng-click="ctrl.openModal($event, $value)" class="pull-right glyphicon glyphicon-exclamation-sign hover-icon-blue"></i></span>');n(function(){[].slice.call(document.getElementsByName("fieldleft")).forEach(function(n,a){angular.element(n).replaceWith(t(e)(angular.element(n).scope()))}),[].slice.call(document.getElementsByName("fieldright")).forEach(function(e,n){angular.element(e).replaceWith(t(a)(angular.element(e).scope()))})})}function l(e){return d.modalFields.replace(/\s/g,"").split(",").filter(function(t){return t==e}).length>0}function s(){var e=[];d.fields.left&&d.fields.right||e.push("You have'nt provided the content to GumgaManyToMany directive."),o.leftSearch||e.push("You need to enter the parameter left-search."),o.rightList||e.push("You need to enter the parameter right-list."),e.forEach(function(e){console.error(e)})}function c(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function u(e,t,n){return e.replace(new RegExp(c(t),"g"),n)}var d=this;d.fields={},o.authorizeAdd||(d.authorizeAdd=!0),d.modalFields=o.modalFields||"",d.boxHeight=o.boxHeight||"298px",d.textHeadingLeft=o.textHeadingLeft||"Available",d.textHeadingRight=o.textHeadingRight||"Selected",d.textMoveallLeft=o.textMoveallLeft||"Move all items",d.textMoveallRight=o.textMoveallRight||"Move all items",d.textLeftEmpty=o.textLeftEmpty||"Empty List",d.textRightEmpty=o.textRightEmpty||"Empty List",d.textLeftPlaceholder=o.textLeftPlaceholder||"Filter",d.textRightPlaceholder=o.textRightPlaceholder||"Filter",d.textLeft=o.textLeft||"Showing {{$value}} {{$value > 1 ? 'items': 'item'}}",d.textRight=o.textRight||"Showing {{$value}} {{$value > 1 ? 'items': 'item'}}",d.rightList=d.rightList||[],d.rightAux=angular.copy(d.rightList),d.leftList=d.leftList||[],d.rightSearchField=o.rightSearchField||null;var g={listChange:o.onListChange?d.onListChange:angular.noop,newValueAdded:o.onNewValueAdded?d.onNewValueAdded:angular.noop,valueVisualizationOpened:o.onValueVisualizationOpened?d.onValueVisualizationOpened:angular.noop,valueVisualizationClosed:o.onValueVisualizationClosed?d.onValueVisualizationClosed:angular.noop};d.filterLeft=function(e){d.leftSearch({param:e})},e.$watch("ctrl.leftList",function(e){i(),d.removeDuplicates()}),e.$watch("ctrl.rightList",function(e){d.rightAux=angular.copy(d.rightList),i()},!0),d.filterRight=function(e){d.rightSearchField&&(d.rightAux=d.rightList.filter(function(t){return t[d.rightSearchField].toLowerCase().indexOf(e.toLowerCase())>-1})),d.removeDuplicates(),i()},d.moveAllItems=function(t,n,a){"left"==a&&(d.leftList=n.concat(t)),"right"==a&&(d.rightList=n.concat(t)),t.splice(0,t.length),d.rightAux=angular.copy(d.rightList),"right"==a&&d.filterLeft(""),d.removeDuplicates(),i(),e.rightsearch="",e.leftsearch=""},d.openModal=function(e,t){e.stopImmediatePropagation(),d.template='<div class="modal-body">\n';for(var n in t)t.hasOwnProperty(n)&&"$$hashKey"!=n&&"oi"!=n&&"version"!=n&&(!l(n)&&d.modalFields||(d.template+='   <div class="form-group">\n',d.template+="       <label><small>"+n+"</small></label>\n",d.template+='       <input type="text" ng-model="$value.'+n+'" disabled class="form-control"/>\n',d.template+="   </div>\n"));d.template+='   <div class="modal-footer">\n',d.template+='       <button type="button" class="btn btn-warning" ng-click="back()">Back</button>\n',d.template+="   </div>\n",d.template+="</div>\n",g.valueVisualizationOpened();var a=$modal.open({template:d.template,size:"sm",controller:["$scope","$value","$modalInstance",function(e,t,n){e.$value=t,e.back=function(){n.close()}}],resolve:{$value:function(){return t}}});a.result.then(function(){g.valueVisualizationClosed()})},d.removeOrAdd=function(t,n,a,o){t.splice(o,1),n.push(a),i(),d.removeDuplicates(),d.rightAux=angular.copy(d.rightList),e.rightsearch="",g.listChange({value:a})},d.addNew=function(t){e.leftsearch="",d.postMethod({value:t}),d.filterLeft(""),g.newValueAdded()};var p=function(e){return d.rightList.filter(function(t){return angular.equals(t,e)}).length>0};d.removeDuplicates=function(){d.leftListAux=d.leftList.filter(function(e){return!p(e)})},r(e,function(e){angular.forEach(e,function(e){var t=angular.element(e)[0];switch(t.nodeName){case"LEFT-FIELD":d.fields.left=t.innerHTML;break;case"RIGHT-FIELD":d.fields.right=t.innerHTML}})}),n(function(){var e=angular.element(document.getElementById("textinfoleft"));e.replaceWith(t('<label ng-show="ctrl.leftListAux.length > 0">'+u(d.textLeft,"$value","ctrl.leftListAux.length")+"</label>")(e.scope()));var n=angular.element(document.getElementById("textinforight"));n.replaceWith(t('<label ng-show="ctrl.rightList.length > 0">'+u(d.textRight,"$value","ctrl.rightAux.length")+"</label>")(n.scope()))}),s(),i(),d.filterLeft("")}var r='<div class="row">\n													<div class="col-md-12">\n                    				<div class="col-md-6 col-xs-6">\n															<label ng-hide="ctrl.leftListAux.length > 0">{{ctrl.textLeftEmpty}}</label>\n                    					<label ng-show="ctrl.leftListAux.length > 0" id="textinfoleft"></label>\n															<div ng-class="leftsearch && ctrl.leftListAux.length == 0 && ctrl.authorizeAdd ? \'input-group\' : \'\'">\n                    						<input class="form-control input-sm" placeholder="{{ctrl.textLeftPlaceholder}}" ng-change="ctrl.filterLeft(leftsearch)" ng-model="leftsearch"/>\n																<div ng-click="ctrl.addNew(leftsearch)" ng-show="leftsearch && ctrl.leftListAux.length == 0 && ctrl.authorizeAdd" class="input-group-addon hover"><i class="glyphicon glyphicon-plus"></i></div>\n															</div>\n                    					<div class="line-break"></div>\n                    					<div class="panel panel-default">\n                    						<div class="panel-heading ">{{ctrl.textHeadingLeft}}</div>\n                                <ul class="list-group" style="height: {{ctrl.boxHeight}};max-height:{{ctrl.boxHeight}};overflow: auto;">\n                                  <li class="list-group-item  hover" ng-repeat="$value in ctrl.leftListAux track by $index" ng-click="ctrl.removeOrAdd(ctrl.leftListAux, ctrl.rightList, $value, $index)">\n                                      <span name="fieldleft"></span>\n                                  </li>\n                                </ul>\n																<div class="panel-footer hover" style="text-align: center;" ng-click="ctrl.moveAllItems(ctrl.leftListAux, ctrl.rightList, \'right\')" ng-disabled="ctrl.leftListAux.length == 0">\n																		{{ctrl.textMoveallLeft}}\n																		<span class="glyphicon glyphicon-arrow-right"></span>\n															  </div>\n															 </div>\n                           </div>\n                           <div class="col-md-6 col-xs-6">\n													 	 <label ng-hide="ctrl.rightList.length > 0">{{ctrl.textRightEmpty}}</label>\n														 <label ng-show="ctrl.rightList.length > 0" id="textinforight"></label>\n                          	 <input class="form-control input-sm" ng-disabled="!ctrl.rightSearchField" placeholder="{{ctrl.textRightPlaceholder}}" ng-change="ctrl.filterRight(rightsearch)" ng-model="rightsearch"/>\n                             <div class="line-break"></div>\n                             <div class="panel panel-default">\n                               <div class="panel-heading ">{{ctrl.textHeadingRight}}</div>\n															 <ul class="list-group" style="height: {{ctrl.boxHeight}};max-height:{{ctrl.boxHeight}};overflow: auto;">\n																 <li class="list-group-item hover" ng-repeat="$value in ctrl.rightAux track by $index" ng-click="ctrl.removeOrAdd(ctrl.rightList, ctrl.leftListAux, $value, $index)">\n																		 <span name="fieldright">{{$value}}</span>\n																 </li>\n															 </ul>\n															 <div class="panel-footer hover" style="text-align: center;" ng-click="ctrl.moveAllItems(ctrl.rightList, ctrl.leftListAux, \'left\')" ng-disabled="ctrl.rightAux.length == 0">\n															 	<span class="glyphicon glyphicon-arrow-left"></span> {{ctrl.textMoveallRight}}\n															</div>\n                             </div>\n													 </div>\n											 </div>\n                    </div>';return o.$inject=["$scope","$element","$attrs","$transclude"],{restrict:"E",scope:{rightList:"=rightList",leftList:"=leftList",leftSearch:"&leftSearch",rightSearch:"&rightSearch",postMethod:"&",onListChange:"&?",onNewValueAdded:"&?",onValueVisualizationOpened:"&?",onValueVisualizationClosed:"&?",authorizeAdd:"=?"},bindToController:!0,transclude:!0,controllerAs:"ctrl",controller:o,template:r}}e.$inject=["$q","$compile","$timeout","$uibModal"],angular.module("gumga.manytomany",["ui.bootstrap"]).directive("gumgaManyToMany",e)}(),function(){function e(e,t,n,a){function o(a,o,r,i){function l(){var e=function(e){return $.filter(function(t){return e==t}).length>0};return Object.keys(r.$attr).filter(function(t){return!e(t)}).reduce(function(e,t){return e+=t+'="'+r[t]+'"'},"")}function s(){return h.displayClear}function c(){return h.displayInfo}function u(){return h.disabled?!0:!("object"==typeof h.value)}function d(){return!("object"==typeof h.value)}function g(){h.value=null}function p(){return h.postMethod&&("string"==typeof v.$$rawModelValue||v.$$rawModelValue instanceof String)&&v.$$rawModelValue.length>0}function m(e,t,n,a,o){t.id||h.proxySave(t,o),h.ev.onSelect({value:t})}function f(e,n){function a(e,t){e.close=function(){return t.close()}}function o(){var t=h.modalFields;return t.reduce(function(t,n){return t+='\n                <div class="form-group">\n                  '+("string"==typeof e[n]||e[n]instanceof String?"<label>"+n+"</label>":" ")+"\n                  "+("string"==typeof e[n]||e[n]instanceof String?'<input type="text" class="form-control" value="'+e[n]+'" disabled />':" ")+"\n                </div>"}," ")}void 0===e&&(e={}),h.isTypeaheadOpen=!0,n.stopImmediatePropagation(),n.preventDefault(),a.$inject=["$scope","$uibModalInstance"];var r='\n            <div class="modal-header">\n              <h3 class="modal-title">'+h.modalTitle+'</h3>\n            </div>\n            <div class="modal-body">\n              '+o()+"\n            </div>\n            ";t.open({controller:a,template:r})}var h=this,v=void 0,b=void 0,y={noValue:"É necessário um atributo value no componente gumgaManyToOne",noField:"É necessário um atributo field no componente gumgaManyToOne",noSearch:"É necessário uma função de busca no componente gumgaManyToOne"},$=["value","list","searchMethod","field","description","onNewValueAdded","onValueSelected","onValueVisualizationOpened","onValueVisualizationClosed","tabindex"];r.value||console.error(y.noValue),r.field||console.error(y.noField),r.searchMethod||console.error(y.noSearch),h.ev={},h.list=h.list||[],h.ev.onNewValueAdded=r.onNewValueAdded?h.onNewValueAdded:angular.noop,h.ev.onSelect=r.onSelect?h.onSelect:angular.noop,h.ev.onValueVisualizationOpened=r.onValueVisualizationOpened?r.onValueVisualizationOpened:angular.noop,h.ev.onValueVisualizationClosed=r.onValueVisualizationClosed?r.onValueVisualizationClosed:angular.noop,h.field=r.field||"",h.description=r.description||!1,h.modalTitle=r.modalTitle||"Visualizador de Registro",h.modalFields=r.modalFields?r.modalFields.splice(","):[h.field],h.postFields=r.postFields?r.postFields.split(","):[h.field],h.displayClear=h.hasOwnProperty("displayClear")?h.displayClear:!0,h.displayInfo=h.hasOwnProperty("displayInfo")?h.displayInfo:!0,h.showDescripion=!!h.description,h.displayInfoButton=c,h.modelValueIsObject=u,h.disabledDisplayInfo=d,h.displayPlusButton=p,h.displayClearButton=s,h.clearModel=g,h.openInfo=f,h.valueToAdd="",h.afterSelect=m,h.proxySearch=function(e){return h.searchMethod({param:e}).then(function(t){if(t.filter(function(t){return t[h.field]==e}).length>0||!h.authorizeAdd)return t;var n={};return n[h.field]=h.valueToAdd,t.concat(n)})},h.proxySave=function(e,n){function a(e,t,n){var a=this;a.object=n,a.cancel=function(e){return t.dismiss("cancel")},a.save=function(e){return t.close(e)}}function o(){var e=h.postFields;return e.reduce(function(e,t){return e+='\n                <div class="form-group">\n                  <label>'+t+'</label>\n                  <input type="text" class="form-control" ng-model="ctrl.object.'+t+'" />\n                </div>'}," ")}if(n){h.isTypeaheadOpen=!0;var r="ctrl",i={value:function(){return e}};a.$inject=["$scope","$uibModalInstance","value"];var l='\n            <div class="modal-header">\n              <h3 class="modal-title">'+h.modalTitle+'</h3>\n            </div>\n            <div class="modal-body">\n              '+o()+'\n            </div>\n            <div class="modal-footer">\n              <button type="button" class="btn btn-default" ng-click="ctrl.cancel(ctrl.object)">Retornar</button>\n              <button type="button" class="btn btn-primary" ng-click="ctrl.save(ctrl.object)">Salvar</button>\n            </div>';t.open({controller:a,template:l,controllerAs:r,resolve:i}).result.then(function(e){h.postMethod({value:e}).then(function(e){return h.value=e.data.data})},function(e){return h.value=""})}};var w='\n          <div class="full-width-without-padding">\n            <div ng-class="{\'input-group\': (manyToOneCtrl.displayInfoButton() && manyToOneCtrl.modelValueIsObject()) || manyToOneCtrl.displayClearButton()}">\n              <input type="text" class="form-control inputahead" tabindex="'+h.tabSeq+'" ng-disabled="manyToOneCtrl.disabled" ng-readonly="manyToOneCtrl.readonly" ng-model="manyToOneCtrl.value" ng-trim="true" uib-typeahead="$value as $value[manyToOneCtrl.field] for $value in manyToOneCtrl.proxySearch($viewValue)" '+l()+'\n                     typeahead-template-url="manyToOneTemplate'+h.field+'.html" typeahead-is-open="manyToOneCtrl.isTypeaheadOpen" typeahead-show-hint="true" typeahead-min-length="0" typeahead-on-select="manyToOneCtrl.afterSelect($item, $model, $label, $event, \'isNotButton\')" autocomplete="off"/>\n              <div class="input-group-btn input-group-btn-icon" ng-show="(manyToOneCtrl.displayInfoButton() && manyToOneCtrl.modelValueIsObject()) || manyToOneCtrl.displayClearButton()">\n                <button type="button" class="btn btn-default" ng-disabled="manyToOneCtrl.modelValueIsObject()" ng-show="manyToOneCtrl.displayClearButton()" ng-click="manyToOneCtrl.clearModel()">\n                  <span class="glyphicon glyphicon-remove"></span>\n                </button>\n                <button type="button" class="btn btn-default" ng-show="manyToOneCtrl.displayInfoButton()" ng-disabled="manyToOneCtrl.disabledDisplayInfo()" ng-click="manyToOneCtrl.openInfo(manyToOneCtrl.value, $event)">\n                  <span class="glyphicon glyphicon-info-sign"></span>\n                </button>\n              </div>\n            </div>\n          </div>',x='\n          <a class="col-md-12 result">\n            <span class="col-md-10 str" ng-click="manyToOneCtrl.select()">\n              <span ng-bind-html="match.model.'+h.field+' | uibTypeaheadHighlight:query"></span>\n              <span ng-show="$parent.$parent.$parent.$parent.manyToOneCtrl.valueToAdd == match.label && $parent.$parent.$parent.$parent.manyToOneCtrl.valueToAdd.length > 0 && !match.model.id && !!$parent.$parent.$parent.$parent.manyToOneCtrl.authorizeAdd">(novo)</span><br>\n              <small ng-show="$parent.$parent.$parent.$parent.manyToOneCtrl.showDescripion" ng-bind-html="match.model.'+h.description+' | uibTypeaheadHighlight:query""></small>\n            </span>\n            <span class="col-md-2">\n              <span class="icon text-right" ng-if="'+h.displayInfo+'" ng-click="$parent.$parent.$parent.$parent.manyToOneCtrl.openInfo(match.model, $event)" ng-hide="$parent.$parent.$parent.$parent.manyToOneCtrl.valueToAdd == match.label && !match.label.id">\n                <span class="glyphicon glyphicon-info-sign"></span>\n              </span>\n            </span>\n            <div class="clearfix"></div>\n          </a>';e.put("manyToOneTemplate"+h.field+".html",x);for(var S=angular.element(w),k=S.find("input"),T=o.parent();"FORM"!=T[0].nodeName;)T=T.parent();var C=a.$parent[T.attr("name")];o.append(n(S)(a)),v=k.controller("ngModel"),b=angular.copy(v),C.$addControl(v),v.$validators.manyToOne=function(e){return e?!("string"==typeof e||e instanceof String):!0},a.$watch(function(){return v.$$rawModelValue},function(e){return h.valueToAdd=v.$$rawModelValue})}return o.$inject=["$scope","$element","$attrs","$transclude"],{restrict:"E",replace:!0,transclude:!0,scope:{value:"=",searchMethod:"&",postMethod:"&?",onSelect:"&?",list:"=?",authorizeAdd:"=?",disabled:"=?",readonly:"=?",displayInfo:"=?",displayClear:"=?",tabSeq:"=?"},controllerAs:"manyToOneCtrl",bindToController:!0,controller:o}}e.$inject=["$templateCache","$uibModal","$compile","$timeout"],angular.module("gumga.manytoone",["ui.bootstrap"]).directive("gumgaManyToOne",e)}(),function(){function e(e,t){this.intN=void 0,this.decN=void 0,this.posN=void 0,this.percent=!1,this.$filter=e,this.$locale=t;var n=this;this.extractDecimalPlacesFromString=function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);if(!t)return 0;var n=t[1]?t[1].length:0,a=t[2]?+t[2]:0;return Math.max(0,n-a)},this.fromUser=function(e,t){if(!t)return 0;if("-"==t&&!n.posN)return 0;angular.isString(t)||(t=t.toString());var a=t.replaceAll(n.$locale.NUMBER_FORMATS.GROUP_SEP,"");if(n.intN){var o=a.indexOf(n.$locale.NUMBER_FORMATS.DECIMAL_SEP),r=a.substr(0,-1===o?a.length:o);r&&r.length>n.intN&&(a=r.substr(0,n.intN),e.$viewValue=a,e.$render())}if(0==n.decN&&(e.$viewValue=a.replaceAll(n.$locale.NUMBER_FORMATS.DECIMAL_SEP,""),e.$render()),n.decN){var o=a.indexOf(n.$locale.NUMBER_FORMATS.DECIMAL_SEP);o>0&&a.length>o+n.decN+1&&(a=a.substr(0,o+n.decN+1),e.$viewValue=a,e.$render())}n.posN&&"-"==a.charAt(0)&&(a=a.substring(1,a.length),e.$viewValue=a,e.$render());var i=a.replaceAll(n.$locale.NUMBER_FORMATS.DECIMAL_SEP,"."),l=Number(i);return n.percent&&(l/=100),l},this.toUser=function(e,t){return n.percent&&(e=100*e),n.$filter("number")(e,t||n.decN)}}function t(e,t,n,a){var o=["Backspace","Del","Home","Tab","Left","Right","Up","Down","End"],r=a[0],i=a[1];r.$parsers.push(function(e){return console.log(e),i.fromUser(r,e)}),r.$formatters.push(i.toUser.bind(i)),t.bind("blur",function(){t.val(i.toUser(r.$modelValue))}),t.bind("focus",function(){var e=r.$modelValue,n=i.extractDecimalPlacesFromString(e);t.val(i.toUser(e,n))}),t.bind("keypress",function(e){if(13==e.keyCode)return!0;if(o.indexOf(e.key)>=0)return!0;var n=String.fromCharCode(e.which),a=t.val(),r=i.$locale.NUMBER_FORMATS;return"-"==n&&0==a.length?!0:n==r.GROUP_SEP?!1:n==r.DECIMAL_SEP?a.indexOf(r.DECIMAL_SEP)<0:/[\d]/g.test(n)})}String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){if(e===t)return this;for(var n=this,a=n.indexOf(e);-1!=a;)n=n.replace(e,t),a=n.indexOf(e);return n}),e.$inject=["$filter","$locale"],angular.module("gumga.number",[]).directive("gumgaNumber",function(){return{restrict:"AC",require:["ngModel","gumgaNumber"],controller:e,controllerAs:"numberCtrl",link:t}}).directive("integerPlaces",function(){return{restrict:"A",require:"gumgaNumber",link:function(e,t,n,a){a.intN=e.$eval(n.integerPlaces)}}}).directive("decimalPlaces",function(){return{restrict:"A",require:"gumgaNumber",link:function(e,t,n,a){a.decN=e.$eval(n.decimalPlaces)}}}).directive("positiveNumber",function(){return{restrict:"A",require:"gumgaNumber",link:function(e,t,n,a){a.posN=e.$eval(n.positiveNumber)||!0}}}).directive("percentNumber",function(){return{restrict:"A",require:"gumgaNumber",link:function(e,t,n,a){a.percent=!0}}}).directive("integerNumber",function(){return{restrict:"AC",require:"gumgaNumber",link:function(e,t,n,a){a.decN=0}}})}(),function(){function e(){return function(e,t){return e?(angular.isString(e)||console.error("É necessário passar uma string para o filtro gumgaTranslate"),String.prototype.numberInWords=function(e){for(var t,n,a,o,r,i,l=[["zero","um","dois","três","quatro","cinco","seis","sete","oito","nove","dez","onze","doze","treze","quatorze","quinze","dezesseis","dezessete","dezoito","dezenove"],["dez","vinte","trinta","quarenta","cinquenta","sessenta","setenta","oitenta","noventa"],["cem","cento","duzentos","trezentos","quatrocentos","quinhentos","seiscentos","setecentos","oitocentos","novecentos"],["mil","milhão","bilhão","trilhão","quadrilhão","quintilhão","sextilhão","setilhão","octilhão","nonilhão","decilhão","undecilhão","dodecilhão","tredecilhão","quatrodecilhão","quindecilhão","sedecilhão","septendecilhão","octencilhão","nonencilhão"]],n=this.replace(e?/[^,\d]/g:/\D/g,"").split(","),s=" e ",c="real",u="centavo",d=n.length-1,g=-1,p=[],m=[],f="";++g<=d;m=[])if(g&&(n[g]=(1*("."+n[g])).toFixed(2).slice(2)),(t=(a=n[g]).slice((i=a.length)%3).match(/\d{3}/g),a=i%3?[a.slice(0,i%3)]:[],a=t?a.concat(t):a).length){for(t=-1,i=a.length;++t<i;f="")(o=1*a[t])&&(20>o%100&&(f+=l[0][o%100])||o%100+1&&(f+=l[1][(o%100/10>>0)-1]+(o%10?s+l[0][o%10]:"")),m.push((100>o?f:o%100?l[2][o/100>>0]+s+f:l[2][100==o?0:o/100>>0])+((f=i-t-2)>-1?" "+(o>1&&f>0?l[3][f].replace("?o","?es"):l[3][f]):"")));t=(r=m.length)>1?(t=m.pop(),m.join(" ")+s+t):m.join("")||(!g&&1*n[g+1]>0||p.length?"":l[0][0]),t&&p.push(t+(e?" "+(1*a.join("")>1?g?u+"s":(/0{6,}$/.test(n[0])?"de ":"")+c.replace("l","is"):g?u:c):""))}return p.join(s)},e.numberInWords(t)):void 0}}e.$inject=[],angular.module("gumga.numberinwords",[]).filter("gumgaNumberInWords",e)}(),angular.module("gumga.query",["gumga.query.factory","gumga.query.directive"]),angular.module("gumga.tag",["gumga.tag.tag","gumga.tag.column","gumga.tag.unity"]),TranslateFilter.$inject=["TranslateHelper","$timeout"],angular.module("gumga.translate.filter.filter",["gumga.directives.translate.translatehelper"]).filter("gumgaTranslate",TranslateFilter),angular.module("gumga.translate.filter",["gumga.translate.filter.filter"]),function(){function e(e,t,n){var a='<div class="row"> <div class="col-md-12 col-sm-12 col-xs-12">   <accordion>	  <accordion-group is-open="false" heading="{{::title}}">',o='<div class="row"> <div class="col-md-8">	<div class="form-group">     <label for="País">País</label>	  <select ng-readonly="true" ng-model="value.country" class="form-control" ng-options="pais for pais in factoryData.availableCountries"></select>	</div>	</div> <div class="col-md-4">	<div class="form-group">     <label for="input{{::id}}">CEP</label>	  <div class="input-group">		<input type="text" class="form-control" ng-model="value.zipCode" gumga-mask="99.999-999" id="input{{::id}}" ng-keypress="custom($event,value.zipCode)">		<span class="input-group-btn">	      <button class="btn btn-primary" type="button" ng-click="searchCep(value.zipCode)" ng-disabled="loader{{::id}}" id="buttonSearch{{::id}}"><i class="glyphicon glyphicon-search"></i></button>		</span>	  </div>	</div> </div></div>',r='<div class="form-group"> <label for="tipoLogradouro">Tipo Logradouro</label> <select type="text" ng-model="value.premisseType" class="form-control" ng-options="log for log in factoryData.logs"></select></div>',i='<div class="form-group"> <label for="Logradouro">Logradouro</label> <input type="text" ng-model="value.premisse" class="form-control id="oi"/></div>',l='<div class="form-group">		<label for="Número">Número</label>		<input type="text" ng-model="value.number" class="form-control" id="numberInput{{::id}}"/></div>',s='<div class="row">		<div class="col-md-4">'+r+'		</div>		<div class="col-md-8">'+i+"		</div></div>",c='<div class="row">		<div class="col-md-4">'+r+'		</div>		<div class="col-md-5">'+i+'		</div>		<div class="col-md-3">'+l+"		</div></div>",u='<div class="row">		<div class="col-md-12">				<div class="form-group">						<label for="Complemento">Complemento</label>						<input type="text" ng-model="value.information" class="form-control"/>				</div>		</div></div>',d='<div class="row">		<div class="col-md-12">				<div class="form-group">						<label for="Bairro">Bairro</label>						<input type="text" ng-model="value.neighbourhood" class="form-control"/>				</div>		</div></div>',g='<div class="row">		<div class="col-md-4">				<div class="form-group">						<label for="UF">UF</label>						<select ng-model="value.state" class="form-control" ng-options="uf for uf in factoryData.ufs"></select>				</div>		</div>		<div class="col-md-8">				<div class="form-group">						<label for="Localidade">Localidade</label>						<input type="text" ng-model="value.localization" class="form-control"/>				</div>		</div></div>',p='<div class="row">		<div class="col-md-12">				<button type="button" class="btn btn-default btn-block" ng-disabled="!value.localization" ng-click="openMaps(value)" target="_blank">Maps <i class="glyphicon glyphicon-globe"></i></button>		</div></div>',m="						</accordion-group>				</accordion>		</div></div>";return{restrict:"E",scope:{value:"=",onSearchCepStart:"&?",onSearchCepSuccess:"&?",onSearchCepError:"&?"},link:function(r,i,l,f){function h(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function v(e){return void 0==e||"true"==e}if(h(r.value)&&(r.value=e.returnFormattedObject()),l.countryCep=v(l.countryCep),l.street=v(l.street),l.streetNumber=v(l.streetNumber),l.complement=v(l.complement),l.neighborhood=v(l.neighborhood),l.stateCity=v(l.stateCity||l.cityState),l.maps=v(l.maps),!l.name)throw"É necessário passar um parâmetro 'name' como identificador para GumgaAddress";if(!(l.street&&l.streetNumber||l.stateCity))throw"É necessário usar ao menos um dos elementos principais [street / city-state] para GumgaAddress";if(!l.countryCep&&(l.onSearchCepStart||l.onSearchCepSuccess||l.onSearchCepError))throw"É necessário uso do atributo country-cep para uso das funções [on-search-cep-start / on-search-cep-success / on-search-cep-error]";
var b="";b=b.concat(a),l.countryCep&&(b=b.concat(o)),(l.stateCity||l.cityState)&&(b=b.concat(g)),l.neighborhood&&(b=b.concat(d)),l.street&&(b=b.concat(s)),l.streetNumber&&(b=b.concat(c)),l.complement&&(b=b.concat(u)),l.maps&&(b=b.concat(p)),b=b.concat(m),i.append(n(b)(r)),r.title=l.title||"Endereço",r.id=l.name,r["loader"+r.id]=!1,r["maps"+r.id]=!1,r.factoryData={ufs:e.everyUf,logs:e.everyLogradouro,availableCountries:e.availableCountries},r.value.country=r.factoryData.availableCountries[0];var y={searchCepStart:l.onSearchCepStart?r.onSearchCepStart:angular.noop,searchCepSuccess:l.onSearchCepSuccess?r.onSearchCepSuccess:angular.noop,searchCepError:l.onSearchCepError?r.onSearchCepError:angular.noop};r.custom=function(e,t){13==e.charCode?r.searchCep(t):angular.noop},r.openMaps=function(e){e.number||(e.number="");var t="https://www.google.com.br/maps/place/"+e.premisseType+" "+e.premisse+","+e.number+","+e.localization;window.open(t)},r.returnLink=function(e){return e.number||(e.number=""),"https://www.google.com.br/maps/place/"+e.premisseType+" "+e.premisse+","+e.number+","+e.localization},r.searchCep=function(e){r["loader"+r.id]=!0,y.searchCepStart(),t.get("http://www.gumga.com.br/services-api/public/cep/"+e).success(function(e){y.searchCepSuccess({$value:e}),r["loader"+r.id]=!1,1==parseInt(e.resultado)&&(r.value.premisseType=e.tipo_logradouro,r.value.premisse=e.logradouro,r.value.localization=e.cidade,r.value.neighbourhood=e.bairro,r.value.state=e.uf,r.value.country="Brasil")}).error(function(e){y.searchCepError({$value:e})})},r.value.zipCode&&r.searchCep(r.value.zipCode)}}}e.$inject=["GumgaAddressService","$http","$compile"],angular.module("gumga.directives.address",["gumga.services.address"]).directive("gumgaAddress",e)}(),function(){function e(e){return{restrict:"EA",scope:!1,compile:function(){function t(t,n,a,o){$.notify({icon:t,title:n,message:a},{type:o,offset:50,timer:100,delay:3500,onShow:e.$broadcast("onNotificationShow"),onClose:e.$broadcast("onNotificationClose"),allow_dismiss:!0,animate:{enter:"animated bounceInRight",exit:"animated bounceOutRight"},template:'<div data-notify="container" class="col-xs-9 col-sm-3 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span> <span data-notify="title"><b>{1}</b></span><br> <span data-notify="message">{2}</span></div>'})}e.$on("dangerMessage",function(e,n){t("glyphicon glyphicon-exclamation-sign",n.title,n.message,"danger")}),e.$on("successMessage",function(e,n){t("glyphicon glyphicon-ok",n.title,n.message,"success")}),e.$on("warningMessage",function(e,n){t("glyphicon glyphicon-warning-sign",n.title,n.message,"warning")}),e.$on("infoMessage",function(e,n){t("glyphicon glyphicon-info-sign",n.title,n.message,"info")})}}}e.$inject=["$rootScope"],angular.module("gumga.directives.alert",[]).directive("gumgaAlert",e)}(),function(){function e(e){var t=['<ol class="breadcrumb">','<li ng-repeat="bread in breadcrumbs" ><a ui-sref="{{::bread.state}}">{{::bread.state}}</a></li>',"</ol>"];return{restrict:"E",template:t.join("\n"),replace:!0,link:function(t,n,a){t.$on("breadChanged",function(){t.breadcrumbs=e.breadcrumbs.filter(function(e){return e.state.split(".").length>=2})})}}}e.$inject=["$rootScope"],angular.module("gumga.directives.breadcrumb",[]).directive("gumgaBreadcrumb",e)}(),function(){function e(e){return{restrict:"A",require:["^form","ngModel"],link:function(t,n,a){t._max=parseInt(a.gumgaMaxLengthText),isNaN(parseInt(a.gumgaCounter))||(t._max=parseInt(a.gumgaCounter));var o="<p class=\"{{_max <= teste.length ? 'text-danger' : 'text-muted'}}\">{{_max <= "+a.ngModel+'.length ? "Você passou o limite de '+t._max+' caracteres" : _max - '+a.ngModel+'.length + " caracteres restantes" }}</p>';n.after(e(o)(t))}}}e.$inject=["$compile"],angular.module("gumga.directives.counter",[]).directive("gumgaCounter",e)}(),function(){function e(){return{restrict:"E",scope:{fields:"="},bindToController:!0,controller:["$scope","$element","$attrs","$http","$compile",function(e,t,n,a,o){var r=this;if(!r.fields)throw"O componente gumgaCustomFields requer o escopo populado com os fields para geração do template.";angular.forEach(r.fields.gumgaCustomFields,function(e){angular.isString(e.field.options)&&"SELECTION"==e.field.type&&"["==e.field.options.charAt(0)?e.field.selection=JSON.parse(e.field.options):a.get(e.field.options).then(function(t){e.field.selection=t.data[e.field.optionsCollection],e.field.selection.forEach(function(t){return t[e.field.optionValueField]=t[e.field.optionValueField].toString()})},function(e){console.error(e)})});var i='\n        <div class="row" ng-if="f.field.active" ng-repeat="f in ctrl.fields.gumgaCustomFields">\n          <div class="col-md-12">\n           <label ng-bind="f.field.name" gumga-translate-tag="f.field.translateKey"></label>\n           <div ng-switch="f.field.type" class="form-group">\n             <div ng-switch-when="TEXT">\n               <input type="text" ng-model="f.textValue" class="form-control" />\n             </div>\n             <div ng-switch-when="NUMBER">\n               <input type="number" ng-model="f.numberValue" class="form-control" />\n             </div>\n             <div ng-switch-when="DATE">\n               <input type="text" ng-model="f.dateValue" class="form-control" datepicker-popup="fullDate" is-open="opened" ng-click="opened = !opened" />\n             </div>\n             <div ng-switch-when="SELECTION">\n               <select ng-options="opt[f.field.optionValueField] as opt[f.field.optionLabelField] for opt in f.field.selection" ng-model="f.textValue" class="form-control"></select>\n             </div>\n             <div ng-switch-when="LOGIC">\n               <button type="button" class="btn" ng-class="{\'btn-success\': f.logicValue, \'btn-default\': !f.logicValue}" ng-model="f.logicValue" btn-checkbox btn-checkbox-true="true" btn-checkbox-false="false">\n                 {{(f.logicValue) ? "On" : "Off" }}\n               </button>\n             </div>\n           </div>\n         </div>\n        </div>\n        ';t.append(o(i)(e))}],controllerAs:"ctrl"}}e.$inject=[],angular.module("gumga.directives.customfields",[]).directive("gumgaCustomFields",e)}(),function(){angular.module("gumga.directives.form",["gumga.directives.form.form","gumga.directives.form.class","gumga.directives.form.errors","gumga.directives.form.error","gumga.directives.form.max.date","gumga.directives.form.max.length","gumga.directives.form.max.number","gumga.directives.form.min.date","gumga.directives.form.min.length","gumga.directives.form.min.number","gumga.directives.form.pattern","gumga.directives.form.range.date","gumga.directives.form.range.number","gumga.directives.form.required","gumga.directives.form.validate.type"])}(),function(){function e(e,t,n){function a(a,o,r){function i(e,t){return r.$v?y[e]:t}function l(){n(function(){y.usingData=angular.copy(y.data)})}function s(e){u(),y.usingData.forEach(function(t,n){t.__checked=e,e&&d(t,n)}),a.wasSelected=e}function c(e){var t=angular.copy(e);return delete t.__checked,y.data.filter(function(e){return angular.equals(e,t)})[0]}function u(){a.$parent.selectedValues=[],y.selectedIndexes=[]}function d(e,t){y.selectedIndexes.push(t),a.$parent.selectedValues.push(c(e))}function g(e){y.usingData.forEach(function(t){t.__checked=e})}function p(e,t){e&&(g(!1),u())}function m(e,t,n){if("button"==n.target.type||"A"==n.target.tagName)return n.stopPropagation(),null;var o=a.$parent.selectedValues;if(a.wasSelected&&(y.checkAll=!1),r.onClick&&y.onClick({$value:t}),"single"==y.config.selection)t.__checked?(t.__checked=!1,u()):(p(y.selectedIndexes.length>0),d(t,e),t.__checked=!0);else{if(t.__checked=y.selectedIndexes.filter(function(t){return t==e}).length<1,t.__checked||0==y.selectedIndexes.length)return d(t,e),0;var i,l=angular.copy(t);delete l.__checked,o.forEach(function(e,t){angular.equals(e,l)&&(i=t)}),o.splice(i,1),y.selectedIndexes.splice(y.selectedIndexes.indexOf(e),1)}}function f(e){if(r.onSort&&y.onSort({field:y.selectedItem,dir:y.selectedItemDir}),!r.sort)throw'You have to pass a sort function to GumgaList [sort="sort(field,dir)"]';y.selectedItem=e,"asc"==y.selectedItemDir?y.selectedItemDir="desc":y.selectedItemDir="asc",y.sort({field:y.selectedItem,dir:y.selectedItemDir})}function h(e){r.onDoubleClick&&y.onDoubleClick({$value:e})}function v(e,t){var n=y.config.columns.filter(function(e){return e.name==t});if(n[0]){var a,o,r=n[0].conditional(e);for(var i in r)r[i]===!0?a=i:o=i;return'"'.concat(a).concat('"')}return"''"}function b(e){var t,n,a=y.config.conditional(e);for(var o in a)a[o]===!0?t=o:n=o;return t?'"'.concat(t).concat('"'):"''"}var y=this;y.selectedIndexes=[],y.selectedItem,y.selectedItemDir,y.$parent=a.$parent,y.sortProxy=f,y.selectRow=m,y["double"]=h,y.conditional=b,y.conditionalTableCell=v,y.selectAll=s,a.$parent.selectedValues=[],a.$parent.itemsPerPage,y.page=a.$parent.itemsPerPage,y.data=y.data||[],y.usingData=angular.copy(y.data)||[],y.config=y.config||{},y.usingData.forEach(function(e){e.__checked=!1}),y.config.selection=y.config.selection||"single",y.config.sortDefault=y.config.sortDefault,y.config.itemsPerPage=y.config.itemsPerPage||null,y.config.columns=y.config.columns||[],y.config.columnsConfig=y.config.columnsConfig||[],y.config.conditional=y.config.conditional||angular.noop,y.config.sort=i("sort",angular.noop),y.config["class"]=r["class"]?"table "+r["class"]:"table",y.config.checkbox=y.config.checkbox,y.config.onClick=i("onClick",angular.noop),y.config.onDoubleClick=i("onDoublelick",angular.noop),y.config.onSort=i("onSort",angular.noop),y.config.sortDefault&&f(y.config.sortDefault),y.config.columns&&(y.config.columns=e.ensureDefaultValues(y.config.columns.split(","),y.config.columnsConfig),y.config.auxColumnsToSort=y.config.columns),a.$watch("vm.data",function(){y.data&&y.data.length>0&&(y.config.columns||(y.config.columns=e.loadDefaultColumns(y.data[0]),y.config.auxColumnsToSort=y.config.columns)),l()},!0),o.append(t(e.mountTable(y.config))(a))}return a.$inject=["$scope","$element","$attrs"],{restrict:"E",scope:{sort:"&?",data:"=",onClick:"&?",onDoubleClick:"&?",onSort:"&?",config:"=configuration"},controller:a,controllerAs:"vm",bindToController:!0}}e.$inject=["GumgaListHelper","$compile","$timeout"],angular.module("gumga.directives.list",["gumga.services.listhelper"]).directive("gumgaList",e)}(),function(){function e(e,t,n){return{restrict:"E",scope:{left:"=leftList",right:"=rightList",leftFn:"&leftSearch",rightFn:"&rightSearch",postMethod:"&",onListChange:"&?",onNewValueAdded:"&?",onValueVisualizationOpened:"&?",onValueVisualizationClosed:"&?",authorizeAdd:"=?"},transclude:!0,link:function(n,a,o,r,i){function l(e){for(var t in e)e.hasOwnProperty(t)&&(g[t]=null)}function s(){var e=[];n.texts.left&&n.texts.right||e.push("You have'nt provided the content to GumgaManyToMany directive"),e.forEach(function(e){throw e}),c()}function c(){function e(e){return n.right.filter(function(t){return t[o.filterParameter]==e}).length}n.leftAux=n.left.filter(function(t){return 0==e(t[o.filterParameter])?t:void 0})}function u(){var e='<div class="full-width-without-padding">\n   <div class="col-md-6">\n       <strong><small>{{::labels.left}}</small></strong>\n       <div class="{{showClass()}}">           <input type="text" name="manymanyleft" ng-model="leftFilter" novalidate class="form-control"'+d("left",0)+' ng-change="leftFn({param: leftFilter})" ng-model-options="{ updateOn: \'default blur\', debounce: {\'default\': 300, \'blur\': 0} }"/>\n           <span class="input-group-addon" ng-show="showPlus(leftFilter)">                <button type="button" ng-click="addNew(leftFilter)"><i class="glyphicon glyphicon-plus"></i></button>           </span>       </div>       <ul class="list-group">\n           <li class="list-group-item" ng-repeat="$value in leftAux '+d("left",1)+'" ng-cloak>               <a class="inside-list-anchor" ng-click="removeFromAndAddTo(leftAux,right,$value)">'+n.texts.left+'</a>              <button class="badge" ng-click="halp($value)"><i class="glyphicon glyphicon-resize-full"></i></button>           </li>\n       </ul>   </div>\n   <div class="col-md-6">\n       <strong><small>{{::labels.right}}</small></strong>\n       <input type="text" name="manymanyleft" ng-model="rightFilter" novalidate class="form-control"'+d("right",0)+'/>\n       <ul class="list-group">\n           <li class="list-group-item" ng-repeat="$value in right '+d("right",1)+'" ng-cloak>               <a class="inside-list-anchor" ng-click="removeFromAndAddTo(right,leftAux,$value)">'+n.texts.right+'</a>              <button class="badge badge-helper" ng-click="halp($value)"><i class="glyphicon glyphicon-resize-full"></i></button>           </li>\n       </ul>\n   </div>\n</div>\n';a.append(t(e)(n))}function d(e,t){return 0==t?"left"==e&&o.leftFn?'ng-change= "'+o.leftFn+'({text: leftFilter})" ':"right"==e&&o.rightFn?'ng-change= "'+o.leftFn+'({text: rightFilter})" ':"":"left"!=e||o.leftFn?"right"!=e||o.rightFn?"":" | filter: rightFilter":" | filter: leftFilter"}n.left=n.left||[],n.right=n.right||[],o.authorizeAdd||(n.authorizeAdd=!0);var g={};n.texts={left:"",right:""},n.template="",n.labels={left:o.leftLabel,right:o.rightLabel};var p={listChange:o.onListChange?n.onListChange:angular.noop,newValueAdded:o.onNewValueAdded?n.onNewValueAdded:angular.noop,valueVisualizationOpened:o.onValueVisualizationOpened?n.onValueVisualizationOpened:angular.noop,valueVisualizationClosed:o.onValueVisualizationClosed?n.onValueVisualizationClosed:angular.noop};i(n,function(e){angular.forEach(e,function(e){var t=angular.element(e)[0];switch(t.nodeName){case"LEFT-FIELD":n.texts.left=t.innerHTML;break;case"RIGHT-FIELD":n.texts.right=t.innerHTML}}),s()}),u(),n.$watch("left",function(){s(),l(n.left[0])}),n.removeFromAndAddTo=function(e,t,n){e.splice(e.indexOf(n),1),p.listChange({$value:n}),t.push(n)},n.addNew=function(e){n.leftFilter="",n.postMethod({value:e}),p.newValueAdded()},n.showClass=function(){return n.showPlus()?"input-group":""},n.halp=function(t){n.template='<div class="modal-body">\n';for(var a in t)t.hasOwnProperty(a)&&"$$hashKey"!=a&&"oi"!=a&&"version"!=a&&(n.template+='   <div class="form-group">\n',n.template+="       <label><small>"+a+"</small></label>\n",n.template+='       <input type="text" ng-model="$value.'+a+'" disabled class="form-control"/>\n',n.template+="   </div>\n");n.template+='   <div class="modal-footer">\n',n.template+='       <button type="button" class="btn btn-warning" ng-click="back()">Back</button>\n',n.template+="   </div>\n",n.template+="</div>\n",p.valueVisualizationOpened();var o=e.open({template:n.template,size:"sm",controller:function(e,t,n){e.$value=t,e.back=function(){n.dismiss()}},resolve:{$value:function(){return t}}});o.result.then(function(){p.valueVisualizationClosed()})},n.showPlus=function(){function e(){return n.leftAux.filter(function(e){return e[o.filterParameter]==n.leftFilter}).length<1}function t(){return n.right.filter(function(e){return e[o.filterParameter]==n.leftFilter}).length<1}return 1==n.authorizeAdd?e()&&t():!1},n.doesItHaveClass=function(){return n.left.length>0?"":"input-group"}}}}e.$inject=["$uibModal","$compile","$timeout"],angular.module("gumga.directives.manytomany",["ui.bootstrap"]).directive("gumgaManyToMany",e)}(),function(){function e(e){function t(e){return e===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(e.type||e.href||~e.tabIndex)}return{priority:100,require:"ngModel",restrict:"A",scope:!1,compile:function(){var n={maskDefinitions:{9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/},clearOnBlur:!0,eventsToHandle:["input","keyup","click","focus"]};return function(a,o,r,i){function l(e){return angular.isDefined(e)?($(e),R?(g(),p(),!0):d()):d()}function s(e){e&&(M=e,R&&o.val(v(h(o.val()))))}function c(e){return R?(P=h(e||""),_=f(P),i.$setValidity("mask",_),_&&P.length?v(P):void 0):e}function u(e){return R?(P=h(e||""),_=f(P),i.$viewValue=P.length?v(P):"",i.$setValidity("mask",_),""===P&&r.required&&i.$setValidity("required",!i.$error.required),_?P:void 0):e}function d(){return R=!1,m(),angular.isDefined(G)?o.attr("placeholder",G):o.removeAttr("placeholder"),angular.isDefined(B)?o.attr("maxlength",B):o.removeAttr("maxlength"),o.val(i.$modelValue),i.$viewValue=i.$modelValue,!1}function g(){P=V=h(i.$modelValue||""),D=F=v(P),_=f(P);var e=_&&P.length?D:"";r.maxlength&&o.attr("maxlength",2*I[I.length-1]),G||o.attr("placeholder",M),o.val(e),i.$viewValue=e,i.$setValidity("mask",_)}function p(){z||(o.bind("blur",w),o.bind("mousedown mouseup",x),o.bind(H.eventsToHandle.join(" "),T),o.bind("paste",k),z=!0)}function m(){z&&(o.unbind("blur",w),o.unbind("mousedown",x),o.unbind("mouseup",x),o.unbind("input",T),o.unbind("keyup",T),o.unbind("click",T),o.unbind("focus",T),o.unbind("paste",k),z=!1)}function f(e){return e.length?e.length>=L:!0}function h(e){var t="",n=O.slice();return e=e.toString(),angular.forEach(N,function(t){e=e.replace(t,"")}),angular.forEach(e.split(""),function(e){n.length&&n[0].test(e)&&(t+=e,n.shift())}),t}function v(e){var t="",n=I.slice();return angular.forEach(M.split(""),function(a,o){e.length&&o===n[0]?(t+=e.charAt(0)||"_",e=e.substr(1),n.shift()):t+=a}),t}function b(e){var t=angular.isDefined(r.gumgaMaskPlaceholder)?r.gumgaMaskPlaceholder:r.placeholder;return"undefined"!=typeof t&&t[e]?t[e]:"_"}function y(){return M.replace(/[_]+/g,"_").replace(/([^_]+)([a-zA-Z0-9])([^_])/g,"$1$2_$3").split("_")}function $(e){var t=0;if(I=[],O=[],M="","string"==typeof e){L=0;var n=!1,a=0,o=e.split("");angular.forEach(o,function(e,o){H.maskDefinitions[e]?(I.push(t),M+=b(o-a),O.push(H.maskDefinitions[e]),t++,n||L++):"?"===e?(n=!0,a++):(M+=e,t++)})}I.push(I.slice().pop()+1),N=y(),R=I.length>1}function w(){H.clearOnBlur&&(j=0,U=0,_&&0!==P.length||(D="",o.val(""),a.$apply(function(){i.$setViewValue("")})))}function x(e){"mousedown"===e.type?o.bind("mouseout",S):o.unbind("mouseout",S)}function S(){U=q(this),o.unbind("mouseout",S)}function k(){E(this,o.val().length)}function T(e){e=e||{};var t=e.which,n=e.type;if(16!==t&&91!==t){var a,r=o.val(),l=F,s=h(r),c=V,u=A(this)||0,d=j||0,g=u-d,p=I[0],m=I[s.length]||I.slice().shift(),f=U||0,b=q(this)>0,y=f>0,$=r.length>l.length||f&&r.length>l.length-f,w=r.length<l.length||f&&r.length===l.length-f,x=t>=37&&40>=t&&e.shiftKey,S=37===t,k=8===t||"keyup"!==n&&w&&-1===g,T=46===t||"keyup"!==n&&w&&0===g&&!y,O=(S||k||"click"===n)&&u>p;if(U=q(this),!x&&(!b||"click"!==n&&"keyup"!==n)){if("input"===n&&w&&!y&&s===c){for(;k&&u>p&&!C(u);)u--;for(;T&&m>u&&-1===I.indexOf(u);)u++;var M=I.indexOf(u);s=s.substring(0,M)+s.substring(M+1)}for(a=v(s),F=a,V=s,o.val(a),i.$setViewValue(s),$&&p>=u&&(u=p+1),O&&u--,u=u>m?m:p>u?p:u;!C(u)&&u>p&&m>u;)u+=O?-1:1;(O&&m>u||$&&!C(d))&&u++,j=u,E(this,u)}}}function C(e){return I.indexOf(e)>-1}function A(e){if(!e)return 0;if(void 0!==e.selectionStart)return e.selectionStart;if(document.selection&&t(o[0])){e.focus();var n=document.selection.createRange();return n.moveStart("character",e.value?-e.value.length:0),n.text.length}return 0}function E(e,n){if(!e)return 0;if(0!==e.offsetWidth&&0!==e.offsetHeight)if(e.setSelectionRange)t(o[0])&&(e.focus(),e.setSelectionRange(n,n));else if(e.createTextRange){var a=e.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",n),a.select()}}function q(e){return e?void 0!==e.selectionStart?e.selectionEnd-e.selectionStart:document.selection?document.selection.createRange().text.length:0:0}var I,O,M,N,L,P,D,_,F,V,j,U,R=!1,z=!1,G=r.placeholder,B=r.maxlength,H=n;r.gumgaMaskOptions?(H=a.$eval(r.gumgaMaskOptions),angular.isObject(H)&&(H=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(void 0===t[n]?t[n]=angular.copy(e[n]):angular.extend(t[n],e[n]));return t}(n,H))):H=n,r.$observe("gumgaMask",l),angular.isDefined(r.gumgaMaskPlaceholder)?r.$observe("gumgaMaskPlaceholder",s):r.$observe("placeholder",s);var Q=!1;r.$observe("modelViewValue",function(e){"true"===e&&(Q=!0)}),a.$watch(r.ngModel,function(t){if(Q&&t){var n=e(r.ngModel);n.assign(a,i.$viewValue)}}),i.$formatters.push(c),i.$parsers.push(u),o.bind("mousedown mouseup",x)}}}}e.$inject=["$parse"],angular.module("gumga.directives.mask",[]).directive("gumgaMask",e)}(),function(){function e(e,t){return{restrict:"E",replace:!0,scope:{},link:function(n,a,o){function r(e){e>=0&&(n.v[e].isActive=!0,r(n.v[e].parent))}function i(e){for(var t=0;t<e.length;t++)for(var a=0;a<n.keys.length;a++)if(e[t].key==n.keys[a])return!0;return!1}n.v=[];var l=0,s=!1,c=function(e){return-1!=n.keys.indexOf(e)};e.get(o.menuUrl).then(function(e){n.dados=e.data},function(e){throw"Erro:"+e}),e.get(o.keysUrl).then(function(e){n.keys=e.data},function(e){throw"Erro:"+e}),n.$watchGroup(["dados","keys"],function(){n.dados&&n.keys&&u()});var u=function(){var e=["<div>"];e.push('<button id="btn-menu" class="btn btn-link" ng-click="mostrarMenu()"><i class="glyphicon glyphicon-align-justify"></i></button>'),e.push('<nav id="menu" class="col-sm-3" name="menu">'),e.push('<ul class="menu-holder">'),e.push('<img ng-src="'+o.image+'" alt="logo" width="40%" class="img-centered">');for(var r=0;r<n.dados.length;r++)c(n.dados[r].key)&&e.push(d(n.dados[r],"menu",{count:-1,label:null}));e.push("</ul>"),e.push("</nav>"),e.push("</div>"),e=e.join("\n"),a.append(t(e)(n))},d=function g(e,t,a){n.v[l]={isActive:!1,parent:a.count};var o=location.hash;if(e.URL){var r=angular.copy(e.URL)||" ";r="#/"+r.replace(".","/")}if(o==r)var s=['<li class="'+t+'-option active" >'];else var s=['<li class="'+t+'-option">'];e.filhos.length>0&&i(e.filhos)?s.push('<i  ng-class="v['+l+"].isActive ? ' glyphicon glyphicon-chevron-down ' : 'glyphicon glyphicon-chevron-right'\" class=\"fa "+t+'-color"  ng-click="resetarMenu('+l+')"></i>'):e.icon&&(e.icon_color?s.push('<i  class=" '+e.icon+' " style="color: '+e.icon_color+'" ng-click="resetarMenu('+l+')"></i>'):s.push('<i  class=" '+e.icon+' " style="icon white" ng-click="resetarMenu('+l+')"></i>')),s.push("<a "+(e.URL?'ui-sref="'+e.URL+'"':" ")+' ng-class="v['+l+"].isActive ? 'is-active' : ' '\" "),null===a.label||e.filhos.length>0?s.push('gumga-translate-tag="'+e.label.toLowerCase()+'.menuLabel">'):0===e.filhos.length&&s.push('gumga-translate-tag="'+a.label.toLowerCase()+"."+e.label.toLowerCase()+'">'),"submenu"==t&&s.push('gumga-translate-tag="'+e.label.toLowerCase()+'.menuLabel">'),s.push("</a>"),e.imageUrl&&(e.imageWidth&&e.imageHeight?s.push('<a ui-sref="'+e.URL+'"><img  src="'+e.imageUrl+'" style="width: '+e.imageWidth+"; height: "+e.imageHeight+';" ng-click="resetarMenu('+l+')"></i></a>'):s.push('<a ui-sref="'+e.URL+'"><img class="image-size-default" src="'+e.imageUrl+'" ng-click="resetarMenu('+l+')"></i></a>'));var u=l;if(l++,e.filhos.length>0){s.push('<ul ng-class="v['+(l-1)+"].isActive ? ' submenu-group-ativo' : 'submenu-group'\" class=\"menu-holder\">");for(var d=0;d<e.filhos.length;d++)c(e.filhos[d].key)&&s.push(g(e.filhos[d],"submenu",{count:u,label:e.label}));s.push("</ul>")}return s.push("</li>"),s.join("\n")};n.resetarMenu=function(e){var t;if(n.v[e].isActive){for(t=0;t<n.v.length;t++)n.v[e].isActive=!1;r(n.v[e].parent)}else{for(t=0;t<n.v.length;t++)n.v[t].isActive=!1;r(e)}},n.mostrarMenu=function(){s=!s;var e=a.find("nav");s?e.addClass("open-menu"):e.removeClass("open-menu")}}}}e.$inject=["$http","$compile"],angular.module("gumga.directives.menu",[]).directive("gumgaMenu",e)}(),function(){function e(e,t,n,a,o){var r=['<nav id="navbar">',' <a href="#" class="navbar-logo">{{title | uppercase}}</a>',' <span class="organization"><small>{{info.organization}}</small></span>',' <div class="navbar-form navbar-left" ng-transclude></div>',' <b class="pull-right">','   <img ng-show="info.picture" class="avatar img-circle" src="{{info.picture}}" />','   <a href ng-blur="hidePanel()" class="status-navbar" ng-click="showPanelNavBar()">','     <small>{{info.name}} &nbsp;&nbsp; <i class="glyphicon glyphicon-triangle-bottom"></i> </small>',"   </a>"," </b>",' <span ng-if="multientity" ng-click="treatUrl()" class="glyphicon glyphicon-search btn pull-right"></span>',' <input ng-if="multientity" type="text" id="inputSearch" ng-keyup="submitSearch($event)" ng-model="search" ng-show="inputVisible" class="navbar-input flip-right" placeholder="Search">',"</nav>",'<div class="nav-panel" ng-show="showPanelNav">',' <div class="panel-body" id="navPanelBody">','   <button ng-repeat="link in navlinks" ng-click="handle(link)" class="btn btn-link"><i class="{{link.glyphicon}}"> </i>{{link.text}} </button>'," </div>","</div>"],i=['<div class="modal-header">Change Password</div>','<div class="modal-body change-password">   <form name="ModalForm" novalidate>   <label> <small>Old Password</small></label>   <input type="password" ng-keyup="validPassword(user.newpass, user.oldpass)" ng-focus="oldPasswordInvalid=false" class="form-control" ng-model="user.oldpass" required/>   <label class="text-danger" ng-show="oldPasswordInvalid">Esta não é sua senha antiga</label>   <label><small> New Password</small></label>   <input type="password" class="form-control" ng-keyup="validPassword(user.newpass, user.oldpass)" ng-model="user.newpass" required/>   <label class="text-danger" style="width: 100%;"  ng-show="newPasswordInvalid">Por favor insira uma senha diferente da antiga.</label>   <label><small> New Password (again)</small></label>   <input type="password" class="form-control" ng-keyup="validPasswordConfirm(user.newpass,user.newpasscheck)" ng-model="user.newpasscheck" required/>   <label class="text-danger" style="width: 100%;"  ng-show="newPasswordConfirm">Repita a nova senha corretamente.</label></div>','<div class="modal-footer">   <button class="btn btn-primary" ng-click="ok(user)" type="submit" ng-disabled="ModalForm.$invalid || !btnEnabled"> Save</button>   <button class="btn btn-warning" ng-click="cancel()" type="button"> Cancel</button></div></form>'];return{restrict:"E",scope:!1,transclude:!0,template:r.join("\n"),link:function(a,r,l){var s=l.putUrl;"true"!=l.multiEntity&&l.multiEntity||(a.multientity=!0),a[l.putUrl]?angular.noop:s=a[l.putUrl],a.info=t.getSessionStorageItem("user"),a.navlinks=[{text:"Change Password",glyphicon:"glyphicon glyphicon-user",value:"pass"},{text:"Logout",glyphicon:"glyphicon glyphicon-log-out",value:"logout"}],a.inputVisible=!1,a.title=l.title||"",a.treatUrl=function(){a.inputVisible=!a.inputVisible,o(function(){document.getElementById("inputSearch").focus()},200)},a.$on("close",function(){a.showPanelNav=!1}),a.showPanelNavBar=function(){a.showPanelNav=!a.showPanelNav};a.submitSearch=function(t){var n=t.keyCode;13===n&&e.go("multientity",{search:a.search})},a.hidePanel=function(){o(function(){a.showPanelNav=!1},200)},a.handle=function(t){switch(a.showPanelNav=!a.showPanelNav,t.value){case"pass":var o=n.open({template:i.join("\n"),size:"sm",controller:["$scope","$uibModalInstance","$http","GumgaWebStorage",function(e,t,n,a){var o=a.getSessionStorageItem("user");e.btnEnabled=!1,e.oldPasswordInvalid=!1,e.newPasswordConfirm=!1,e.newPasswordInvalid=!1,e.validPasswordConfirm=function(t,n){t!==n?e.newPasswordConfirm=!0:e.newPasswordConfirm=!1,e.enabledBtn()},e.validPassword=function(t,n){e.user.newpasscheck="",t==n&&t?e.newPasswordInvalid=!0:e.newPasswordInvalid=!1,e.enabledBtn()},e.enabledBtn=function(){e.newPasswordConfirm||e.newPasswordInvalid?e.btnEnabled=!1:e.btnEnabled=!0},e.ok=function(a){n.put(l.putUrl,{user:o.user,password:a.oldpass,newPassword:a.newpass}).success(function(n){"BAD_PASSWORD"==n.response?e.oldPasswordInvalid=!0:"OK"==n.response?(e.$emit("successMessage",{title:"Senha alterada",message:"Sua senha foi alterada com sucesso."}),t.close()):t.close()})},e.cancel=function(){t.dismiss()}}],resolve:{}});o.result.then(function(e){a.selected=e});break;case"logout":e.go(l.state)}},r.find("input").on("keypress",function(e){13==e.keyCode&&a.treatUrl()})}}}e.$inject=["$state","GumgaWebStorage","$uibModal","$rootScope"],angular.module("gumga.directives.nav",["ui.bootstrap"]).directive("gumgaNav",e)}(),function(){function e(e,t){var n=['<div class="col-md-12">','   <button type="button" class="btn btn-default" ng-click="newModal()">New</button>','   <ul class="list-group">','       <li ng-repeat="child in children" class="list-group-item">',"           {{::child[property]}}",'           <button type="button" class="btn btn-default pull-right btn-sm" ng-click="newModal(child)"><i class="glyphicon glyphicon-pencil"></i></button>','           <button type="button" class="btn btn-danger pull-right btn-sm" ng-click="removeFromList(child)"><i class="glyphicon glyphicon-remove"></i></button>','       <div class="clearfix"></div></li>',"   <ul>","</div>",'<div class="clearfix"></div>'];return{restrict:"E",template:n.join("\n"),scope:{children:"=",templateUrl:"@",property:"@displayableProperty",name:"@",controller:"@",onDelete:"&?",onValueVisualizationOpened:"&?",onValueVisualizationClosed:"&?",modalTitle:"@"},link:function(n,a,o){function r(e){s.valueVisualizationClosed(),"{}"!==JSON.stringify(n.etty)?n.children.splice(n.children.indexOf(n.etty),1,e):n.children.push(e)}function i(e){s["delete"]({$value:e}),n.children.splice(n.children.indexOf(e),1)}function l(a){n.etty={},a&&(n.etty=a),s.valueVisualizationOpened();var o=e.open({templateUrl:n.templateUrl,controller:n.controller,resolve:{entity:function(){return n.etty},title:function(){return n.name},populateScope:function(){return t.populateScope}}});o.result.then(r)}var s={valueVisualizationOpened:o.onValueVisualizationOpened?n.onValueVisualizationOpened:angular.noop,valueVisualizationClosed:o.onValueVisualizationClosed?n.onValueVisualizationClosed:angular.noop,"delete":o.onDelete?n.onDelete:angular.noop};n.newModal=l,n.removeFromList=i,n.getFromModal=r;o.name||"New";if(!n.children)throw"You must provide a list to GumgaOneToMany";if(!n.templateUrl)throw"You must provide a templateUrl for the modal";if(!n.property)throw"You must provide a property to display in GumgaOneToMany";if(!n.controller)throw"You must provide a controller to the modal"}}}e.$inject=["$uibModal","$populate"],angular.module("gumga.directives.onetomany",["gumga.services.populate"]).directive("gumgaOneToMany",e)}(),function(){function e(){return{restrict:"E",require:"^form",scope:{value:"=?",containsNumbers:"=?",containsUppercase:"=?",containsSymbols:"=?",confirmation:"=?",valueMinLength:"=?",valueMaxLength:"=?"},template:'<div class="form-group has-{{status}} has-feedback"> <label>Password</label> <input type="password" name="password" required="true" class="form-control" ng-model="value"/> <span class="glyphicon {{status===\'error\' ? \'glyphicon-remove\' : \'glyphicon-ok\'}} form-control-feedback" aria-hidden="true"></span></div><div ng-show="confirmation" class="form-group has-{{statusConfirm}} has-feedback"> <label>Confirm Password</label> <input type="password" name="ConfirmPassword" required="{{requiredConfirm}}" class="form-control" ng-change="validateConfirm(confirm)" ng-model="confirm"/> <span class="glyphicon {{statusConfirm===\'error\' ? \'glyphicon-remove\' : \'glyphicon-ok\'}} form-control-feedback" aria-hidden="true"></span></div>',link:function(e,o,r,i){if(e.requiredConfirm=!1,e.status="error",e.statusConfirm="error",e.valueRequired||"boolean"==typeof e.valueRequired||(e.valueRequired=!1),e.containsNumbers||"boolean"==typeof e.containsNumbers||(e.containsNumbers=!1),e.containsUppercase||"boolean"==typeof e.containsUppercase||(e.containsUppercase=!1),e.containsSymbols||"boolean"==typeof e.containsSymbols||(e.containsSymbols=!1),e.confirmation||"boolean"==typeof e.confirmation||(e.confirmation=!1),e.valueMinLength||"number"==typeof e.valueMinLength||(e.valueMinLength=3),e.valueMaxLength||"number"==typeof e.valueMaxLength||(e.valueMaxLength=10),e.valueMinLength>=e.valueMaxLength)throw"O tamanho mínimo da senha tem que ser menor que o valor máximo.";e.confirmation&&(e.requiredConfirm=!0),e.$watch("value",function(t){e.validate(t)}),e.validate=function(o){
o&&t(o,e.containsNumbers)&&a(o,e.containsSymbols)&&n(o,e.containsUppercase)&&o.length>=e.valueMinLength&&o.length<=e.valueMaxLength?(e.status="success",delete i.$error.pattern):(i.$error.pattern=!0,e.status="error")},e.validateConfirm=function(t){e.confirmation&&(t&&t===e.value&&"success"===e.status?e.statusConfirm="success":e.statusConfirm="error")}}}}function t(e,t){return t?/\d/.test(e):!0}function n(e,t){return t?/[A-Z]/.test(e):!0}function a(e,t){return t?/[!@#$%^&*()_+=\[{\]};:<>|./?,-]/.test(e):!0}e.$inject=[],angular.module("gumga.directives.password",[]).directive("gumgaPassword",e)}(),function(){angular.module("gumga.directives.search",["gumga.directives.search.search","gumga.directives.search.normalsearch","gumga.directives.search.advancedsearch","gumga.directives.search.advancedlabel","gumga.directives.search.searchhelper"])}(),function(){function Table(GumgaUtils,$compile,$rootScope,$state,GumgaKeyboard,$timeout){function LinkFn(scope,elm,attrs,ctrl,transcludeFn){function setColumnConfig(e){e.columns.forEach(function(t){var n={label:GumgaUtils.camelCase(t),field:t};e.headings.push({label:n.label,way:null}),e.columns.splice(e.columns.indexOf(t),1,n)}),transcludeFn(function(t){angular.forEach(t,function(t){if("#text"!=t.nodeName)switch(t.nodeName){case"GUMGA-BOOLEAN-MASK":e.columns.forEach(function(e){e.field==t.getAttribute("column")&&$.extend(e,{trueValue:t.getAttribute("boolean-true"),falseValue:t.getAttribute("boolean-false")})});break;case"BUTTONS-COLUMN":scope.buttonElements=t.children,e.headings.push({label:" ",way:null});break;case"EXTRA-COLUMN":scope.extraElements=t.children,e.headings.push({label:" ",way:null});break;case"OBJECT-COLUMN":scope.objectColumn.push({column:t.getAttribute("column"),value:t.getAttribute("property")});break;case"COLUMN-CLASS":scope.conditionalColumns.push({column:t.getAttribute("column"),conditional:t.getAttribute("conditional-class")})}})}),scope.tableconfig=e,generateTable(scope.tableconfig)}function getConditions(){var e=attrs.rowClass||"";return e.replace(/{/,"").replace(/}/,"").split(",")}function generateTable(e){var t=[];if(scope.pages){var n='<select ng-model="itemsPerPage" ng-change="changeItemsPerPage(itemsPerPage)"><option ng-repeat="p in pages" value="{{ p }}" ng-selected="p == itemsPerPage">{{ p }}</option></select>';t.push(n)}switch(e.size){case"large":t.push('<div class="full-width-without-padding"><div class="table-btn"><button class="btn btn-default btn-xs" ng-click="selectAll()">Selecionar todos</button><button class="btn btn-default btn-xs" ng-click="cleanSearch()"> Limpar pesquisa</button></div><table class="table table-'+e["class"]+' ">');break;case"medium":t.push('<div class="col-md-8"<table class="table table-'+e["class"]+'">');break;case"small":t.push('<div class="col-md-4"><table class="table table-'+e["class"]+'">')}t.push("<thead>"),t.push("<tr>"),attrs.sortFunction?(t.push(" <td ng-repeat=\"head in tableconfig.headings track by $index\" ng-click=\"head.label !== ' ' ? sortAux(head) : ''\""),t.push("     ng-class=\"head.label != ' ' ? 'clickable-td' : ' ' \">"),t.push("         <small>{{::head.label}}<i ng-class=\"(head.way != null && head.label !== ' ') ? (head.way === true ? 'glyphicon glyphicon-menu-up' : 'glyphicon glyphicon-menu-down') : ''\"></i></small></td>")):t.push('<td ng-repeat="head in tableconfig.headings track by $index">{{::head.label}}'),t.push(" </td>"),t.push("</tr>"),t.push("</thead>"),t.push("<tbody>"),e.multi===!1?t.push('<tr style="{{::getClassFromConditionalRow(entity)}}" ng-class="returnClass($index)" ng-repeat="entity in tableconfig.list" class="used" ng-click="handleSingle(entity,$index)" ng-dblclick="goToEdit(entity.id)">'+generateTableCell(e)+"</tr>"):t.push('<tr style="{{::getClassFromConditionalRow(entity)}}" ng-class="returnClass($index)" ng-repeat="entity in tableconfig.list" class="used" ng-click="handleMultiple(entity,$index)" ng-dblclick="goToEdit(entity.id)" >'+generateTableCell(e)+"</tr>"),t.push("</tbody>"),t.push("</table></div>"),elm.append($compile(t.join("\n"))(scope))}function checkObject(e){for(var t=0;t<scope.objectColumn.length;t++)if(scope.objectColumn[t].column===e)return"{{::entity."+scope.objectColumn[t].value+"}}";return-1}function getClassFromConditionalCell(e,t){scope.conditionalColumns.forEach(function(t){t.column.toLowerCase().trim()===e.toLowerCase().trim()&&(ColumnObject[t.column]={},t.conditional.replace(/{/,"").replace(/}/,"").split(",").forEach(function(e){var n=e.split(":");ColumnObject[t.column][n[0].trim().replace(/"/g,"")]=n[1].trim()}))})}function generateTableCell(e){var t=[];return e.columns.forEach(function(e){getClassFromConditionalCell(e.field),e.trueValue?t.push("<td style=\"{{::getStyleFromCell(entity,' "+e.field+" ')}}\">{{::entity."+e.field+" === true? '"+e.trueValue+"' : '"+e.falseValue+"'}}</td>"):-1!=checkObject(e.field)?t.push("<td style=\"{{::getStyleFromCell(entity,' "+e.field+" ')}}\">"+checkObject(e.field)+" </td>"):t.push("<td style=\"{{::getStyleFromCell(entity,' "+e.field+" ')}}\">{{::entity."+e.field+"}} </td>")}),scope.buttonElements&&t.push("<td style=\"{{::getStyleFromCell(entity,' "+elm.field+" ')}}\">"+getSpecial(scope.buttonElements)+"</td>"),scope.extraElements&&t.push("<td style=\"{{::getStyleFromCell(entity,' "+elm.field+" ')}}\">"+getSpecial(scope.extraElements)+"</td>"),t.join(" ")}function getSpecial(e){var t=[];return angular.forEach(e,function(e){t.push(e.outerHTML)}),t.join(" ")}var eventHandler={select:attrs.onSelect?scope.onSelect:angular.noop,sort:attrs.onSort?scope.onSort:angular.noop};scope.$on("_clean",function(){scope.cleanSearch()});var ColumnObject={};scope.indexes=[],scope.trs=[],scope.$parent.selectedEntities=[],scope.objectColumn=[],scope.conditionalColumns=[];var rawTableConfig={multi:scope.multi,list:[],pages:scope.pages||[10,25,50],sortFn:attrs.sort?scope.sort:angular.noop,sortDf:attrs.sortDefault?attrs.sortDefault.split(","):!1,size:attrs.size||"large","class":attrs.tableClass||"bordered",columns:attrs.columns.split(","),headings:[],translate:attrs.translateEntity},itemsPerPage=window.sessionStorage.getItem("itemsPerPage")||rawTableConfig.pages[0];scope.itemsPerPage=itemsPerPage,scope.$parent.itemsPerPage=itemsPerPage,scope.$watch("list",function(){scope.list&&(scope.$parent.selectedEntities=[],scope.tableconfig.list=scope.list,scope.indexes=[])}),setColumnConfig(rawTableConfig);var selected=!1;if(scope.goToEdit=function(e){$state.go(scope.tableconfig.translate+".edit",{id:e})},scope.changeItemsPerPage=function(e){window.sessionStorage.setItem("itemsPerPage",e),scope.$parent.itemsPerPage=e},scope.selectAll=function(){if(selected)scope.indexes=[],scope.$parent.selectedEntities=[];else{for(var e=0,t=scope.tableconfig.list.length;t>e;e++)scope.indexes.push(e);scope.$parent.selectedEntities=scope.tableconfig.list}selected=!selected},scope.cleanSearch=function(){$rootScope.$broadcast("normal",{field:scope.tableconfig.columns[1],param:""}),scope.tableconfig.headings.forEach(function(e){e.way=null})},scope.getClassFromConditionalRow=function(entity){var HelperObject={},conditionsFromTag=getConditions();conditionsFromTag.forEach(function(elm){HelperObject[elm.split(":")[0]]=eval(elm.split(":")[1])});for(var key in HelperObject)if(HelperObject.hasOwnProperty(key)&&HelperObject[key]===!0)return"border-left: 3px solid "+key.trim();return""},scope.getStyleFromCell=function(entity,column){if(ColumnObject[column.trim().toLowerCase()]){var auxObj=ColumnObject[column.trim().toLowerCase()];for(var key in auxObj)if(auxObj.hasOwnProperty(key)&&eval(auxObj[key])===!0)return"border-left: 3px solid "+key.trim()}},rawTableConfig.sortDf){var objSortDefault={field:rawTableConfig.sortDf[0],way:rawTableConfig.sortDf[1]};eventHandler.sort({field:objSortDefault.field}),scope.sort(objSortDefault)}scope.sortAux=function(e){scope.tableconfig.headings.forEach(function(t){t!=e&&(t.way!==!0&&t.way!==!1||(t.way=null))});var t=scope.tableconfig.headings.indexOf(e);e.way=!e.way,scope.tableconfig.headings.splice(t,1,e);var n;n=e.way===!0?"asc":"desc",eventHandler.sort({field:e.label.toLowerCase()}),scope.sort({field:e.label.toLowerCase(),way:n})},scope.handleMultiple=function(e,t){GumgaUtils.areNotEqualInArray(scope.indexes,t)||scope.indexes.length<1?(scope.indexes.push(t),scope.$parent.selectedEntities.push(e)):(scope.indexes.splice(scope.indexes.indexOf(t),1),scope.$parent.selectedEntities.splice(scope.$parent.selectedEntities.indexOf(e),1)),eventHandler.select({selected:scope.$parent.selectedEntities})},scope.handleSingle=function(e,t){scope.indexes.length>=1&&(scope.indexes=[],scope.$parent.selectedEntities=[]),scope.selectedIndex=t,scope.indexes.push(t),scope.$parent.selectedEntities.push(e),eventHandler.select({selected:scope.$parent.selectedEntities})},scope.returnClass=function(e){return GumgaUtils.areNotEqualInArray(scope.indexes,e)?"":"info"}}return{restrict:"E",scope:{multi:"=?multiSelection",list:"=values",pages:"=pages",sort:"&?sortFunction",rowClass:"=?",onSelect:"&?",onSort:"&?"},link:LinkFn,transclude:!0}}Table.$inject=["GumgaUtils","$compile","$rootScope","$state","GumgaKeyboard","$timeout"],angular.module("gumga.directives.table",[]).directive("gumgaTable",Table)}(),function(){angular.module("gumga.directives.translate",["gumga.directives.translate.translatehelper","gumga.directives.translate.translate","gumga.directives.translate.translatetag"])}(),function(){function e(e,t,n,a){function o(e,o,c){var u=t(c.attribute),d=u.assign,g=new FileReader;n(function(){var t=o.find("input"),n=o.find("img")[0];t.bind("change",function(){e.$apply(function(){d(e,t[0].files[0]),e.flag=!1,g.onloadend=function(){n.src=g.result,n.width=200,n.height=200;var t=c.attribute.split(".");e.uploadMethod({image:e[t[0]][t[1]]}).then(function(t){e.model.name=t.data})},g.readAsDataURL(t[0].files[0])})})}),e.fireClick=function(){o.find("input")[0].click()},e.$watch("model",function(){e.model?e.model.bytes&&(e.flag=!1,image.src="data:"+e.model.mimeType+";base64,"+e.model.bytes,image.width=200,image.height=200):e.model={}}),c.attribute||console.error("You must pass an attribute to GumgaUpload"),e.flag=!0,e.deleteImage=function(){image.src="",e.flag=!0,element[0].files=[],e.deleteMethod()};var p="";p=p.concat(r),p=e.avatar?p.concat(l):p.concat(i),p=p.concat(s),o.append(a(p)(e))}var r='\n        <div class="full-width-without-padding">\n            <div ng-click="fireClick()" ng-show="flag" class="col-md-1" tooltip="{{::tooltipText}}" tooltip-placement="right">',i='\n        <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="128px" height="128px" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve">\n            <path id="avatar" fill="#cccccc" d="M490.579,383.029c-14.152-22.086-61.763-35.824-108.835-55.453c-47.103-19.633-58.268-26.439-58.268-26.439\n                l-0.445-45.182c0,0,17.646-13.557,23.127-56.074c11.01,3.198,22.619-16.461,23.237-26.824c0.625-9.98-1.508-37.662-14.981-34.877\n                c2.754-20.845,4.741-39.586,3.764-49.505c-3.495-36.295-39.23-74.578-94.182-74.578c-54.95,0-90.7,38.283-94.193,74.578\n                c-0.978,9.919,1.019,28.661,3.758,49.505c-13.455-2.785-15.587,24.897-14.979,34.877c0.635,10.363,12.196,30.021,23.255,26.824\n                c5.462,42.517,23.122,56.074,23.122,56.074l-0.441,45.182c0,0-11.178,6.807-58.268,26.439\n                c-47.104,19.629-94.683,33.367-108.851,55.453c-12.7,19.777-8.882,114.875-8.882,114.875h470.946\n                C499.462,497.904,503.281,402.806,490.579,383.029z"/>\n        </svg>',l='\n        <img id="avatar" ng-src="{{avatar}}" width="128px" height="128px">',s='\n            </div>\n            <img src="#" alt="Uploaded Image" ng-show="!flag" class="img-rounded" />\n            <input type="file" name="upload" id="upload" ng-hide="true"/>\n            <div class="col-md-12">\n                <button type="button" class="btn btn-link" ng-hide="flag" ng-click="deleteImage()"> Delete Image <span class="glyphicon glyphicon-trash"></span></button>\n            </div>\n        </div>';return o.$inject=["$scope","$element","$attrs"],{restrict:"AE",scope:{model:"=attribute",uploadMethod:"&",deleteMethod:"&",tooltipText:"@",avatar:"@"},link:o}}e.$inject=["$http","$parse","$timeout","$compile"],angular.module("gumga.directives.upload",[]).directive("gumgaUpload",e)}(),function(){function e(){return{everyUf:["AC","AL","AM","AP","BA","CE","DF","ES","GO","MA","MG","MS","MT","PA","PB","PE","PI","PR","RJ","RN","RR","RS","SC","SE","SP","TO"],everyLogradouro:["Outros","Aeroporto","Alameda","Área","Avenida","Campo","Chácara","Colônia","Condomínio","Conjunto","Distrito","Esplanada","Estação","Estrada","Favela","Fazenda","Feira","Jardim","Ladeira","Largo","Lago","Lagoa","Loteamento","Núcleo","Parque","Passarela","Pátio","Praça","Quadra","Recanto","Residencial","Rodovia","Rua","Setor","Sítio","Travessa","Trevo","Trecho","Vale","Vereda","Via","Viaduto","Viela","Via"],availableCountries:["Brasil"],returnFormattedObject:function(){return{zipCode:null,premisseType:null,premisse:null,number:null,information:null,neighbourhood:null,localization:null,state:null,country:null}}}}e.$inject=[],angular.module("gumga.services.address",[]).factory("GumgaAddressService",e)}(),function(){function e(){return{$get:function(){return this},__config:{warn:{icon:"glyphicon glyphicon-warning-sign",type:"warning"},danger:{icon:"glyphicon glyphicon-exclamation-sign",type:"danger"},success:{icon:"glyphicon glyphicon-ok",type:"success"},info:{icon:"glyphicon glyphicon-info-sign",type:"info"}},_notify:function(e,t,n,a){var o=this.__config[e],r=a.offset||50,i=a.timer||100,l=a.delay||6e3,s=a.alowDismiss||!0,c=a.animationEnter||"animated bounceInRight",u=a.animationExit||"animated bounceOutRight";$.notify({icon:o.icon,title:t,message:n},{type:e,offset:r,timer:i,delay:l,alow_dismiss:s,z_index:1500,animate:{enter:c,exit:u},template:'<div data-notify="container" class="col-xs-9 col-sm-3 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">×</button><span data-notify="icon"></span> <span data-notify="title"><b>{1}</b></span><br> <span data-notify="message">{2}</span></div>'})},createWarningMessage:function(e,t,n){n||(n={}),this._notify("warn",e,t,n)},createDangerMessage:function(e,t,n){n||(n={}),this._notify("danger",e,t,n)},createSuccessMessage:function(e,t,n){n||(n={}),this._notify("success",e,t,n)},createInfoMessage:function(e,t,n){n||(n={}),this._notify("info",e,t,n)}}}e.$inject=[],angular.module("gumga.services.alert",[]).provider("GumgaAlert",e)}(),function(){function e(e,t){function n(t,n){return n||(n=d),e.get(t,n)}function a(t,n){return e.get(t+"/"+n)}function o(t){return e.get(t+"/new")}function r(e,n){var a=n.map(function(t){return s(e,t)});return t.all(a)}function i(t,n){return e.post(t,n)}function l(t,n){return e.put(t+"/"+n.id,n)}function s(t,n){return e["delete"](t+"/"+n.id)}function c(t,n,a){var o=new FormData;return o.append(n,a),e.post(t+"/"+n+"/",o,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}function u(t,n,a){return e["delete"](t+"/"+n+"/"+a,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}var d={};this.get=n,this.getById=a,this.getNew=o,this.deleteAll=r,this.save=i,this.update=l,this.del=s,this.postImage=c,this.deleteImage=u}e.$inject=["$http","$q"],angular.module("gumga.services.base",[]).service("GumgaBase",e)}(),function(){function e(){return{formats:{DMY:/^(\d{1,2})\-(\d{1,2})\-(\d{4})$/,YMD:/^(\d{4})\-(\d{1,2})\-(\d{1,2})$/},validateFormat:function(e,t){if(!this.formats.hasOwnProperty(e))throw"Formato não suportado";var n=new RegExp(this.formats[e]);if(!n.test(t))throw"A data "+t+" não confere com o formato "+e+".";return n.test(t)}}}e.$inject=[],angular.module("gumga.services.date",[]).factory("GumgaDateService",e)}(),function(){function e(e){var t=this;this.and=this,this.data=[],this.pageSize=10,this.count=0,this.methods={asyncSearch:function(t,n){return e.getSearch(t,n).then(function(e){return e.data.values})},asyncPost:function(n,a){return t.emit("asyncPostStart"),e.save(n)},get:function(){var n=arguments.length<=0||void 0===arguments[0]?1:arguments[0];return t.emit("getStart"),e.get(n).then(function(e){t.emit("getSuccess",e.data),t.data=e.data.values,t.pageSize=e.data.pageSize,t.count=e.data.count},function(e){t.emit("getError",e)}),t},getId:function(){var n=arguments.length<=0||void 0===arguments[0]?0:arguments[0];return t.emit("getIdStart"),e.getById(n).then(function(e){t.emit("getIdSuccess",e.data),t.data=e.data,t.pageSize&&delete t.pageSize,t.count&&delete t.count},function(e){t.emit("getIdError",e)}),t},getNew:function(){return t.emit("getNewStart"),e.getNew().then(function(e){t.emit("getNewSuccess",e.data),t.data=e.data,t.pageSize&&delete t.pageSize,t.count&&delete t.count},function(e){t.emit("getNewError",e)}),t},put:function(n){return t.emit("putStart"),e.update(n).then(function(e){t.emit("putSuccess",e)},function(e){t.emit("putError",e)}),t},post:function(n){return t.emit("postStart"),e.save(n).then(function(e){t.emit("postSuccess",e)},function(e){t.emit("postError",e)}),t},"delete":function(n){return t.emit("deleteStart"),e.deleteCollection(n).then(function(e){t.emit("deleteSuccess",e)},function(e){t.emit("deleteError",e)}),t},sort:function(n,a){return t.emit("sortStart"),e.sort(n,a).then(function(e){t.emit("sortSuccess",e.data),t.data=e.data.values,t.pageSize=e.data.pageSize,t.count=e.data.count},function(e){t.emit("sortError",e)}),t},search:function(n,a){return t.emit("searchStart"),e.getSearch(n,a).then(function(e){t.emit("searchSuccess",e.data),t.data=e.data.values,t.pageSize=e.data.pageSize,t.count=e.data.count},function(e){t.emit("searchError",e)}),t},advancedSearch:function(n){return t.emit("advancedSearchStart"),e.getAdvancedSearch(n).then(function(e){t.emit("advancedSearchSuccess",e.data),t.data=e.data.values,t.pageSize=e.data.pageSize,t.count=e.data.count},function(e){t.emit("advancedSearchError",e)}),t},redoSearch:function(){return t.emit("redoSearchStart"),e.redoSearch().then(function(e){t.emit("redoSearchSuccess",e.data),t.data=e.data.values,t.pageSize=e.data.pageSize,t.count=e.data.count},function(e){t.emit("redoSearchError",e)}),t},postQuery:function(n,a){return t.emit("postQueryStart"),e.saveQuery({query:n,name:a}).then(function(e){t.emit("postQuerySuccess")},function(e){t.emit("postQueryError",e)}),t},getQuery:function(n){return t.emit("getQueryStart"),e.getQuery(n).then(function(e){return t.emit("getQuerySuccess",e.data),e.data.values},function(e){t.emit("getQueryError",e)})},postImage:function(n,a){return t.emit("postImageStart"),e.saveImage(n,a).then(function(e){return t.emit("postImageSuccess"),e},function(e){t.emit("postImageError",e)})},deleteImage:function(n,a){return t.emit("deleteImageStart"),e.deleteImage(n,a).then(function(e){t.emit("deleteImageSuccess")},function(e){t.emit("deleteImageError",e)}),t},reset:function(){return t.emit("resetStart"),e.resetDefaultState(),t},getAvailableTags:function(){return t.emit("getAvailableTagsStart"),e.getAvailableTags()},getSelectedTags:function(n){return t.emit("getSelectedTagsStart"),e.getSelectedTags(n)},postTags:function(n,a){t.emit("postTagStart",a),e.postTags(n,a).then(function(e){t.emit("postTagSuccess",a)},function(e){t.emit("postTagError",a)})},getDocumentationURL:function(){return t.emit("getDocumentationURLStart"),e.getDocumentationURL()}}}function t(){function t(t,n,a){var o=a.constructor;if(!t)throw"É necessário passar um objeto no primeiro parâmetro";if(!n)throw"É necessário passar um objeto no segundo parâmetro";if(o!==Object&&o!==String)throw"É necessário passar um objeto ou uma string no terceiro parâmetro";var r=this._createOptions(a);return r.noScope?new e(n):void(t[r.identifier]=new e(n))}function n(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.constructor===String)return{identifier:e,noScope:!1};var t=angular.extend({},e);if(t.noScope=!!t.noScope,!t.identifier)throw"Você precisa passar um identificador para o objeto de configuração do createRestMethods!";return t}return{createRestMethods:t,_createOptions:n}}e.prototype.callbacks={},e.prototype.and=this,e.prototype.emit=function(e,t){return this.callbacks[e]&&this.callbacks[e].forEach(function(e){e(t)}),this},e.prototype.on=function(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this},e.prototype.execute=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(e.constructor!==String)throw"O primeiro parâmetro deve ser uma string!";if(this.methods[e]){for(var t,n=arguments.length,a=Array(n>1?n-1:0),o=1;n>o;o++)a[o-1]=arguments[o];return(t=this.methods)[e].apply(t,a),this}throw"O nome do método está errado! Por favor coloque um método que está no GumgaController"},t.$inject=[],angular.module("gumga.services.gumgactrl",[]).factory("gumgaController",t)}(),function(){function e(){return{addBind:function(e,t,n){return e&&t?(Mousetrap.bind(e,t,n?n:""),this.__binds.push(e),!0):!1},removeBind:function(e){e&&(Mousetrap.unbind(e),this.__binds.splice(this.__binds.indexOf(e),1))},triggerBoundedEvent:function(e){e&&Mousetrap.trigger(e)},bindToElement:function(e,t,n,a){return e&&t&&n?(Mousetrap(e).bind(t,n,a?a:""),this.__binds.push(t),!0):!1},unbindFromElement:function(e,t){e&&t&&Mousetrap(e).unbind(t)},bindToMultipleElements:function(e,t,n,a){for(var o=0,r=e.length;r>o;o++)t&&n&&(Mousetrap(e[o]).bind(t,n,a?a:""),this.__binds.push(t))},getBinds:function(){return this.__binds},__binds:[]}}e.$inject=[],angular.module("gumga.services.keyboard",[]).factory("GumgaKeyboard",e)}(),function(){function e(){return{aux:[],returnColumnConfig:function(e,t){var n=t.filter(function(t){return t.name.toLowerCase().trim()==e.toLowerCase().trim()})[0]||{};return{title:n.title||e.toUpperCase(),size:n.size||"",name:n.name||e,content:this.contentWithoutParent(n.content,e),sortField:n.sortField||null,conditional:n.conditional||angular.noop}},contentWithoutParent:function(e,t){return e&&-1!=e.indexOf('type="button"')&&-1!=e.indexOf('ng-click="')?e.replace(/ng-click="/gi,'ng-click="$parent.$parent.'):e?e:"{{$value."+t+"}}"},ensureDefaultValues:function(e,t){var n=this;return e.map(function(e,a){return n.returnColumnConfig(e,t)})},loadDefaultColumns:function(e){return Object.keys(e).map(function(e,t){return"__checked"!=e?{title:e.toUpperCase(),size:"",name:"key",content:"{{$value."+e+"}}",sortField:null,conditional:angular.noop}:void 0})},sortColumns:function(e,t){return t.sort(function(t,n){e.indexOf(t.name)-e.indexOf(n.name)})},addCheckbox:function(){return{title:'<label><input type="checkbox" ng-model="vm.checkAll" ng-change="vm.selectAll(vm.checkAll)"/></label>',name:"__checkbox",content:'<input name="__checkbox" type="checkbox" ng-model="$value.__checked"/>',sortField:null,style:"width: .5%; padding-bottom: 0",conditional:angular.noop}},mountTable:function(e){function t(e){return"<span ng-show=\"vm.selectedItem == '"+e+"'\" ng-class=\"vm.selectedItem == '"+e+"' ? (vm.selectedItemDir == 'asc' ? 'dropup' : '' ): ''\"><span class=\"caret\"></span></span>"}function n(e,n,a){return e?'<a type="button" ng-click="vm.sortProxy(\''+a+"',"+"'".concat(a).concat("'")+')">'+n+t(a)+"</a></strong>":n}function a(e,t){return e+='		<th style="'+t.style+'" class="'+t.size+'" ><strong>'+n(!!t.sortField,t.title,t.sortField)+"</strong></th>\n"}function o(e,t){return e+='<td style="white-space: pre-wrap; " ng-style="{borderLeft: {{::vm.conditionalTableCell($value,\''+t.name+"')}} }\">"+t.content+"</td>"}e.checkbox&&e.columns.unshift(this.addCheckbox());var r="";return e.columns=this.sortColumns(e.auxColumnsToSort,e.columns),e.itemsPerPage&&(r+='<div style="width: 4%"><select class="form-control input-sm" ng-options="item for item in vm.config.itemsPerPage" ng-model="vm.$parent.itemsPerPage"></select></div>'),r+='<div class="table-responsive">',r+='<table class="'+e["class"]+'">\n',r+="<thead>",r+="	<tr>\n",r=e.columns.reduce(a.bind(this),r),r+="	</tr>\n",r+="</thead>",r+="<tbody>",r+='<tr ng-style="{borderLeft: {{::vm.conditional($value)}} }"  ng-dblclick="vm.double($value)" ng-class="$value.__checked ? \'active\' : \'\'" ng-repeat="$value in vm.usingData track by $index" ng-click="vm.selectRow($index,$value,$event)" >',r+=e.columns.reduce(o,""),r+="</tr>",r+="</tbody>",r+="</table>\n",r+="</div>"}}}angular.module("gumga.services.listhelper",[]).factory("GumgaListHelper",e)}(),function(){function e(){function e(){return o}function t(e){return o[e]}function n(e){var t=e.split(".");return t[t.length-1]}function a(e,t){return Array.isArray(t)?o[e]?o[e].map(function(e){return t.filter(function(t){return t==e}).length>0})[0]:console.error("Mimetype ("+e+") unknown"):console.error("Accepted formats (var accepted) should be an array")}var o={"application/zip":["zip"],"application/x-zip":["zip"],"application/x-compressed":["zip"],"application/x-zip-compressed":["zip"],"multipart/x-zip":["zip"],"application/x-deb":["deb"],"application/epub+zip":["epub"],"application/font-woff":["woff"],"application/json":["json","map"],"application/json5":["json5"],"application/msword":["doc","dot"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","buffer"],"application/ogg":["ogx"],"application/pdf":["pdf"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/x-bittorrent":["torrent"],"application/x-debian-package":["deb","udeb"],"application/x-msdownload":["exe","dll","com","bat","msi"],"application/x-rar":["rar"],"application/x-rar-compressed":["rar"],"application/x-sh":["sh"],"application/x-sql":["sql"],"application/x-tar":["tar"],"application/x-web-app-manifest+json":["webapp"],"application/xhtml+xml":["xhtml","xht"],"application/xml":["xml","xsl","xsd"],"audio/ogg":["oga","ogg","spx"],"audio/x-flac":["flac"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-wav":["wav"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/g3fax":["g3"],"image/gif":["gif"],"image/ief":["ief"],"image/jpeg":["jpeg","jpg","jpe"],"image/ktx":["ktx"],"image/png":["png"],"image/prs.btif":["btif"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/tiff":["tiff","tif"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/webp":["webp"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["ico"],"image/x-mrsid-image":["sid"],"image/x-pcx":["pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"text/cache-manifest":["appcache","manifest"],"text/css":["css"],"text/csv":["csv"],"text/hjson":["hjson"],"text/html":["html","htm"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/stylus":["stylus","styl"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/webm":["webm"],"video/x-ms-wmv":["wmv"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"]};return{getMimeTypes:e,getExtensionsByMimeType:t,getExtensionByFileName:n,validate:a}}e.$inject=[],angular.module("gumga.services.mimetype",[]).factory("GumgaMimeTypeService",e)}(),function(){function e(e,t){function n(){if(!i)throw"Informe um token.";return new EventSource(l.concat("/source?gumgaToken="+i))}function a(){n().addEventListener("message",function(e){var t=JSON.parse(e.data);return t.newMessages},!1)}function o(){n().addEventListener("message",function(e){var t=JSON.parse(e.data);return t.newMessagesCount},!1)}function r(t){if(!i)throw"Informe um token.";return e.get(l.concat("/viewed/?id="+t+"&gumgaToken="+i))}var i=window.sessionStorage.getItem("token"),l="http://192.168.25.201:8084/security-api/notifications";this.getSource=n,this.newMessages=a,this.newMessagesCount=o,this.isViewedMessage=r}e.$inject=["$http","$q"],angular.module("gumga.services.notification",[]).service("GumgaNotification",e)}(),function(){function e(){var e={isString:function(e){return e&&angular.isString(e)},isArray:function(e){return e&&angular.isArray(e)},isBasicList:function(e){return e&&this.isString(e)&&"basic-list"==e}},t={},n={};return t["base-list"]={get:!0,resetAndGet:!0,getById:!0,update:!0,"delete":!0,sort:!0,search:!0,advancedSearch:!0,saveQuery:!0,getQuery:!0,resetQuery:!0},t["base-form"]={getNew:!0,getById:!0,save:!0,update:!0,saveImage:!0,deleteImage:!0},t["many-to-many"]={search:!0,save:!0,searchAsync:!0,saveAsync:!0},t["many-to-one"]={save:!0,searchAsync:!0,saveAsync:!0},n.searchAsync=function(e,t,n){e[n.toLowerCase()+"AsyncSearch"]=function(e,n){return t.getSearch(e,n).then(function(e){return e.data.values})}},n.getQuery=function(e,t,n){e[n.toLowerCase()+"GetQuery"]=function(e){return t.getQuery(e).then(function(e){return e.data.values})}},n.saveQuery=function(e,t,n){e[n.toLowerCase()+"SaveQuery"]=function(n,a){e.$broadcast("beforeSaveQuery",{query:n,name:a}),t.saveQuery({query:n,name:a}).then(function(t){e.$broadcast("afterSaveQuery",t)},function(t){e.$broadcast("afterSaveQueryError",t)})}},n.saveAsync=function(e,t,n){e[n.toLowerCase()+"AsyncSave"]=function(e,n){var a={};return a[n]=e,t.update(a)}},n.get=function(e,t,n){e[n]={},e.page=0,e[n.toLowerCase()+"Get"]=function(a){e.$broadcast("beforeGet"),t.get(a).then(function(t){e[n].content=t,e.$broadcast("afterGet",t)},function(t){e.$broadcast("afterGetError",t)})},e[n.toLowerCase()+"Get"]()},n.resetAndGet=function(e,t,n){e[n.toLowerCase()+"ResetAndGet"]=function(){e.page=0,e.$broadcast("beforeResetAndGet"),t.resetAndGet().then(function(t){e[n].content=t,e.$broadcast("afterResetAndGet",t)},function(t){e.$broadcast("afterResetAndGetError",t)})}},n.getNew=function(e,t,n){e[n]=e[n]||{},e[n.toLowerCase()+"GetNew"]=function(){e.$broadcast("beforeGetNew"),t.getNew().then(function(t){e.$broadcast("afterGetNew",t),e[n]["new"+n]=t},function(t){e.$broadcast("afterGetNewError",t)})}},n.getById=function(e,t,n){e[n.toLowerCase()+"GetById"]=function(a){e.$broadcast("beforeGetById"),t.getById(a).then(function(t){e[n]["id"+a]=t,e.$broadcast("afterGetById",t)},function(t){e.$broadcast("afterGetByIdError",t)})}},n.save=function(e,t,n){e[n.toLowerCase()+"Save"]=function(n){e.$broadcast("beforeSave",n),t.update(n).then(function(t){e.$broadcast("afterSave",t)},function(t){e.$broadcast("afterSaveError",t)})}},n.update=function(e,t,n){e[n.toLowerCase()+"Update"]=function(n){e.$broadcast("beforeUpdate",n),t.update(n).then(function(t){e.$broadcast("afterUpdate",t);
},function(t){e.$broadcast("afterUpdateError",t)})}},n["delete"]=function(e,t,n){e[n.toLowerCase()+"Delete"]=function(a){e.$broadcast("beforeDelete"),t.deleteCollection(a).then(function(t){e.$broadcast("afterDelete",t),e[n.toLowerCase()+"Get"]()},function(t){e.$broadcast("afterDeleteError",t)})}},n.sort=function(e,t,n){e[n.toLowerCase()+"Sort"]=function(a,o){e.page=0,e.$broadcast("beforeSort"),t.sort(a,o).then(function(t){e[n].content=t,e.$broadcast("afterSort",t)},function(t){e.$broadcast("afterSortError",t)})}},n.saveImage=function(e,t,n){e[n.toLowerCase()+"SaveImage"]=function(n,a){return e.$broadcast("beforeSaveImage"),t.saveImage(n,a)}},n.deleteImage=function(e,t,n){e[n.toLowerCase()+"DeleteImage"]=function(n,a){e.$broadcast("beforeDeleteImage"),t.deleteImage(n,a).then(function(t){e.$broadcast("afterDeleteImage",t)},function(t){e.$broadcast("afterDeleteImageError",t)})}},n.search=function(e,t,n){e[n.toLowerCase()+"Search"]=function(a,o){e.$broadcast("beforeSearch"),t.getSearch(a,o).then(function(t){e[n].content=t,e.$broadcast("afterSearch",t)},function(t){e.$broadcast("afterSearchError",t)})}},n.advancedSearch=function(e,t,n){e[n.toLowerCase()+"AdvancedSearch"]=function(a){e.$broadcast("beforeAdvancedSearch",a),t.getAdvancedSearch(a).then(function(t){e[n].content=t,e.$broadcast("afterAdvancedSearch",t)},function(t){e.$broadcast("afterAdvancedSearchError",t)})}},n.resetQuery=function(e,t,n){e[n.toLowerCase()+"ResetQuery"]=function(){e.page=0,t.resetQuery()}},{setConfig:function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(!e)throw"Você deve passar um nome para o componente $populate";t[e]=n},getConfig:function(e){return t[e]},setMethod:function(a,o,r){if(!e.isString(a))throw"O argumento do nome é inválido";if(!e.isString(o))throw"O argumento da configuração é inválido";t[o][a]=!0,n[a]=r},populateScope:function(e,a,o,r){if(!angular.isDefined(e))throw"The $scope passed for populateScope wasn't defined";if(!angular.isDefined(o))throw"The identifier for populateScope must be passed";if(!angular.isDefined(r))throw"The configuration for populateScope must be passed";if(!angular.isDefined(a))throw"The service for populateScope must be passed";if(t[r]){e[o]={},e[o].content={};var i=t[r];for(var l in i)i.hasOwnProperty(l)&&n[l](e,a,o)}},$get:function(){return this}}}e.$inject=[],angular.module("gumga.services.populate",[]).provider("$populate",e)}(),function(){function e(e,t){function n(e){this._url=e,this._query={params:{start:0,pageSize:10}}}function a(t){if(t&&(this._query.params.start=(t-1)*this._query.params.pageSize,1>t))throw"Invalid page";return e.get(this._url,this._query)}function o(){return e.get(this._url+"/new")}function r(t){return e.get(this._url+"/"+t)}function i(t){return e.post(this._url,t)}function l(t){return t.id?e.put(this._url+"/"+t.id,t):this.save(t)}function s(t){return e["delete"](this._url+"/"+t.id)}function c(){this._query={params:{start:0,pageSize:10}}}function u(){return this.resetDefaultState(),e.get(this._url,this._query)}function d(t,n){return this.resetDefaultState(),this._query.params.sortField=t,this._query.params.sortDir=n,e.get(this._url,this._query)}function g(n){var a=this._url;return t.all(n.map(function(t){return e["delete"](a+"/"+t.id)}))}function p(t,n){var a=new FormData;return a.append(t,n),e.post(this._url+"/"+t+"/",a,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}function m(t){var n=new FormData;return n.append(t,{}),e["delete"](this._url+"/"+t,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}})}function f(e,t){return this.resetDefaultState(),t?angular.noop:t="",this._query.params.q=t,this._query.params.searchFields=e,this.get()}function h(t){return this.resetDefaultState(),"string"==typeof t?(this._query.params.aq=t,e.get(this._url,this._query)):(this._query.params.aq=t.hql,this._query.params.aqo=JSON.stringify(t.source),e.get(this._url,this._query))}function v(){return this._query}function b(){return e.get(this._url,this._query)}function y(t){var n={page:location.hash.replace("#","").replace(/\//gi,"_"),data:JSON.stringify(t.query),name:t.name};return e.post(this._url+"/saq",n)}function $(t){return e.get(this._url+"/gumgauserdata/aq;"+t.replace("#","").replace(/\//gi,"_"))}function w(t){var n=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],a=[];return n.forEach(function(e){var n=angular.copy(e.definition);delete n.attributes,a.push({objectId:t,definition:n,values:e.definition.attributes.map(function(e){var t=angular.copy(e);return delete t.value,{definition:t,value:e.value}})})}),e.post(this._url+"/tags",{tags:a})}function x(){return e.get(this._url+"/tags/")}function S(t){return e.get(this._url+"/tags/"+t)}function k(t,n,a){if(void 0===t&&(t="GET"),void 0===n&&(n=" "),!e[t.toLowerCase().trim()])throw"O método passado como primeiro parâmetro deve ser um método HTTP válido: GET, HEAD, POST, PUT, DELETE, JSONP, PATCH";return e[t.toLowerCase().trim()](""+this._url+n,a)}function T(){var e=this._url.split("");"/"==e[e.length-1]&&e.pop();var t=e.join("").lastIndexOf("/"),n=e.join("").slice(0,t);return n.concat("/proxy/softwarevalues")}return n.prototype.get=a,n.prototype.resetAndGet=u,n.prototype.getNew=o,n.prototype.getById=r,n.prototype.save=i,n.prototype.update=l,n.prototype["delete"]=s,n.prototype.sort=d,n.prototype.deleteCollection=g,n.prototype.saveImage=p,n.prototype.deleteImage=m,n.prototype.getSearch=f,n.prototype.getAdvancedSearch=h,n.prototype.resetDefaultState=c,n.prototype.getStateQuery=v,n.prototype.redoSearch=b,n.prototype.saveQuery=y,n.prototype.getQuery=$,n.prototype.postTags=w,n.prototype.getAvailableTags=x,n.prototype.getSelectedTags=S,n.prototype.extend=k,n.prototype.getDocumentationURL=T,n}e.$inject=["$http","$q"],angular.module("gumga.services.rest",[]).service("GumgaRest",e)}(),function(){function e(){return{$get:function(e){var t=this;return e.get("/i18n/"+t._language+".json").success(function(e){localStorage.setItem("GUMGA"+t._language,JSON.stringify(e)),localStorage.setItem("GUMGACurrent",t._language)}),t},setLanguage:function(e){if(!e)throw"You must pass a language to GumgaTranslate";this._language.toLowerCase()!==e.toLowerCase()?this._language=e:function(){}},_language:"pt-br"}}e.$inject=[],angular.module("gumga.services.translate",["gumga.services.translate.helper"]).provider("$gumgaTranslate",e)}(),function(){function e(){return{_translation:{},__getFromLocalStorage:function(){function e(t,a){for(var o in t)t.hasOwnProperty(o)&&("object"==typeof t[o]?e(t[o],a+"."+o):n._translation[(a+"."+o).substring(1)]=t[o])}var t=localStorage.getItem("GUMGACurrent"),n=this;return t&&localStorage.getItem("GUMGA"+t)?(e(JSON.parse(localStorage.getItem("GUMGA"+t)),""),!0):void 0},getTranslate:function(e){var t=this;if(0===Object.getOwnPropertyNames(t._translation).length&&t.__getFromLocalStorage(),!e||"string"!=typeof e)throw"The value passed to GumgaTranslate is Wrong!";return t._translation[e]?t._translation[e]:e}}}e.$inject=[],angular.module("gumga.services.translate.helper",[]).factory("GumgaTranslateHelper",e)}(),function(){function e(){return{areNotEqualInArray:function(e,t){var n=e.filter(function(e){return e==t});return n.length<1},camelCase:function(e){return e.slice(0,1).toUpperCase()+e.slice(1,e.length)},objInArray:function(e,t){var n=e.filter(function(e){return e.field==t});return n.length>0},checkIndex:function(e,t){var n=-1;return e.forEach(function(e,a){e.field==t&&(n=a)}),n},errorMessages:{max:"You've typed more than the maximum!",min:"You've typed less than the minimum!",req:"This field is required"}}}e.$inject=[],angular.module("gumga.services.utils",[]).factory("GumgaUtils",e)}(),function(){function e(){return{setSessionStorageItem:function(e,t){var n=t;"object"==typeof t&&(n=angular.toJson(t)),window.sessionStorage.setItem(e,n)},getSessionStorageItem:function(e){var t=window.sessionStorage.getItem(e);if(!t)return null;try{angular.fromJson(t)}catch(n){return t}return angular.fromJson(t)},removeSessionStorageItem:function(e){window.sessionStorage.removeItem(e)},clearSessionStorage:function(){window.sessionStorage.clear()},getNumberOfItemsInSessionStorage:function(){return window.sessionStorage.length},setLocalStorageItem:function(e,t){window.localStorage.setItem(e,angular.toJson(t))},getLocalStorageItem:function(e){var t=window.localStorage.getItem(e);try{angular.fromJson(t)}catch(n){return t}return angular.fromJson(t)},removeLocalStorageItem:function(e){window.localStorage.removeItem(e)},clearLocalStorage:function(){window.localStorage.clear()},getNumberOfItemsInLocalStorage:function(){return window.localStorage.length}}}e.$inject=[],angular.module("gumga.services.webstorage",[]).factory("GumgaWebStorage",e)}(),HQLFactory.$inject=["$filter"],angular.module("gumga.query.factory",["gumga.genericfilter"]).factory("HQLFactory",HQLFactory),function(){function e(e,t,n,a){function o(o,r,i,l){function s(){var e='<gumga-filter-core ng-show="openFilter" is-open="true" search="ctrl.proxySearch(param)" '+(i.saveQuery?'save-query="saveQuery(query, name)"':"")+'is-query="true">'+g.possibleAdvancedFields.reduce(function(e,t){return e+=t},"")+"</gumga-filter-core>",t=angular.element(document.getElementById(g.containerAdvanced));t.replaceWith(n(e)(o))}function c(e){var t=arguments.length<=1||void 0===arguments[1]?{keyCode:13}:arguments[1];if(13===t.keyCode){var n=Object.keys(g.mapFields).filter(function(e){return!!g.mapFields[e].checkbox}).reduce(function(e,t){return e+=t.concat(",")},"").slice(0,-1);0!==n.length&&g.search({field:n,param:e})}}function u(t){return e.when(g.savedFilters({page:location.hash}))}function d(e,n,a,r){t(function(){return g.searchField="",o.$broadcast("filter-items",e)})}var g=this,p=function(e){return!!i[e]},m='É necessário um parâmetro field na tag search-field.[<search-field field="foo"></search-field>]',f='É necessário passar uma função para o atributo "search". [search="foo(field, param)"]';g.mapFields={},g.possibleAdvancedFields=[],p("search")||console.error(f),l(function(e){var t=!1,n=o.$parent;if([].slice.call(e).forEach(function(e){if(e&&"ADVANCED-SEARCH-FIELD"===e.nodeName&&g.possibleAdvancedFields.push(e.outerHTML),e&&"SEARCH-FIELD"===e.nodeName){var r=angular.element(e),i=r.attr("field")?r.attr("field"):"",l=!!o.$eval(r.attr("select")),s=r.attr("label")?a(r.attr("label"))(n):i.charAt(0).toUpperCase().concat(i.slice(1));i||console.error(m),l&&(t=!0),g.mapFields[i]={checkbox:l,label:s,field:i}}}),!t){for(var r in g.mapFields)break;r&&(g.mapFields[r].checkbox=!0)}}),g.compileFilter=s,g.doSearch=c,g.proxyFn=u,g.filterSelect=d,g.advancedSearch=p("advancedSearch")?g.advancedSearch:null,g.containerAdvanced=p("containerAdvanced")?g.containerAdvanced:"replaceFilter",g.savedFilters=p("savedFilters")?g.savedFilters:angular.noop,g.searchText=p("searchText")?i.searchText:" ",g.proxySearch=function(e){return g.advancedSearch({param:e})},g.hasQuerySaved=!!i.savedFilters,o.proxySave=function(e,t){return g.saveQuery({query:e,name:t})},g.advancedSearch&&g.compileFilter(),o.$watch("openFilter",function(e){"undefined"!=typeof e&&o.$broadcast("openOrCloseFilter",e)})}var r='\n      <div class="input-group">\n       <input type="text" class="form-control" ng-model="ctrl.searchField" ng-keyup="ctrl.doSearch(ctrl.searchField, $event)" typeahead="item.description for item in ctrl.proxyFn($viewValue)" typeahead-on-select="ctrl.filterSelect($item, $model, $label, $event)" ng-show="ctrl.hasQuerySaved && openFilter"/>\n       <input type="text" class="form-control" ng-model="ctrl.searchField" ng-keyup="ctrl.doSearch(ctrl.searchField, $event)" ng-show="!ctrl.hasQuerySaved || !openFilter" />\n       <span class="input-group-btn" uib-dropdown uib-keyboard-nav auto-close="outsideClick">\n         <button class="btn btn-default" type="button" uib-dropdown-toggle>\n          <span class="glyphicon glyphicon-chevron-down"><span>\n         </button>\n         <ul uib-dropdown-menu role="menu" aria-labelledby="single-button" class="dropdown-menu-search">\n            <li role="menuitem" ng-repeat="(key, $value) in ctrl.mapFields">\n               <a class="no-padding-search-fields">\n                 <label ng-click="$event.stopPropagation()">\n                   <input type="checkbox" ng-model="$value.checkbox" />\n                   <span><b>{{::$value.label}}</b></span>\n                 </label>\n               </a>\n            </li>\n          </ul>\n            <button class="btn btn-default" ng-click="openFilter = !openFilter">\n              <span class="glyphicon glyphicon-filter"></span>\n            </button>\n           <button class="btn btn-primary" type="button" ng-click="ctrl.doSearch(ctrl.searchField)">\n            <span> {{::ctrl.searchText}} </span>\n            <span class="glyphicon glyphicon-search rotate-search-glyph"></span>\n           </button>\n         </span>\n       </div>\n      <div class="row replace-filter">\n        <div class="col-md-12">\n          <div id="replaceFilter"></div>\n        </div>\n      </div>';return o.$inject=["$scope","$element","$attrs","$transclude"],{restrict:"E",scope:{search:"&",advancedSearch:"&?",containerAdvanced:"@?",savedFilters:"&?",saveQuery:"&?"},bindToController:!0,transclude:!0,controllerAs:"ctrl",controller:o,template:r}}e.$inject=["$q","$timeout","$compile","$interpolate"],angular.module("gumga.query.directive",["gumga.query.factory"]).directive("gumgaQuery",e)}(),Popover.$inject=[],angular.module("gumga.tag.controller",[]).controller("PopoverController",Popover),function(){function e(e){return{restrict:"A",scope:!1,require:"^?gumgaForm",link:function(t,n,a,o){t[""+a.name.concat("errors")]={};var r=a.name,i=(a.translationField,'<ol class="list-errors text-danger"><li ng-repeat="(key, value) in '+r.concat("errors")+'" ><label>{{ value }}</li></ol>'),l=t[""+r.concat("errors")];t.$on(r+"-valid",function(e,t){l[t.validationType]?delete l[t.validationType]:angular.noop}),t.$on(r+"-invalid",function(e,t){l[t.validationType]||(l[t.validationType]=t.message)}),n.after(e(i)(t))}}}e.$inject=["$compile"],angular.module("gumga.directives.form.error",[]).directive("gumgaError",e)}(),function(){function e(e){return{restrict:"E",scope:{errors:"=?"},require:"?^gumgaForm",link:function(t,n,a,o){function r(){return Object.keys(t.errors).length>0}function i(e,t,n){for(var a in e)e.hasOwnProperty(a)&&("object"==typeof e[a]?i(e[a],t,a):t[n.concat(a)]=e[a]);return t}function l(){return a.noErrorIcon&&a.icon?"ng-class=\"hasError ? '"+a.icon+"' : '"+a.noErrorIcon+"' \"":!a.noErrorIcon&&a.icon?"ng-class=\"hasError ? '"+a.icon+"' : 'glyphicon glyphicon-ok' \"":a.noErrorIcon&&!a.icon?"ng-class=\"hasError ? 'glyphicon glyphicon-info-sign' : '"+a.noErrorIcon+"' \"":"ng-class=\"hasError ? 'glyphicon glyphicon-info-sign' : 'glyphicon glyphicon-ok' \""}var s=a.title||"Erros",c=a.placement||"bottom";t.errors={},t.$on("form-changed",function(e,n){t.errors=i(o.getFormErrors(),{},"main"),t.hasError=r()});var u='\n				<script type="text/ng-template" id="templatePopover.html">\n					<ol class="list-errors text-danger">\n						<li ng-repeat="(key, value) in errors">{{ value }}</li>\n						</ol>\n				</script>\n				<button popover-placement="'+c+'" uib-popover-template="\'templatePopover.html\'" popover-title="'+s+'" type="button" ng-class="hasError ? \'btn btn-sm btn-danger\' : \'btn btn-sm btn-success\'">';u+=a.hasOwnProperty("labelHidden")?"<i "+l()+"></i>":"<i "+l()+"></i> {{ hasError ? '"+(a.label?a.label:"Lista de erros")+"' : 'Formulário sem erros' }}",u+="</button>",n.append(e(u)(t))}}}e.$inject=["$compile"],angular.module("gumga.directives.form.errors",["ui.bootstrap"]).directive("gumgaErrors",e)}(),function(){function e(){return{restrict:"A",scope:!1,priority:501,require:"form",transclude:!1,controller:["$scope","$element","$attrs","$timeout",function(e,t,n,a){function o(e,t){if(!e)throw"É necessário passar o nome do input [changeInputMessage(inputName, messages)]";if(!t)throw"É necessário passar um objeto com as mensagens [changeInputMessage(inputName, messages)]";var n=Object.keys(t).filter(function(e){return!g[e]}),a=n.length>1;if(n.length>0)throw(a?"Os":"O")+" "+(a?"tipos":"tipo")+" de validação "+(a?n.join(","):n)+" não "+(a?"existem":"existe")+".";return d.customMessage[e]=t,this}function r(t,n,a,o,r){if(r=r||t,!t)throw"É necessário passar um valor válido como primeiro parâmetro [changeStateOfInput(inputName, validationType, inputIsValid, value)]";if(!n)throw"É necessário passar um valor válido como segundo parâmetro [changeStateOfInput(inputName, validationType, inputIsValid, value)]";if(a!==!0&&a!==!1)throw"É necessário passar um booleano como terceiro parâmetro [changeStateOfInput(inputName, validationType, inputIsValid, value)]";var i=d.customMessage[t]?d.customMessage[t]:{},l=i[n]?i[n]:g[n],s=l.replace("{0}",r).replace("{1}",-1!=n.indexOf("range")?"mínimo de "+o[0]+" e máximo de "+o[1]:o),c=void 0;return c=a?{validationType:n}:{message:s,validationType:n},this.updateFormErrors(t,n,a,s),e.$broadcast("form-changed"),e.$broadcast(t+"-"+(a?"":"in")+"valid",c),this}function i(){return angular.copy(g)}function l(){return angular.copy(d.formErrors)}function s(){return n.name}function c(e,t,n,a){var o=d.formErrors;return o[e]&&o[e][t]&&n===!0?(delete o[e][t],this):o[e]&&o[e][t]?this:(d.formErrors[e]||(d.formErrors[e]={}),n||(d.formErrors[e][t]=a),this)}function u(){var t=this,o=arguments.length<=0||void 0===arguments[0]?!0:arguments[0];a(function(){var a=e[n.name].$error,r=[];return Object.keys(a).forEach(function(e){return a[e].forEach(function(t,n){r.push(t),n==a[e].length-1&&(r.forEach(function(t){return t.$setValidity(e,o)}),r=[])})}),t})}var d=this,g={maxdate:"A data especificada no campo {0} não deve ultrapassar o limite de: {1}.",maxlength:"O texto especificado no campo {0} não deve ultrapassar o limite de: {1}.",maxnumber:"O número especificado no campo {0} não deve ultrapassar o limite de: {1}.",mindate:"A data especificada no campo {0} não deve ser menor que o limite mínimo de: {1}.",minlength:"O texto especificado no campo {0} não deve ser menor que o limite mínimo de: {1}.",minnumber:"O número especificado no campo {0} não deve ser menor que o limite mínimo de: {1}.",pattern:"O texto especificado no campo {0} deve estar dentro do padrão: {1}.",rangedate:"A data especificada no campo {0} deve estar dentro do intervalo: {1}.",rangenumber:"O número especificado no campo {0} deve estar dentro do intervalo: {1}.",validatetype:"O valor digitado no campo {0} deve ser do tipo: {1}",required:"O campo {0} é obrigatório."};d.customMessage={},d.formErrors={},d.changeInputMessage=o,d.changeStateOfInput=r,d.getDefaultMessages=i,d.getFormErrors=l,d.getFormName=s,d.setFormValidity=u,d.updateFormErrors=c}]}}e.$inject=[],angular.module("gumga.directives.form.form",[]).directive("gumgaForm",e)}(),function(){function e(e){function t(e,t,n){function a(e,t){for(var n=!0;n;){var a=e,o=t;n=!1;{if(o.nodeName.toLowerCase()==a)return o;e=a,t=o.parentNode,n=!0}}}if(!n.gumgaFormClass)throw"É necessário passar para a directive gumgaFormClass o nome do input com o qual ela está relacionada.";var o=-1!=t[0].outerHTML.split("\n")[0].indexOf("valid-green"),r=a("form",t[0]).name,i=n.gumgaFormClass;e.$watch(r+"."+i+".$invalid",function(){try{if(e[r][i].$valid)return void n.$set("class",o?"form-group has-success":"form-group");n.$set("class","form-group has-error")}catch(t){console.error("O componente GumgaFormClass necessita que o nome passada como parâmetro seja igual ao nome do input.")}})}var n={restrict:"A",link:t,scope:!1};return n}e.$inject=["$compile"],angular.module("gumga.directives.form.class",[]).directive("gumgaFormClass",e)}(),function(){function e(e){return{restrict:"A",require:["ngModel","?^gumgaForm"],link:function(t,n,a,o){function r(t){if(t){var n=e("date")(t,c),a=e("date")(g,c),o=a>=n;i.$setValidity(s,o),l.changeStateOfInput(u,s,o,g,d)}return t}if("date"!=a.type)throw"Esta diretiva suporta apenas inputs do tipo date";if(!a.gumgaMaxDate)throw"O valor da diretiva gumga-max-date não foi informado.";var i=o[0],l=o[1],s="maxdate",c="yyyy-MM-dd",u=a.name,d=a.field,g=a.gumgaMaxDate;i.$parsers.unshift(r),i.$formatters.push(r),a.$observe("gumgaMaxDate",function(){r(i.$viewValue)})}}}e.$inject=["$filter"],angular.module("gumga.directives.form.max.date",[]).directive("gumgaMaxDate",e)}(),function(){function e(){return{restrict:"A",require:["ngModel","?^gumgaForm"],link:function(e,t,n,a){function o(e){if(e){var t=e.length<=u;r.$setValidity(l,t),i.changeStateOfInput(s,l,t,u,c)}return e}if(!n.gumgaMaxLength)throw"O valor da diretiva gumga-max-length não foi informado.";var r=a[0],i=a[1],l="maxlength",s=n.name,c=n.field,u=parseInt(n.gumgaMaxLength);r.$parsers.unshift(o),r.$formatters.push(o),n.$observe("gumgaMaxLength",function(e){return o(r.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.max.length",[]).directive("gumgaMaxLength",e)}(),function(){function e(){return{restrict:"A",require:["ngModel","?^gumgaForm"],link:function(e,t,n,a){function o(e){if(e){var t=parseInt(e)<=u;r.$setValidity(l,t),i.changeStateOfInput(s,l,t,u,c)}return e}if("number"!=n.type)throw"Esta diretiva suporta apenas inputs do tipo number";if(!n.gumgaMaxNumber)throw"O valor da diretiva gumga-max-number não foi informado.";var r=a[0],i=a[1],l="maxnumber",s=n.name,c=n.field,u=parseInt(n.gumgaMaxNumber);r.$parsers.unshift(o),r.$formatters.push(o),n.$observe("gumgaMaxNumber",function(e){return o(r.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.max.number",[]).directive("gumgaMaxNumber",e)}(),function(){function e(e){return{restrict:"A",require:["ngModel","?^gumgaForm"],link:function(t,n,a,o){function r(t){if(t){var n=e("date")(t,c),a=e("date")(g,c),o=n>=a;i.$setValidity(s,o),l.changeStateOfInput(u,s,o,g,d)}return t}if("date"!=a.type)throw"Esta diretiva suporta apenas inputs do tipo date";if(!a.gumgaMinDate)throw"O valor da diretiva gumga-min-date não foi informado.";var i=o[0],l=o[1],s="mindate",c="yyyy-MM-dd",u=a.name,d=a.field,g=a.gumgaMinDate;i.$parsers.unshift(r),i.$formatters.push(r),a.$observe("gumgaMinDate",function(){r(i.$viewValue)})}}}e.$inject=["$filter"],angular.module("gumga.directives.form.min.date",[]).directive("gumgaMinDate",e)}(),function(){function e(){return{restrict:"A",require:["ngModel","?^gumgaForm"],link:function(e,t,n,a){function o(e){if(e){var t=e.length>=u;r.$setValidity(l,t),i.changeStateOfInput(s,l,t,u,c)}return e}if(!n.gumgaMinLength)throw"O valor da diretiva gumga-min-length não foi informado.";var r=a[0],i=a[1],l="minlength",s=n.name,c=n.field,u=parseInt(n.gumgaMinLength);r.$parsers.unshift(o),r.$formatters.push(o),n.$observe("gumgaMinLength",function(e){return o(r.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.min.length",[]).directive("gumgaMinLength",e)}(),function(){function e(){return{restrict:"A",require:["ngModel","?^gumgaForm"],link:function(e,t,n,a){function o(e){if(e){var t=parseInt(e)>=u;r.$setValidity(l,t),i.changeStateOfInput(s,l,t,u,c)}return e}if("number"!=n.type)throw"Esta diretiva suporta apenas inputs do tipo number";if(!n.gumgaMinNumber)throw"O valor da diretiva gumga-min-number não foi informado.";var r=a[0],i=a[1],l="minnumber",s=n.name,c=n.field,u=parseInt(n.gumgaMinNumber);r.$parsers.unshift(o),r.$formatters.push(o),n.$observe("gumgaMinNumber",function(e){return o(r.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.min.number",[]).directive("gumgaMinNumber",e)}(),function(){function e(){return{restrict:"A",require:["ngModel","?^gumgaForm"],link:function(e,t,n,a){function o(e){if(e){var t=u.test(e);r.$setValidity(l,t),i.changeStateOfInput(s,l,t,n.gumgaPattern,c)}return e}if(!n.gumgaPattern)throw"O valor da diretiva gumga-pattern não foi informado.";var r=a[0],i=a[1],l="pattern",s=n.name,c=n.field,u=new RegExp("^"+n.gumgaPattern+"$");r.$parsers.unshift(o),r.$formatters.push(o),n.$observe("gumgaPattern",function(e){return o(r.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.pattern",[]).directive("gumgaPattern",e)}(),function(){function e(e){return{restrict:"A",require:["ngModel","^?gumgaForm"],link:function(t,n,a,o){function r(t){if(t){var n=e("date")(t,c),o=n>=p&&m>=n;u.$setValidity(i,o),d.changeStateOfInput(s,i,o,a.gumgaRangeDate,l)}return t}if("date"!=a.type)throw"Esta diretiva suporta apenas inputs do tipo date";if(!a.gumgaRangeDate)throw"O valor da diretiva gumga-range-date não foi informado.";var i="rangedate",l=a.field,s=a.name,c="yyyy-MM-dd",u=o[0],d=o[1],g=t.$eval(a.gumgaRangeDate),p=e("date")(g.min,c),m=e("date")(g.max,c);u.$parsers.unshift(r),u.$formatters.push(r),a.$observe("gumgaRangeDate",function(e){return r(u.$viewValue)})}}}e.$inject=["$filter"],angular.module("gumga.directives.form.range.date",[]).directive("gumgaRangeDate",e)}(),function(){function e(){return{restrict:"A",require:["ngModel","^?gumgaForm"],link:function(e,t,n,a){function o(e){if(e){var t=parseInt(e),a=t>=s.min&&t<=s.max;i.$setValidity(r,a),l.changeStateOfInput(u,r,a,n.gumgaRangeNumber,c)}return e}if("number"!=n.type)throw"Esta diretiva suporta apenas inputs do tipo number";if(!n.gumgaRangeNumber)throw"O valor da diretiva gumga-range-number não foi informado.";var r="rangenumber",i=a[0],l=a[1],s=e.$eval(n.gumgaRangeNumber),c=n.field,u=n.name;i.$parsers.unshift(o),i.$formatters.push(o),n.$observe("gumgaRangeNumber",function(e){return o(i.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.range.number",[]).directive("gumgaRangeNumber",e)}(),function(){function e(e){return{restrict:"A",require:["ngModel","^?gumgaForm"],link:function(t,n,a,o){function r(n){var o=0==a.gumgaRequired.length?!!(n&&n.length>0):!!e(a.gumgaRequired)(t);return u.changeStateOfInput(l,i,o,null,s),c.$setValidity(i,o),n}var i="required",l=a.name,s=a.field,c=o[0],u=o[1];!function(){var n=0==a.gumgaRequired.length?!!(c.$viewValue&&c.$viewValue.length>0):!!e(a.gumgaRequired)(t);u.changeStateOfInput(l,i,n,null,s),c.$setValidity(i,n)}(),c.$parsers.unshift(r),c.$formatters.push(r),a.$observe("gumgaRequired",function(e){return r(c.$viewValue)})}}}e.$inject=["$interpolate"],angular.module("gumga.directives.form.required",[]).directive("gumgaRequired",e)}(),function(){function e(){return{restrict:"A",require:["ngModel","?^gumgaForm"],link:function(e,t,n,a){function o(e){if(e){var n=t[0].validity.valid;l.$setValidity(i,n),s.changeStateOfInput(u,i,n,r,c)}return e}var r=void 0,i="validatetype",l=a[0],s=a[1],c=n.field,u=n.name;switch(n.type){case"date":r="data";break;case"datetime-local":r="data e hora";break;case"time":r="hora";break;case"week":r="semana";break;case"month":r="mês";break;case"number":r="número";break;case"url":r="URL";break;case"email":r="e-mail";break;default:r="unknown"}if("unknown"==r)throw"Esta diretiva suporta apenas inputs dos tipos date, datetime-local, time, week, month, number, url e email.";l.$parsers.unshift(o),l.$formatters.push(o),n.$observe("gumgaValidateType",function(e){return o(l.$viewValue)})}}}e.$inject=[],angular.module("gumga.directives.form.validate.type",[]).directive("gumgaValidateType",e)}(),function(){function e(){var e='<div class="btn-group">   <button class="btn btn-default btn-xs" ng-disabled="disabled" id="btn{{attr}}" ng-click="orOrAnd(value)"><strong ng-show="attr" gumga-translate-tag="{{label.concat(\'.\').concat(attr)}}"></strong> {{hql}} <strong>{{value}}</strong></button>   <button class="btn btn-default btn-xs" ng-disabled="disabled" ng-click="emitDelete()" ng-if="getVisibility(value)"><span aria-hidden="true">&times;</span></button></div>';return{restrict:"E",template:e,scope:{attr:"@",label:"@translate",hql:"@",value:"=",index:"=",disabled:"="},link:function(e,t,n){n.disabled||(e.disabled=!1),e.bol=!1,e.orOrAnd=function(){"string"!=typeof e.value||"OU"!==e.value.toUpperCase()||e.hql?"E"!==e.value.toUpperCase()||e.hql||(e.value="OU"):e.value="E"},e.emitDelete=function(){e.$emit("deletepls",e.index)},e.getVisibility=function(e){return!("E"==e||"OU"==e)}}}}e.$inject=[],angular.module("gumga.directives.search.advancedlabel",[]).directive("gumgaAdvancedLabel",e)}(),function(){function e(e){function t(t,n,a,o){function r(n){var a=JSON.parse(n.value);t.$emit("advanced",{hql:e.translateArrayToHQL(a),source:a})}if(!t.$parent.normalFields.length>0||!t.$parent.entityToTranslate)throw"Missing some parameters in GumgaSearch";t.searchField="",t.translate=t.$parent.entityToTranslate,t.models={},t.isPanelOpen=!1,t.selectHQL=!1,t.attributes=t.$parent.attributes,t.hqlOpts=[],t.queries=[],t.doQuery=r,t.$on("_doSearch",function(){return 0!=t.queries.length?void t.showArray(t.queries):void(t.searchInputText&&t.doSearch(t.searchInputText))}),t.$on("_focus",function(){return t.isPanelOpen?void document.getElementById("selectableAdvancedValue").focus():void document.getElementById("textMain").focus()}),t.normalFields=t.$parent.normalFields.map(function(e,n){var a=!1;return t.attributes.forEach(function(e){e.selected&&(a=!0)}),a?t.models[e]=t.attributes[n].selected||!1:(t.models[e]=!1,0==n&&(t.models[e]=!0)),{name:e.slice(0,1).toUpperCase()+e.slice(1,e.length).toLowerCase(),value:e}}),t.$on("showPanel",function(){t.isPanelOpen=!t.isPanelOpen,t.$apply()}),t.models.returnString=function(){var e="";for(var n in this)this.hasOwnProperty(n)&&"returnString"!=n&&this[n]&&(e+=n+",");return 0==e.length?t.normalFields[0].value:e.slice(0,-1)},t.$watch("isPanelOpen",function(){t.isPanelOpen===!0?t.selectAttribute=!0:t.queries=[],t.query={}}),t.attributeHasChanged=function(n){switch(t.query.attribute=n,n.type){case"boolean":t.typeInput="checkbox";break;case"array":t.typeInput="array";break;default:t.typeInput="text"}try{t.hqlOpts=e.getTypeListOfHQLPossibilities(n.type)}catch(a){}"array"==t.typeInput&&angular.element(document.getElementById("")),t.selectHQL=!0,t.selectAttribute=!1},t.handleHqlOption=function(e){t.query.hql=e,t.selectHQL=!1},angular.element(document.getElementById("selectableAdvancedValue")).on("keydown",function(e){13==e.keyCode&&e.target.value.length>0&&t.addQuery(t.query),t.$apply()}),angular.element(document.getElementById("textMain")).on("keydown",function(e){13==e.keyCode&&e.target.value.length>0&&(t.$emit("normal",{field:t.models.returnString(),param:t.searchInputText||""}),t.littlePanelAppears&&(t.littlePanelAppears=!t.littlePanelAppears))}),t.addQuery=function(e){t.query.value&&t.query.hql&&t.query.attribute&&(0===t.queries.length?t.queries.push(e):t.queries.length>=1&&t.queries.splice(t.queries.length,1,{value:"E"},e),t.query={},t.typeInput="text")},t.$on("deletepls",function(e,n){0==n&&1==t.queries.length?t.queries.splice(n,1):0==n&&t.queries.length>2?t.queries.splice(n,2):n>0&&t.queries.length>2&&t.queries.splice(n-1,2)}),t.showArray=function(n){t.isPanelOpen=!1,t.$emit("advanced",{hql:e.translateArrayToHQL(n),source:n})},t.doSearch=function(e,n){n||t.$emit("normal",{field:t.models.returnString(),param:e||""}),n&&13==n.keyCode&&t.$emit("normal",{field:t.models.returnString(),param:e||""})},t.attributes.forEach(function(e){"array"==e.type&&(e.data=e.data.map(function(t){return t[e.arrayItemContent]}))})}var n='\n			<div class="input-group">\n			<span class="input-group-btn" dropdown is-open="status.isopen" ng-show="$parent.saveQuery">\n				<span dropdown on-toggle="toggled(open)">\n					<a href id="simple-dropdown" class="btn btn-default" dropdown-toggle>\n						<i class="glyphicon glyphicon-hourglass"></i>\n					</a>\n					<ul class="dropdown-menu menu-save-query" aria-labelledby="simple-dropdown">\n						<li ng-repeat="choice in $parent.availableQueries">\n							<a href ng-click="doQuery(choice)">{{choice.description}}</a>\n						</li>\n					</ul>\n				</span>\n			</span>\n				<input type="text" ng-model="searchInputText" class="form-control" ng-disabled="isPanelOpen" id="textMain" ng-keyup="doSearch(searchInputText, $event)"/>\n				<span class="input-group-btn">\n          <button class="my-button btn-default" type="button" ng-click="littlePanelAppears = !littlePanelAppears">\n						<span class="glyphicon glyphicon-chevron-down"></span>\n					</button>\n          <button class="my-button btn-default" type="button" ng-click="isPanelOpen = !isPanelOpen">\n						<span class="glyphicon glyphicon-filter"></span>\n					</button>\n          <button class="my-button btn-primary last" type="button" ng-disabled="isPanelOpen" ng-click="doSearch(searchInputText)">\n						<span class="glyphicon glyphicon-search"></span> <span gumga-translate-tag="search.searchbutton"></span>\n					</button>\n	      </span>\n			</div>\n			<div class="panel panel-down" ng-show="isPanelOpen">\n				<div class="panel-body">\n					<div class="row">\n						<div class="col-md-3">\n							<div class="list-holder">\n								<ul class="list-selectable" ng-show="selectAttribute">\n									<li ng-repeat="attr in attributes" ng-click="attributeHasChanged(attr)" class="hover-list">\n										<button class="btn btn-link">\n											<span gumga-translate-tag="{{translate.concat(\'.\').concat(attr.translate)}}"></span>\n										</button>\n									</li>\n								</ul>\n							</div>\n\n							<button type="button" class="btn btn-default btn-block" ng-click="selectAttribute = !selectAttribute" >\n\n								<span ng-if="query.attribute" gumga-translate-tag="{{entityToTranslate.concat(\'.\').concat(query.attribute.translate)}}"></span>\n								<span ng-hide="query.attribute">Atributos</span>\n								<span class="caret"></span>\n							</button>\n						</div>\n					<div class="col-md-3">\n						<div class="list-holder">\n							<ul class="list-selectable" ng-show="selectHQL">\n								<li ng-repeat="opt in hqlOpts" class="hover-list" ng-click="handleHqlOption(opt)">\n									<button class="btn btn-link">{{opt.label}}</button>\n								</li>\n							</ul>\n						</div>\n						<button type="button" class="btn btn-default btn-block" ng-click="selectHQL = !selectHQL">\n							{{ query.hql.label || \'Condição\'  }} <span class="caret"></span>\n						</button>\n					</div>\n					<div class="col-md-4" id="">\n						<input ng-show="typeInput == \'checkbox\'" type="checkbox" class="form-control" ng-model="query.value" ng-true-value="\'true\'" ng-false-value="\'false\'" id="selectableAdvancedValue" />\n						<input ng-show="typeInput == \'text\'" type="text" class="form-control" ng-model="query.value" id="selectableAdvancedValue" />\n						<select ng-show="typeInput == \'array\'"  class="form-control" ng-model="query.value" ng-options="item for item in query.attribute.data">\n						</select>\n					</div>\n					<div class="col-md-2">\n						<button type="button" class="btn btn-default btn-block" ng-click="addQuery(query)" ng-disabled="!query.value || !query.hql || !query.attribute">\n							<span class="glyphicon glyphicon-plus"></span>\n						</button>\n					</div>\n				</div>\n				<hr/>\n				<div class="panel-body">\n					<div class="row">\n						<div class="col-md-10">\n     					<gumga-advanced-label ng-repeat="query in queries" attr="{{query.attribute.name}}" translate="{{translate}}" hql="{{query.hql.label}}" value="query.value" index="$index">\n     					</gumga-advanced-label>\n						</div>\n						<div class="col-md-2">\n							<button class="btn btn-primary btn-block" type="button" ng-disabled="queries.length == 0" ng-click="showArray(queries)">\n								<span class="glyphicon glyphicon-search"></span>\n							</button>\n	       		</div>\n					</div>\n				</div>\n				<div class="clearfix"></div>\n			</div>\n			</div>\n			<div class="little-panel" ng-show="littlePanelAppears ">\n				<div class="panel-body">\n					<label ng-repeat="field in normalFields" for="{{\'gumga_normalFields\'.concat(field.value)}}">\n						<input type="checkbox" id="{{\'gumga_normalFields\'.concat(field.value)}}" ng-model="models[field.value]" >\n						<span gumga-translate-tag="{{translate.concat(\'.\').concat(field.value)}}">{{field.value | gumgaTranslate:translate}}</span>\n					</label>\n				</div>\n			</div>\n		';
return{restrict:"E",template:n,scope:!1,require:"^?gumgaSearch",link:t}}e.$inject=["GumgaSearchHelper"],angular.module("gumga.directives.search.advancedsearch",["gumga.directives.search.searchhelper","gumga.translate.filter.filter"]).directive("gumgaAdvancedSearch",e)}(),function(){function e(){var e='<div class="input-group">   <input type="text" class="form-control" ng-model="searchField" placeholder="{{\'searchbutton\' | gumgaTranslate:\'search\'}}" ng-keyup="doSearch(searchField, $event)"/>   <span class="input-group-btn">       <button class="my-button btn-default" ng-click="showLittlePanel = !showLittlePanel"><span class="glyphicon glyphicon-chevron-down"></span></button>       <button class="my-button btn-primary last" type="button" ng-click="doSearch(searchField)" ><span gumga-translate-tag="search.searchbutton"></span> <span class="glyphicon glyphicon-search"></span></button>   </span></div><div class="little-panel" ng-show="showLittlePanel">   <div class="panel-body">       <label ng-repeat="field in normalFields">				<input type="checkbox" ng-model="models[field.value]" ><span gumga-translate-tag="{{translate.concat(\'.\').concat(field.value)}}"></span></label>   </div></div>';return{restrict:"E",template:e,link:function(e,t,n){if(!e.$parent.normalFields.length>0||!e.$parent.entityToTranslate)throw"Missing some parameters in GumgaSearch";e.models={},e.searchField="",e.translate=e.$parent.entityToTranslate,e.normalFields=e.$parent.normalFields.map(function(t,n){return e.models[t]=!1,0==n&&(e.models[t]=!0),{name:t.slice(0,1).toUpperCase()+t.slice(1,t.length).toLowerCase(),value:t}}),e.models.returnString=function(){var t="";for(var n in this)this.hasOwnProperty(n)&&"returnString"!=n&&this[n]&&(t+=n+",");return 0==t.length?e.normalFields[0].value:t.slice(0,-1)},t.find("input").bind("keypress",function(t){13==t.keyCode&&e.searchField.length>0&&(e.$emit("normal",{field:e.models.returnString(),param:e.searchField}),e.showLittlePanel&&(e.showLittlePanel=!e.showLittlePanel))}),e.doSearch=function(t,n){n||e.$emit("normal",{field:e.models.returnString(),param:t||""}),n&&13==n.keyCode&&e.$emit("normal",{field:e.models.returnString(),param:t||""})}}}}e.$inject=[],angular.module("gumga.directives.search.normalsearch",[]).directive("gumgaNormalSearch",e)}(),function(){function e(){var e='<div class="full-width-without-padding">     <div ng-if="!adv">         <gumga-normal-search></gumga-normal-search>     </div>     <div ng-if="adv">         <gumga-advanced-search></gumga-advanced-search>     </div></div>';return{restrict:"E",template:e,transclude:!0,priority:50,scope:{advanced:"&advancedMethod",normal:"&searchMethod",onSearch:"&",onAdvancedSearch:"&",getQueries:"&?"},link:function(e,t,n,a,o){if(e.adv=!1,e.attributes=[],e.normalFields=n.fields.split(","),e.entityToTranslate=n.translateEntity,e.$parent.searchQueries=[],e.availableQueries=[],e.saveQuery=!1,n.getQueries){e.saveQuery=!0;try{e.getQueries({page:location.hash}).then(function(t){e.availableQueries=t})}catch(r){throw"The return from getQueries must be asynchronous"}}var i={search:n.onSearch?e.onSearch:angular.noop,advanced:n.onAdvancedSearch?e.onAdvancedSearch:angular.noop};"true"===n.advanced&&(e.adv=!0),e.getAttributes=function(){o(function(t){angular.forEach(t,function(t){if("ADVANCED-FIELD"==t.nodeName){var n={name:t.getAttribute("name"),type:t.getAttribute("type"),selected:"true"==t.getAttribute("selected"),translate:t.getAttribute("translate")||t.getAttribute("name")};"array"==t.getAttribute("type").trim().toLowerCase()&&(n.data=e.$parent[t.getAttribute("data")]||[],n.arrayItemContent=t.getAttribute("array-item-content")),e.attributes.push(n)}})})},e.$on("advanced",function(t,n){e.$parent.searchQueries=[],e.$parent.searchQueries=n.source,e.advanced({param:n}),i.advanced()}),e.$on("normal",function(t,n){e.normal({field:n.field,param:n.param}),i.search()}),e.getAttributes()}}}e.$inject=[],angular.module("gumga.directives.search.search",[]).directive("gumgaSearch",e)}(),function(){function e(){var e={string:{HQLPossibilities:[{hql:"eq",label:"igual",before:"='",after:"'"},{hql:"ne",label:"diferente de",before:"!='",after:"'"},{hql:"contains",label:"contém",before:" like '%",after:"%'"},{hql:"not_contains",label:"não contém",before:" not like '%",after:"%'"},{hql:"starts_with",label:"começa com",before:" like '",after:"%'"},{hql:"ends_with",label:"termina com",before:" like '%",after:"'"},{hql:"ge",label:"maior igual",before:">='",after:"'"},{hql:"le",label:"menor igual",before:"<='",after:"'"}]},number:{HQLPossibilities:[{hql:"eq",label:"igual",before:"=",after:""},{hql:"ne",label:"diferente de",before:"!=",after:""},{hql:"gt",label:"maior que",before:">",after:""},{hql:"ge",label:"maior igual",before:">=",after:""},{hql:"lt",label:"menor que",before:"<",after:""},{hql:"le",label:"menor igual",before:"<=",after:""}]},money:{HQLPossibilities:[{hql:"eq",label:"igual",before:"=",after:""},{hql:"ne",label:"diferente de",before:"!=",after:""},{hql:"gt",label:"maior que",before:">",after:""},{hql:"ge",label:"maior igual",before:">=",after:""},{hql:"lt",label:"menor que",before:"<",after:""},{hql:"le",label:"maior igual",before:"<=",after:""}]},"boolean":{HQLPossibilities:[{hql:"eq",label:"igual",before:"='",after:"'"}]},date:{HQLPossibilities:[{hql:"eq",label:"igual",before:"='",after:"'"},{hql:"ge",label:"maior igual",before:">='",after:"'"},{hql:"le",label:"menor igual",before:"<='",after:"'"}]},array:{HQLPossibilities:[{hql:"eq",label:"igual",before:"='",after:"'"},{hql:"ne",label:"diferente de",before:"!='",after:"'"}]}};return{getTypeListOfHQLPossibilities:function(t){if(angular.isDefined(e[t]))return e[t].HQLPossibilities;throw"Type doesn't exist"},translateArrayToHQL:function(e){return e.map(function(e){return(angular.isDefined(e.attribute)?"obj."+e.attribute.name:"*")+""+(angular.isDefined(e.hql)?e.hql.before:" *")+e.value+(angular.isDefined(e.hql)?e.hql.after:" *")}).map(function(e){return-1!=e.indexOf("*")?e.replace(/\*/g,""):e}).join("")}}}e.$inject=[],angular.module("gumga.directives.search.searchhelper",[]).factory("GumgaSearchHelper",e)}(),function(){function e(e,t,n){return{restrict:"AEC",scope:!1,priority:9999,link:function(n,a,o){var r=o.gumgaTranslate.toLowerCase()||navigator.language.toLowerCase();e.get("./i18n/"+r+".json").success(function(e){t.setTranslators(r,e)})}}}e.$inject=["$http","TranslateHelper","$timeout"],angular.module("gumga.directives.translate.translate",["gumga.directives.translate.translatehelper"]).directive("gumgaTranslate",e)}(),function(){function e(e){return{translators:{},setTranslators:function(e,t){function n(e,t){for(var o in e)e.hasOwnProperty(o)&&("object"==typeof e[o]?n(e[o],t+"."+o):a.translators[(t+"."+o).substring(1).toLowerCase()]=e[o])}var a=this;n(t,""),sessionStorage.setItem("language",angular.toJson(this.translators))},returnTranslation:function(e){return this.translators[e.toLowerCase().replace(/\s/g,"")]}}}e.$inject=["$timeout"],angular.module("gumga.directives.translate.translatehelper",[]).factory("TranslateHelper",e)}(),function(){function e(e,t,n){return{restrict:"A",link:function(a,o,r){if(!r.gumgaTranslateTag)throw"You must pass a valid value to gumgaTranslateTag";n(function(){var n=e.returnTranslation(r.gumgaTranslateTag)||r.gumgaTranslateTag;o[0].childNodes.length>0&&"#text"!=o[0].childNodes[0].nodeName?(a.child=o[0].childNodes[0],o[0].innerHTML=n,o.append(t(a.child)(a))):o[0].innerHTML=n||o[0].innerHTML})}}}e.$inject=["TranslateHelper","$compile","$timeout"],angular.module("gumga.directives.translate.translatetag",["gumga.directives.translate.translatehelper"]).directive("gumgaTranslateTag",e)}(),controller.$inject=["$scope","$element","$attrs","$transclude","$q","$rootScope"],gumgaTag.$inject=[],angular.module("gumga.tag.tag",[]).directive("gumgaTag",gumgaTag),gumgaTagColumn.$inject=[],angular.module("gumga.tag.column",[]).directive("gumgaTagColumn",gumgaTagColumn),gumgaUnityTag.$inject=["$templateCache","$compile","$rootScope","$timeout"],angular.module("gumga.tag.unity",[]).directive("gumgaUnityTag",gumgaUnityTag);